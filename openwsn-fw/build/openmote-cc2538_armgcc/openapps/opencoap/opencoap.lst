   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"opencoap.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.rodata
  19              		.align	2
  22              	rreg_uriquery:
  23 0000 683D7563 		.ascii	"h=ucb\000"
  23      6200
  24 0006 0000     		.align	2
  27              	infoBoardname:
  28 0008 43433235 		.ascii	"CC2538\000"
  28      333800
  29 000f 00       		.align	2
  32              	infouCName:
  33 0010 43433235 		.ascii	"CC2538\000"
  33      333800
  34 0017 00       		.align	2
  37              	infoRadioName:
  38 0018 43433235 		.ascii	"CC2538 SoC\000"
  38      33382053 
  38      6F4300
  39 0023 00       		.align	2
  42              	infoStackName:
  43 0024 4F70656E 		.ascii	"OpenWSN \000"
  43      57534E20 
  43      00
  44 002d 000000   		.align	2
  47              	ipAddr_ipsoRD:
  48 0030 26       		.byte	38
  49 0031 07       		.byte	7
  50 0032 F7       		.byte	-9
  51 0033 40       		.byte	64
  52 0034 00       		.byte	0
  53 0035 00       		.byte	0
  54 0036 00       		.byte	0
  55 0037 3F       		.byte	63
  56 0038 00       		.byte	0
  57 0039 00       		.byte	0
  58 003a 00       		.byte	0
  59 003b 00       		.byte	0
  60 003c 00       		.byte	0
  61 003d 00       		.byte	0
  62 003e 0E       		.byte	14
  63 003f 29       		.byte	41
  64              		.align	2
  67              	ipAddr_motesEecs:
  68 0040 20       		.byte	32
  69 0041 01       		.byte	1
  70 0042 04       		.byte	4
  71 0043 70       		.byte	112
  72 0044 00       		.byte	0
  73 0045 66       		.byte	102
  74 0046 00       		.byte	0
  75 0047 19       		.byte	25
  76 0048 00       		.byte	0
  77 0049 00       		.byte	0
  78 004a 00       		.byte	0
  79 004b 00       		.byte	0
  80 004c 00       		.byte	0
  81 004d 00       		.byte	0
  82 004e 00       		.byte	0
  83 004f 02       		.byte	2
  84              		.align	2
  87              	ipAddr_local:
  88 0050 26       		.byte	38
  89 0051 07       		.byte	7
  90 0052 F1       		.byte	-15
  91 0053 40       		.byte	64
  92 0054 04       		.byte	4
  93 0055 00       		.byte	0
  94 0056 10       		.byte	16
  95 0057 36       		.byte	54
  96 0058 4D       		.byte	77
  97 0059 CD       		.byte	-51
  98 005a AB       		.byte	-85
  99 005b 54       		.byte	84
 100 005c 81       		.byte	-127
 101 005d 99       		.byte	-103
 102 005e C1       		.byte	-63
 103 005f F7       		.byte	-9
 104              		.align	2
 107              	ipAddr_motedata:
 108 0060 20       		.byte	32
 109 0061 01       		.byte	1
 110 0062 04       		.byte	4
 111 0063 70       		.byte	112
 112 0064 00       		.byte	0
 113 0065 66       		.byte	102
 114 0066 00       		.byte	0
 115 0067 17       		.byte	23
 116 0068 00       		.byte	0
 117 0069 00       		.byte	0
 118 006a 00       		.byte	0
 119 006b 00       		.byte	0
 120 006c 00       		.byte	0
 121 006d 00       		.byte	0
 122 006e 00       		.byte	0
 123 006f 02       		.byte	2
 124              		.align	2
 127              	ipAddr_ringmaster:
 128 0070 BB       		.byte	-69
 129 0071 BB       		.byte	-69
 130 0072 00       		.byte	0
 131 0073 00       		.byte	0
 132 0074 00       		.byte	0
 133 0075 00       		.byte	0
 134 0076 00       		.byte	0
 135 0077 00       		.byte	0
 136 0078 00       		.byte	0
 137 0079 00       		.byte	0
 138 007a 00       		.byte	0
 139 007b 00       		.byte	0
 140 007c 00       		.byte	0
 141 007d 00       		.byte	0
 142 007e 00       		.byte	0
 143 007f 01       		.byte	1
 144              		.align	2
 147              	linklocalprefix:
 148 0080 FE       		.byte	-2
 149 0081 80       		.byte	-128
 150 0082 00       		.byte	0
 151 0083 00       		.byte	0
 152 0084 00       		.byte	0
 153 0085 00       		.byte	0
 154 0086 00       		.byte	0
 155 0087 00       		.byte	0
 156              		.align	2
 159              	all_routers_multicast:
 160 0088 FF       		.byte	-1
 161 0089 02       		.byte	2
 162 008a 00       		.byte	0
 163 008b 00       		.byte	0
 164 008c 00       		.byte	0
 165 008d 00       		.byte	0
 166 008e 00       		.byte	0
 167 008f 00       		.byte	0
 168 0090 00       		.byte	0
 169 0091 00       		.byte	0
 170 0092 00       		.byte	0
 171 0093 00       		.byte	0
 172 0094 00       		.byte	0
 173 0095 00       		.byte	0
 174 0096 00       		.byte	0
 175 0097 1A       		.byte	26
 176              		.comm	opencoap_vars,64,4
 177              		.text
 178              		.align	2
 179              		.global	opencoap_init
 180              		.thumb
 181              		.thumb_func
 183              	opencoap_init:
 184              	.LFB0:
 185              		.file 1 "build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c"
   1:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "opendefs.h"
   2:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "opencoap.h"
   3:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "openoscoap.h"
   4:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "openqueue.h"
   5:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "openserial.h"
   6:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "openrandom.h"
   7:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "packetfunctions.h"
   8:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "idmanager.h"
   9:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "opentimers.h"
  10:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "scheduler.h"
  11:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "cryptoengine.h"
  12:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** #include "icmpv6rpl.h"
  13:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  14:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //=========================== defines =========================================
  15:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  16:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //=========================== variables =======================================
  17:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  18:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** opencoap_vars_t opencoap_vars;
  19:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  20:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //=========================== prototype =======================================
  21:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_header_encode(OpenQueueEntry_t *msg,
  22:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t version,
  23:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_type_t type,
  24:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t TKL,
  25:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_code_t code,
  26:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint16_t messageID,
  27:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t *token);
  28:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  29:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_handle_proxy_scheme(OpenQueueEntry_t *msg,
  30:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_header_iht* header,
  31:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht* incomingOptions,
  32:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t incomingOptionsLen);
  33:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  34:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_handle_stateless_proxy(OpenQueueEntry_t *msg,
  35:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_header_iht* header,
  36:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht* incomingOptions,
  37:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t incomingOptionsLen);
  38:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  39:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_add_stateless_proxy_option(coap_option_iht* option,
  40:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t* address,
  41:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t addressLen,
  42:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint16_t portNumber);
  43:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  44:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_forward_message(OpenQueueEntry_t *msg,
  45:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_header_iht* header,
  46:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht* outgoinOptions,
  47:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t outgoingOptionsLen,
  48:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         open_addr_t* destIP,
  49:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint16_t destPortNumber);
  50:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  51:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //=========================== public ==========================================
  52:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  53:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //===== from stack
  54:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  55:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
  56:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Initialize this module.
  57:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
  58:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_init(void) {
 186              		.loc 1 58 0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 8
 189              		@ frame_needed = 1, uses_anonymous_args = 0
 190 0000 80B5     		push	{r7, lr}
 191              		.cfi_def_cfa_offset 8
 192              		.cfi_offset 7, -8
 193              		.cfi_offset 14, -4
 194 0002 82B0     		sub	sp, sp, #8
 195              		.cfi_def_cfa_offset 16
 196 0004 00AF     		add	r7, sp, #0
 197              		.cfi_def_cfa_register 7
  59:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint16_t rand;
  60:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t pos;
  61:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  62:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    pos = 0;
 198              		.loc 1 62 0
 199 0006 0023     		movs	r3, #0
 200 0008 FB71     		strb	r3, [r7, #7]
  63:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  64:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // initialize the resource linked list
  65:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_vars.resources     = NULL;
 201              		.loc 1 65 0
 202 000a 194B     		ldr	r3, .L4
 203 000c 0022     		movs	r2, #0
 204 000e 1A61     		str	r2, [r3, #16]
  66:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  67:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // initialize the messageID
  68:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_vars.messageID     = openrandom_get16b();
 205              		.loc 1 68 0
 206 0010 FFF7FEFF 		bl	openrandom_get16b
 207 0014 0346     		mov	r3, r0
 208 0016 1A46     		mov	r2, r3
 209 0018 154B     		ldr	r3, .L4
 210 001a DA82     		strh	r2, [r3, #22]	@ movhi
  69:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  70:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // stateless proxy vars
  71:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  72:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //generate a key at random
  73:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    while (pos<16) {
 211              		.loc 1 73 0
 212 001c 10E0     		b	.L2
 213              	.L3:
  74:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        rand = openrandom_get16b();
 214              		.loc 1 74 0
 215 001e FFF7FEFF 		bl	openrandom_get16b
 216 0022 0346     		mov	r3, r0
 217 0024 BB80     		strh	r3, [r7, #4]	@ movhi
  75:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        memcpy(&opencoap_vars.statelessProxy.key[pos],&rand,2);
 218              		.loc 1 75 0
 219 0026 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 220 0028 1833     		adds	r3, r3, #24
 221 002a 114A     		ldr	r2, .L4
 222 002c 1A44     		add	r2, r2, r3
 223 002e 3B1D     		adds	r3, r7, #4
 224 0030 1046     		mov	r0, r2
 225 0032 1946     		mov	r1, r3
 226 0034 0222     		movs	r2, #2
 227 0036 FFF7FEFF 		bl	memcpy
  76:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        pos+=2;
 228              		.loc 1 76 0
 229 003a FB79     		ldrb	r3, [r7, #7]
 230 003c 0233     		adds	r3, r3, #2
 231 003e FB71     		strb	r3, [r7, #7]
 232              	.L2:
  73:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        rand = openrandom_get16b();
 233              		.loc 1 73 0
 234 0040 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 235 0042 0F2B     		cmp	r3, #15
 236 0044 EBD9     		bls	.L3
  77:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
  78:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // init sequence number to zero
  79:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_vars.statelessProxy.sequenceNumber = 0;
 237              		.loc 1 79 0
 238 0046 0A4B     		ldr	r3, .L4
 239 0048 0022     		movs	r2, #0
 240 004a 83F83F20 		strb	r2, [r3, #63]
  80:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  81:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // register at UDP stack
  82:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_vars.desc.port              = WKP_UDP_COAP;
 241              		.loc 1 82 0
 242 004e 084B     		ldr	r3, .L4
 243 0050 41F23362 		movw	r2, #5683
 244 0054 1A80     		strh	r2, [r3]	@ movhi
  83:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_vars.desc.callbackReceive   = &opencoap_receive;
 245              		.loc 1 83 0
 246 0056 064B     		ldr	r3, .L4
 247 0058 064A     		ldr	r2, .L4+4
 248 005a 5A60     		str	r2, [r3, #4]
  84:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_vars.desc.callbackSendDone  = opencoap_sendDone;
 249              		.loc 1 84 0
 250 005c 044B     		ldr	r3, .L4
 251 005e 064A     		ldr	r2, .L4+8
 252 0060 9A60     		str	r2, [r3, #8]
  85:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    openudp_register(&opencoap_vars.desc);
 253              		.loc 1 85 0
 254 0062 0348     		ldr	r0, .L4
 255 0064 FFF7FEFF 		bl	openudp_register
  86:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 256              		.loc 1 86 0
 257 0068 0837     		adds	r7, r7, #8
 258              		.cfi_def_cfa_offset 8
 259 006a BD46     		mov	sp, r7
 260              		.cfi_def_cfa_register 13
 261              		@ sp needed
 262 006c 80BD     		pop	{r7, pc}
 263              	.L5:
 264 006e 00BF     		.align	2
 265              	.L4:
 266 0070 00000000 		.word	opencoap_vars
 267 0074 00000000 		.word	opencoap_receive
 268 0078 00000000 		.word	opencoap_sendDone
 269              		.cfi_endproc
 270              	.LFE0:
 272              		.align	2
 273              		.global	opencoap_receive
 274              		.thumb
 275              		.thumb_func
 277              	opencoap_receive:
 278              	.LFB1:
  87:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  88:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
  89:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Indicate a CoAP messages was received.
  90:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  91:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** A "CoAP message" is simply a UDP datagram received on the CoAP UDP port.
  92:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  93:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** This function will call the appropriate resource, and send back its answer. The
  94:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** received packetbuffer is reused to contain the response (or error code).
  95:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
  96:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] msg The received CoAP message.
  97:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
  98:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_receive(OpenQueueEntry_t* msg) {
 279              		.loc 1 98 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 232
 282              		@ frame_needed = 1, uses_anonymous_args = 0
 283 007c B0B5     		push	{r4, r5, r7, lr}
 284              		.cfi_def_cfa_offset 16
 285              		.cfi_offset 4, -16
 286              		.cfi_offset 5, -12
 287              		.cfi_offset 7, -8
 288              		.cfi_offset 14, -4
 289 007e BEB0     		sub	sp, sp, #248
 290              		.cfi_def_cfa_offset 264
 291 0080 04AF     		add	r7, sp, #16
 292              		.cfi_def_cfa 7, 248
 293 0082 7860     		str	r0, [r7, #4]
  99:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint16_t                  temp_l4_destination_port;
 100:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t                   index;
 101:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_resource_desc_t*     temp_desc;
 102:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    bool                      found;
 103:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    owerror_t                 outcome = 0;
 294              		.loc 1 103 0
 295 0084 0023     		movs	r3, #0
 296 0086 87F8E230 		strb	r3, [r7, #226]
 104:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_type_t               response_type;
 105:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // local variables passed to the handlers (with msg)
 106:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header_iht           coap_header;
 107:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_iht           coap_incomingOptions[MAX_COAP_OPTIONS];
 108:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_iht           coap_outgoingOptions[MAX_COAP_OPTIONS];
 109:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t                   coap_incomingOptionsLen;
 110:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t                   coap_outgoingOptionsLen;
 111:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t                   option_count;
 112:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t                   option_index;
 113:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    owerror_t                 decStatus;
 114:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_iht*          objectSecurity;
 115:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_iht*          proxyScheme;
 116:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_iht*          statelessProxy;
 117:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint16_t                  rcvdSequenceNumber;
 118:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t*                  rcvdKid;
 119:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t                   rcvdKidLen;
 120:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    oscoap_security_context_t* blindContext;
 121:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_code_t               securityReturnCode;
 122:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_class_t       class;
 123:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 124:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // init options len
 125:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_incomingOptionsLen = MAX_COAP_OPTIONS;
 297              		.loc 1 125 0
 298 008a 0A23     		movs	r3, #10
 299 008c FB75     		strb	r3, [r7, #23]
 126:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_outgoingOptionsLen = 0;
 300              		.loc 1 126 0
 301 008e 0023     		movs	r3, #0
 302 0090 BB75     		strb	r3, [r7, #22]
 127:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    class = COAP_OPTION_CLASS_ALL;
 303              		.loc 1 127 0
 304 0092 0323     		movs	r3, #3
 305 0094 87F8CE30 		strb	r3, [r7, #206]
 128:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 129:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // init returnCode
 130:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    securityReturnCode = COAP_CODE_EMPTY;
 306              		.loc 1 130 0
 307 0098 0023     		movs	r3, #0
 308 009a 87F8CF30 		strb	r3, [r7, #207]
 131:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 132:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // take ownership over the received packet
 133:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->owner                = COMPONENT_OPENCOAP;
 309              		.loc 1 133 0
 310 009e 7B68     		ldr	r3, [r7, #4]
 311 00a0 1822     		movs	r2, #24
 312 00a2 5A70     		strb	r2, [r3, #1]
 134:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 135:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== step 1. parse the packet
 136:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 137:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // parse the CoAP header and remove from packet
 138:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    index = 0;
 313              		.loc 1 138 0
 314 00a4 0023     		movs	r3, #0
 315 00a6 87F8CD30 		strb	r3, [r7, #205]
 139:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header.Ver           = (msg->payload[index] & 0xc0) >> 6;
 316              		.loc 1 139 0
 317 00aa 7B68     		ldr	r3, [r7, #4]
 318 00ac 5A68     		ldr	r2, [r3, #4]
 319 00ae 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 320 00b2 1344     		add	r3, r3, r2
 321 00b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 322 00b6 9B09     		lsrs	r3, r3, #6
 323 00b8 DBB2     		uxtb	r3, r3
 324 00ba 87F8B830 		strb	r3, [r7, #184]
 140:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header.T             = (coap_type_t)((msg->payload[index] & 0x30) >> 4);
 325              		.loc 1 140 0
 326 00be 7B68     		ldr	r3, [r7, #4]
 327 00c0 5A68     		ldr	r2, [r3, #4]
 328 00c2 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 329 00c6 1344     		add	r3, r3, r2
 330 00c8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 331 00ca 03F03003 		and	r3, r3, #48
 332 00ce 1B11     		asrs	r3, r3, #4
 333 00d0 DBB2     		uxtb	r3, r3
 334 00d2 87F8B930 		strb	r3, [r7, #185]
 141:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header.TKL           = (msg->payload[index] & 0x0f);
 335              		.loc 1 141 0
 336 00d6 7B68     		ldr	r3, [r7, #4]
 337 00d8 5A68     		ldr	r2, [r3, #4]
 338 00da 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 339 00de 1344     		add	r3, r3, r2
 340 00e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 341 00e2 03F00F03 		and	r3, r3, #15
 342 00e6 DBB2     		uxtb	r3, r3
 343 00e8 87F8BA30 		strb	r3, [r7, #186]
 142:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    index++;
 344              		.loc 1 142 0
 345 00ec 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 346 00f0 0133     		adds	r3, r3, #1
 347 00f2 87F8CD30 		strb	r3, [r7, #205]
 143:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header.Code          = (coap_code_t)(msg->payload[index]);
 348              		.loc 1 143 0
 349 00f6 7B68     		ldr	r3, [r7, #4]
 350 00f8 5A68     		ldr	r2, [r3, #4]
 351 00fa 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 352 00fe 1344     		add	r3, r3, r2
 353 0100 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 354 0102 87F8BB30 		strb	r3, [r7, #187]
 144:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    index++;
 355              		.loc 1 144 0
 356 0106 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 357 010a 0133     		adds	r3, r3, #1
 358 010c 87F8CD30 		strb	r3, [r7, #205]
 145:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header.messageID     = msg->payload[index]*256+msg->payload[index+1];
 359              		.loc 1 145 0
 360 0110 7B68     		ldr	r3, [r7, #4]
 361 0112 5A68     		ldr	r2, [r3, #4]
 362 0114 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 363 0118 1344     		add	r3, r3, r2
 364 011a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 365 011c 9BB2     		uxth	r3, r3
 366 011e 1B02     		lsls	r3, r3, #8
 367 0120 9AB2     		uxth	r2, r3
 368 0122 7B68     		ldr	r3, [r7, #4]
 369 0124 5968     		ldr	r1, [r3, #4]
 370 0126 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 371 012a 0133     		adds	r3, r3, #1
 372 012c 0B44     		add	r3, r3, r1
 373 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 374 0130 9BB2     		uxth	r3, r3
 375 0132 1344     		add	r3, r3, r2
 376 0134 9BB2     		uxth	r3, r3
 377 0136 A7F8BC30 		strh	r3, [r7, #188]	@ movhi
 146:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    index+=2;
 378              		.loc 1 146 0
 379 013a 97F8CD30 		ldrb	r3, [r7, #205]
 380 013e 0233     		adds	r3, r3, #2
 381 0140 87F8CD30 		strb	r3, [r7, #205]
 147:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 148:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // reject unsupported header
 149:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (coap_header.Ver!=COAP_VERSION || coap_header.TKL>COAP_MAX_TKL) {
 382              		.loc 1 149 0
 383 0144 97F8B830 		ldrb	r3, [r7, #184]	@ zero_extendqisi2
 384 0148 012B     		cmp	r3, #1
 385 014a 03D1     		bne	.L7
 386              		.loc 1 149 0 is_stmt 0 discriminator 1
 387 014c 97F8BA30 		ldrb	r3, [r7, #186]	@ zero_extendqisi2
 388 0150 082B     		cmp	r3, #8
 389 0152 0BD9     		bls	.L8
 390              	.L7:
 150:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openserial_printError(
 151:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          COMPONENT_OPENCOAP,ERR_WRONG_TRAN_PROTOCOL,
 152:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          (errorparameter_t)0,
 153:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          (errorparameter_t)coap_header.Ver
 391              		.loc 1 153 0 is_stmt 1
 392 0154 97F8B830 		ldrb	r3, [r7, #184]	@ zero_extendqisi2
 150:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openserial_printError(
 393              		.loc 1 150 0
 394 0158 9BB2     		uxth	r3, r3
 395 015a 1820     		movs	r0, #24
 396 015c 0621     		movs	r1, #6
 397 015e 0022     		movs	r2, #0
 398 0160 FFF7FEFF 		bl	openserial_printError
 154:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       );
 155:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openqueue_freePacketBuffer(msg);
 399              		.loc 1 155 0
 400 0164 7868     		ldr	r0, [r7, #4]
 401 0166 FFF7FEFF 		bl	openqueue_freePacketBuffer
 156:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       return;
 402              		.loc 1 156 0
 403 016a D8E3     		b	.L6
 404              	.L8:
 157:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 158:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 159:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // record the token
 160:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    memcpy(&coap_header.token[0], &msg->payload[index], coap_header.TKL);
 405              		.loc 1 160 0
 406 016c 7B68     		ldr	r3, [r7, #4]
 407 016e 5A68     		ldr	r2, [r3, #4]
 408 0170 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 409 0174 1A44     		add	r2, r2, r3
 410 0176 97F8BA30 		ldrb	r3, [r7, #186]	@ zero_extendqisi2
 411 017a 1C46     		mov	r4, r3
 412 017c 07F1B803 		add	r3, r7, #184
 413 0180 0633     		adds	r3, r3, #6
 414 0182 1846     		mov	r0, r3
 415 0184 1146     		mov	r1, r2
 416 0186 2246     		mov	r2, r4
 417 0188 FFF7FEFF 		bl	memcpy
 161:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    index += coap_header.TKL;
 418              		.loc 1 161 0
 419 018c 97F8BA20 		ldrb	r2, [r7, #186]	@ zero_extendqisi2
 420 0190 97F8CD30 		ldrb	r3, [r7, #205]
 421 0194 1344     		add	r3, r3, r2
 422 0196 87F8CD30 		strb	r3, [r7, #205]
 162:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 163:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // remove the CoAP header
 164:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    packetfunctions_tossHeader(msg,index);
 423              		.loc 1 164 0
 424 019a 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 425 019e 7868     		ldr	r0, [r7, #4]
 426 01a0 1946     		mov	r1, r3
 427 01a2 FFF7FEFF 		bl	packetfunctions_tossHeader
 165:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 166:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // parse options and toss header
 167:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    index = opencoap_options_parse(&msg->payload[0], msg->length, coap_incomingOptions, &coap_incomi
 428              		.loc 1 167 0
 429 01a6 7B68     		ldr	r3, [r7, #4]
 430 01a8 5868     		ldr	r0, [r3, #4]
 431 01aa 7B68     		ldr	r3, [r7, #4]
 432 01ac 197A     		ldrb	r1, [r3, #8]	@ zero_extendqisi2
 433 01ae 07F16802 		add	r2, r7, #104
 434 01b2 07F11703 		add	r3, r7, #23
 435 01b6 FFF7FEFF 		bl	opencoap_options_parse
 436 01ba 0346     		mov	r3, r0
 437 01bc 87F8CD30 		strb	r3, [r7, #205]
 168:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 169:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // toss options
 170:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    packetfunctions_tossHeader(msg,index);
 438              		.loc 1 170 0
 439 01c0 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 440 01c4 7868     		ldr	r0, [r7, #4]
 441 01c6 1946     		mov	r1, r3
 442 01c8 FFF7FEFF 		bl	packetfunctions_tossHeader
 171:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 172:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // process handled options
 173:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //== Stateless Proxy option
 174:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    option_count = opencoap_find_option(coap_incomingOptions, coap_incomingOptionsLen, COAP_OPTION_N
 443              		.loc 1 174 0
 444 01cc FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 445 01ce 07F16801 		add	r1, r7, #104
 446 01d2 07F11503 		add	r3, r7, #21
 447 01d6 0846     		mov	r0, r1
 448 01d8 1146     		mov	r1, r2
 449 01da 2822     		movs	r2, #40
 450 01dc FFF7FEFF 		bl	opencoap_find_option
 451 01e0 0346     		mov	r3, r0
 452 01e2 87F8CC30 		strb	r3, [r7, #204]
 175:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if(option_count >= 1) {
 453              		.loc 1 175 0
 454 01e6 97F8CC30 		ldrb	r3, [r7, #204]	@ zero_extendqisi2
 455 01ea 002B     		cmp	r3, #0
 456 01ec 07D0     		beq	.L10
 176:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****      statelessProxy = &coap_incomingOptions[option_index];
 457              		.loc 1 176 0
 458 01ee 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 459 01f0 07F16802 		add	r2, r7, #104
 460 01f4 DB00     		lsls	r3, r3, #3
 461 01f6 1344     		add	r3, r3, r2
 462 01f8 C7F8D430 		str	r3, [r7, #212]
 463 01fc 02E0     		b	.L11
 464              	.L10:
 177:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 178:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****      statelessProxy = NULL;
 465              		.loc 1 178 0
 466 01fe 0023     		movs	r3, #0
 467 0200 C7F8D430 		str	r3, [r7, #212]
 468              	.L11:
 179:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 180:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (statelessProxy) {
 469              		.loc 1 180 0
 470 0204 D7F8D430 		ldr	r3, [r7, #212]
 471 0208 002B     		cmp	r3, #0
 472 020a 0BD0     		beq	.L12
 181:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        opencoap_handle_stateless_proxy(msg, &coap_header, coap_incomingOptions, coap_incomingOption
 473              		.loc 1 181 0
 474 020c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 475 020e 07F1B801 		add	r1, r7, #184
 476 0212 07F16802 		add	r2, r7, #104
 477 0216 7868     		ldr	r0, [r7, #4]
 478 0218 FFF7FEFF 		bl	opencoap_handle_stateless_proxy
 182:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        openqueue_freePacketBuffer(msg);
 479              		.loc 1 182 0
 480 021c 7868     		ldr	r0, [r7, #4]
 481 021e FFF7FEFF 		bl	openqueue_freePacketBuffer
 183:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        return;
 482              		.loc 1 183 0
 483 0222 7CE3     		b	.L6
 484              	.L12:
 184:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 185:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 186:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //== Proxy Scheme option
 187:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    option_count = opencoap_find_option(coap_incomingOptions, coap_incomingOptionsLen, COAP_OPTION_N
 485              		.loc 1 187 0
 486 0224 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 487 0226 07F16801 		add	r1, r7, #104
 488 022a 07F11503 		add	r3, r7, #21
 489 022e 0846     		mov	r0, r1
 490 0230 1146     		mov	r1, r2
 491 0232 2722     		movs	r2, #39
 492 0234 FFF7FEFF 		bl	opencoap_find_option
 493 0238 0346     		mov	r3, r0
 494 023a 87F8CC30 		strb	r3, [r7, #204]
 188:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if(option_count >= 1) {
 495              		.loc 1 188 0
 496 023e 97F8CC30 		ldrb	r3, [r7, #204]	@ zero_extendqisi2
 497 0242 002B     		cmp	r3, #0
 498 0244 07D0     		beq	.L13
 189:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****      proxyScheme = &coap_incomingOptions[option_index];
 499              		.loc 1 189 0
 500 0246 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 501 0248 07F16802 		add	r2, r7, #104
 502 024c DB00     		lsls	r3, r3, #3
 503 024e 1344     		add	r3, r3, r2
 504 0250 C7F8D830 		str	r3, [r7, #216]
 505 0254 02E0     		b	.L14
 506              	.L13:
 190:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 191:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****      proxyScheme = NULL;
 507              		.loc 1 191 0
 508 0256 0023     		movs	r3, #0
 509 0258 C7F8D830 		str	r3, [r7, #216]
 510              	.L14:
 192:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 193:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (proxyScheme) {
 511              		.loc 1 193 0
 512 025c D7F8D830 		ldr	r3, [r7, #216]
 513 0260 002B     		cmp	r3, #0
 514 0262 0BD0     		beq	.L15
 194:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         opencoap_handle_proxy_scheme(msg, &coap_header, coap_incomingOptions, coap_incomingOptionsL
 515              		.loc 1 194 0
 516 0264 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 517 0266 07F1B801 		add	r1, r7, #184
 518 026a 07F16802 		add	r2, r7, #104
 519 026e 7868     		ldr	r0, [r7, #4]
 520 0270 FFF7FEFF 		bl	opencoap_handle_proxy_scheme
 195:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         openqueue_freePacketBuffer(msg);
 521              		.loc 1 195 0
 522 0274 7868     		ldr	r0, [r7, #4]
 523 0276 FFF7FEFF 		bl	openqueue_freePacketBuffer
 196:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         return;
 524              		.loc 1 196 0
 525 027a 50E3     		b	.L6
 526              	.L15:
 197:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 198:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 199:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 200:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //== Object Security Option
 201:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    option_count = opencoap_find_option(coap_incomingOptions, coap_incomingOptionsLen, COAP_OPTION_N
 527              		.loc 1 201 0
 528 027c FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 529 027e 07F16801 		add	r1, r7, #104
 530 0282 07F11503 		add	r3, r7, #21
 531 0286 0846     		mov	r0, r1
 532 0288 1146     		mov	r1, r2
 533 028a 1522     		movs	r2, #21
 534 028c FFF7FEFF 		bl	opencoap_find_option
 535 0290 0346     		mov	r3, r0
 536 0292 87F8CC30 		strb	r3, [r7, #204]
 202:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if(option_count >= 1) {
 537              		.loc 1 202 0
 538 0296 97F8CC30 		ldrb	r3, [r7, #204]	@ zero_extendqisi2
 539 029a 002B     		cmp	r3, #0
 540 029c 07D0     		beq	.L16
 203:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****      objectSecurity = &coap_incomingOptions[option_index];
 541              		.loc 1 203 0
 542 029e 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 543 02a0 07F16802 		add	r2, r7, #104
 544 02a4 DB00     		lsls	r3, r3, #3
 545 02a6 1344     		add	r3, r3, r2
 546 02a8 C7F8DC30 		str	r3, [r7, #220]
 547 02ac 02E0     		b	.L17
 548              	.L16:
 204:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 205:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****      objectSecurity = NULL;
 549              		.loc 1 205 0
 550 02ae 0023     		movs	r3, #0
 551 02b0 C7F8DC30 		str	r3, [r7, #220]
 552              	.L17:
 206:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 207:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (objectSecurity) {
 553              		.loc 1 207 0
 554 02b4 D7F8DC30 		ldr	r3, [r7, #220]
 555 02b8 002B     		cmp	r3, #0
 556 02ba 5FD0     		beq	.L18
 208:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        if ((objectSecurity->length == 0 && msg->length == 0) ||
 557              		.loc 1 208 0
 558 02bc D7F8DC30 		ldr	r3, [r7, #220]
 559 02c0 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 560 02c2 002B     		cmp	r3, #0
 561 02c4 03D1     		bne	.L19
 562              		.loc 1 208 0 is_stmt 0 discriminator 1
 563 02c6 7B68     		ldr	r3, [r7, #4]
 564 02c8 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 565 02ca 002B     		cmp	r3, #0
 566 02cc 08D0     		beq	.L20
 567              	.L19:
 209:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                (objectSecurity->length != 0 && msg->length != 0)) {
 568              		.loc 1 209 0 is_stmt 1 discriminator 3
 569 02ce D7F8DC30 		ldr	r3, [r7, #220]
 570 02d2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 208:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        if ((objectSecurity->length == 0 && msg->length == 0) ||
 571              		.loc 1 208 0 discriminator 3
 572 02d4 002B     		cmp	r3, #0
 573 02d6 04D0     		beq	.L21
 574              		.loc 1 209 0
 575 02d8 7B68     		ldr	r3, [r7, #4]
 576 02da 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 577 02dc 002B     		cmp	r3, #0
 578 02de 00D0     		beq	.L21
 579              	.L20:
 210:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // malformated object security message
 211:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             return;
 580              		.loc 1 211 0
 581 02e0 1DE3     		b	.L6
 582              	.L21:
 212:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        }
 213:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 214:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        if (objectSecurity->length == 0) {
 583              		.loc 1 214 0
 584 02e2 D7F8DC30 		ldr	r3, [r7, #220]
 585 02e6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 586 02e8 002B     		cmp	r3, #0
 587 02ea 1CD1     		bne	.L22
 215:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            index = openoscoap_parse_compressed_COSE(&msg->payload[0],
 588              		.loc 1 215 0
 589 02ec 7B68     		ldr	r3, [r7, #4]
 590 02ee 5868     		ldr	r0, [r3, #4]
 591 02f0 7B68     		ldr	r3, [r7, #4]
 592 02f2 197A     		ldrb	r1, [r3, #8]	@ zero_extendqisi2
 593 02f4 07F11202 		add	r2, r7, #18
 594 02f8 07F10C04 		add	r4, r7, #12
 595 02fc 07F10B03 		add	r3, r7, #11
 596 0300 0093     		str	r3, [sp]
 597 0302 2346     		mov	r3, r4
 598 0304 FFF7FEFF 		bl	openoscoap_parse_compressed_COSE
 599 0308 0346     		mov	r3, r0
 600 030a 87F8CD30 		strb	r3, [r7, #205]
 216:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    msg->length,
 217:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    &rcvdSequenceNumber,
 218:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    &rcvdKid,
 219:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    &rcvdKidLen);
 220:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            if (index == 0) {
 601              		.loc 1 220 0
 602 030e 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 603 0312 002B     		cmp	r3, #0
 604 0314 00D1     		bne	.L23
 221:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                return;
 605              		.loc 1 221 0
 606 0316 02E3     		b	.L6
 607              	.L23:
 222:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            }
 223:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            packetfunctions_tossHeader(msg, index);
 608              		.loc 1 223 0
 609 0318 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 610 031c 7868     		ldr	r0, [r7, #4]
 611 031e 1946     		mov	r1, r3
 612 0320 FFF7FEFF 		bl	packetfunctions_tossHeader
 613 0324 2AE0     		b	.L18
 614              	.L22:
 224:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        }
 225:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        else {
 226:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            index = openoscoap_parse_compressed_COSE(objectSecurity->pValue,
 615              		.loc 1 226 0
 616 0326 D7F8DC30 		ldr	r3, [r7, #220]
 617 032a 5868     		ldr	r0, [r3, #4]
 618 032c D7F8DC30 		ldr	r3, [r7, #220]
 619 0330 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 620 0332 07F11202 		add	r2, r7, #18
 621 0336 07F10C04 		add	r4, r7, #12
 622 033a 07F10B03 		add	r3, r7, #11
 623 033e 0093     		str	r3, [sp]
 624 0340 2346     		mov	r3, r4
 625 0342 FFF7FEFF 		bl	openoscoap_parse_compressed_COSE
 626 0346 0346     		mov	r3, r0
 627 0348 87F8CD30 		strb	r3, [r7, #205]
 227:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    objectSecurity->length,
 228:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    &rcvdSequenceNumber,
 229:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    &rcvdKid,
 230:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                    &rcvdKidLen);
 231:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 232:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            if (index == 0) {
 628              		.loc 1 232 0
 629 034c 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 630 0350 002B     		cmp	r3, #0
 631 0352 00D1     		bne	.L24
 233:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                return;
 632              		.loc 1 233 0
 633 0354 E3E2     		b	.L6
 634              	.L24:
 234:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            }
 235:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            objectSecurity->length -= index;
 635              		.loc 1 235 0
 636 0356 D7F8DC30 		ldr	r3, [r7, #220]
 637 035a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 638 035c 97F8CD30 		ldrb	r3, [r7, #205]
 639 0360 D31A     		subs	r3, r2, r3
 640 0362 DAB2     		uxtb	r2, r3
 641 0364 D7F8DC30 		ldr	r3, [r7, #220]
 642 0368 5A70     		strb	r2, [r3, #1]
 236:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            objectSecurity->pValue += index;
 643              		.loc 1 236 0
 644 036a D7F8DC30 		ldr	r3, [r7, #220]
 645 036e 5A68     		ldr	r2, [r3, #4]
 646 0370 97F8CD30 		ldrb	r3, [r7, #205]	@ zero_extendqisi2
 647 0374 1A44     		add	r2, r2, r3
 648 0376 D7F8DC30 		ldr	r3, [r7, #220]
 649 037a 5A60     		str	r2, [r3, #4]
 650              	.L18:
 237:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        }
 238:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 239:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 240:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== step 2. find the resource to handle the packet
 241:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 242:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // find the resource this applies to
 243:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    found = FALSE;
 651              		.loc 1 243 0
 652 037c 0023     		movs	r3, #0
 653 037e 87F8E330 		strb	r3, [r7, #227]
 244:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 245:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (
 246:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code>=COAP_CODE_REQ_GET &&
 654              		.loc 1 246 0
 655 0382 97F8BB30 		ldrb	r3, [r7, #187]	@ zero_extendqisi2
 245:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code>=COAP_CODE_REQ_GET &&
 656              		.loc 1 245 0
 657 0386 002B     		cmp	r3, #0
 658 0388 00F05181 		beq	.L25
 247:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code<=COAP_CODE_REQ_DELETE
 659              		.loc 1 247 0
 660 038c 97F8BB30 		ldrb	r3, [r7, #187]	@ zero_extendqisi2
 246:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code<=COAP_CODE_REQ_DELETE
 661              		.loc 1 246 0
 662 0390 042B     		cmp	r3, #4
 663 0392 00F24C81 		bhi	.L25
 248:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       ) {
 249:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // this is a request: target resource is indicated as COAP_OPTION_LOCATIONPATH option(s)
 250:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 251:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // first, we need to decrypt the request and to do so find the right security context
 252:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (objectSecurity) {
 664              		.loc 1 252 0
 665 0396 D7F8DC30 		ldr	r3, [r7, #220]
 666 039a 002B     		cmp	r3, #0
 667 039c 59D0     		beq	.L26
 253:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             temp_desc = opencoap_vars.resources;
 668              		.loc 1 253 0
 669 039e BF4B     		ldr	r3, .L70
 670 03a0 1B69     		ldr	r3, [r3, #16]
 671 03a2 C7F8E430 		str	r3, [r7, #228]
 254:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             blindContext = NULL;
 672              		.loc 1 254 0
 673 03a6 0023     		movs	r3, #0
 674 03a8 C7F8D030 		str	r3, [r7, #208]
 675              	.L29:
 255:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // loop through all resources and compare recipient context
 256:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             do {
 257:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (temp_desc->securityContext != NULL &&
 676              		.loc 1 257 0
 677 03ac D7F8E430 		ldr	r3, [r7, #228]
 678 03b0 5B69     		ldr	r3, [r3, #20]
 679 03b2 002B     		cmp	r3, #0
 680 03b4 1CD0     		beq	.L27
 258:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     temp_desc->securityContext->recipientIDLen == rcvdKidLen &&
 681              		.loc 1 258 0 discriminator 1
 682 03b6 D7F8E430 		ldr	r3, [r7, #228]
 683 03ba 5B69     		ldr	r3, [r3, #20]
 684 03bc 93F83620 		ldrb	r2, [r3, #54]	@ zero_extendqisi2
 685 03c0 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 257:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     temp_desc->securityContext->recipientIDLen == rcvdKidLen &&
 686              		.loc 1 257 0 discriminator 1
 687 03c2 9A42     		cmp	r2, r3
 688 03c4 14D1     		bne	.L27
 259:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     memcmp(rcvdKid, temp_desc->securityContext->recipientID, rcvdKidLen) == 0) {
 689              		.loc 1 259 0
 690 03c6 FA68     		ldr	r2, [r7, #12]
 691 03c8 D7F8E430 		ldr	r3, [r7, #228]
 692 03cc 5B69     		ldr	r3, [r3, #20]
 693 03ce 2C33     		adds	r3, r3, #44
 694 03d0 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 695 03d2 0C46     		mov	r4, r1
 696 03d4 1046     		mov	r0, r2
 697 03d6 1946     		mov	r1, r3
 698 03d8 2246     		mov	r2, r4
 699 03da FFF7FEFF 		bl	memcmp
 700 03de 0346     		mov	r3, r0
 258:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     temp_desc->securityContext->recipientIDLen == rcvdKidLen &&
 701              		.loc 1 258 0
 702 03e0 002B     		cmp	r3, #0
 703 03e2 05D1     		bne	.L27
 260:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 261:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     blindContext = temp_desc->securityContext;
 704              		.loc 1 261 0
 705 03e4 D7F8E430 		ldr	r3, [r7, #228]
 706 03e8 5B69     		ldr	r3, [r3, #20]
 707 03ea C7F8D030 		str	r3, [r7, #208]
 262:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     break;
 708              		.loc 1 262 0
 709 03ee 09E0     		b	.L28
 710              	.L27:
 263:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 }
 264:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 temp_desc = temp_desc->next;
 711              		.loc 1 264 0
 712 03f0 D7F8E430 		ldr	r3, [r7, #228]
 713 03f4 5B6B     		ldr	r3, [r3, #52]
 714 03f6 C7F8E430 		str	r3, [r7, #228]
 265:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 266:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             while (temp_desc->next!=NULL);
 715              		.loc 1 266 0
 716 03fa D7F8E430 		ldr	r3, [r7, #228]
 717 03fe 5B6B     		ldr	r3, [r3, #52]
 718 0400 002B     		cmp	r3, #0
 719 0402 D3D1     		bne	.L29
 720              	.L28:
 267:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 268:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (blindContext) {
 721              		.loc 1 268 0
 722 0404 D7F8D030 		ldr	r3, [r7, #208]
 723 0408 002B     		cmp	r3, #0
 724 040a 1FD0     		beq	.L30
 269:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_incomingOptionsLen = MAX_COAP_OPTIONS;
 725              		.loc 1 269 0
 726 040c 0A23     		movs	r3, #10
 727 040e FB75     		strb	r3, [r7, #23]
 270:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     decStatus = openoscoap_unprotect_message(blindContext,
 728              		.loc 1 270 0
 729 0410 97F8B810 		ldrb	r1, [r7, #184]	@ zero_extendqisi2
 271:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_header.Ver,
 272:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_header.Code,
 730              		.loc 1 272 0
 731 0414 97F8BB50 		ldrb	r5, [r7, #187]	@ zero_extendqisi2
 270:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     decStatus = openoscoap_unprotect_message(blindContext,
 732              		.loc 1 270 0
 733 0418 7B8A     		ldrh	r3, [r7, #18]
 734 041a 07F16804 		add	r4, r7, #104
 735 041e 07F11702 		add	r2, r7, #23
 736 0422 0092     		str	r2, [sp]
 737 0424 7A68     		ldr	r2, [r7, #4]
 738 0426 0192     		str	r2, [sp, #4]
 739 0428 0293     		str	r3, [sp, #8]
 740 042a D7F8D000 		ldr	r0, [r7, #208]
 741 042e 2A46     		mov	r2, r5
 742 0430 2346     		mov	r3, r4
 743 0432 FFF7FEFF 		bl	openoscoap_unprotect_message
 744 0436 0346     		mov	r3, r0
 745 0438 87F8CB30 		strb	r3, [r7, #203]
 273:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_incomingOptions,
 274:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             &coap_incomingOptionsLen,
 275:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             msg,
 276:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             rcvdSequenceNumber
 277:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     );
 278:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 279:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     if (decStatus != E_SUCCESS) {
 746              		.loc 1 279 0
 747 043c 97F8CB30 		ldrb	r3, [r7, #203]	@ zero_extendqisi2
 748 0440 002B     		cmp	r3, #0
 749 0442 06D0     		beq	.L26
 280:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                         securityReturnCode = COAP_CODE_RESP_BADREQ;
 750              		.loc 1 280 0
 751 0444 8023     		movs	r3, #128
 752 0446 87F8CF30 		strb	r3, [r7, #207]
 753 044a 02E0     		b	.L26
 754              	.L30:
 281:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     }
 282:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 283:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 284:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             else {
 285:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 securityReturnCode = COAP_CODE_RESP_UNAUTHORIZED;
 755              		.loc 1 285 0
 756 044c 8123     		movs	r3, #129
 757 044e 87F8CF30 		strb	r3, [r7, #207]
 758              	.L26:
 286:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 287:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 288:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 289:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 290:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // find the resource which matches
 291:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 292:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // start with the first resource in the linked list
 293:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       temp_desc = opencoap_vars.resources;
 759              		.loc 1 293 0
 760 0452 924B     		ldr	r3, .L70
 761 0454 1B69     		ldr	r3, [r3, #16]
 762 0456 C7F8E430 		str	r3, [r7, #228]
 294:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 295:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // iterate until matching resource found, or no match
 296:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       while (found==FALSE && securityReturnCode==COAP_CODE_EMPTY) {
 763              		.loc 1 296 0
 764 045a D5E0     		b	.L32
 765              	.L42:
 297:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 298:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         option_count = opencoap_find_option(coap_incomingOptions, coap_incomingOptionsLen, COAP_OPT
 766              		.loc 1 298 0
 767 045c FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 768 045e 07F16801 		add	r1, r7, #104
 769 0462 07F11503 		add	r3, r7, #21
 770 0466 0846     		mov	r0, r1
 771 0468 1146     		mov	r1, r2
 772 046a 0B22     		movs	r2, #11
 773 046c FFF7FEFF 		bl	opencoap_find_option
 774 0470 0346     		mov	r3, r0
 775 0472 87F8CC30 		strb	r3, [r7, #204]
 299:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (
 776              		.loc 1 299 0
 777 0476 97F8CC30 		ldrb	r3, [r7, #204]	@ zero_extendqisi2
 778 047a 022B     		cmp	r3, #2
 779 047c 6BD1     		bne	.L33
 300:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              option_count == 2                                       &&
 301:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0len>0                                   &&
 780              		.loc 1 301 0
 781 047e D7F8E430 		ldr	r3, [r7, #228]
 782 0482 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 300:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              option_count == 2                                       &&
 783              		.loc 1 300 0
 784 0484 002B     		cmp	r3, #0
 785 0486 66D0     		beq	.L33
 302:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0val!=NULL                               &&
 786              		.loc 1 302 0
 787 0488 D7F8E430 		ldr	r3, [r7, #228]
 788 048c 5B68     		ldr	r3, [r3, #4]
 301:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0val!=NULL                               &&
 789              		.loc 1 301 0
 790 048e 002B     		cmp	r3, #0
 791 0490 61D0     		beq	.L33
 303:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path1len>0                                   &&
 792              		.loc 1 303 0
 793 0492 D7F8E430 		ldr	r3, [r7, #228]
 794 0496 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 302:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0val!=NULL                               &&
 795              		.loc 1 302 0
 796 0498 002B     		cmp	r3, #0
 797 049a 5CD0     		beq	.L33
 304:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path1val!=NULL
 798              		.loc 1 304 0
 799 049c D7F8E430 		ldr	r3, [r7, #228]
 800 04a0 DB68     		ldr	r3, [r3, #12]
 303:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path1len>0                                   &&
 801              		.loc 1 303 0
 802 04a2 002B     		cmp	r3, #0
 803 04a4 57D0     		beq	.L33
 305:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           ) {
 306:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           // resource has a path of form path0/path1
 307:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 308:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           if (
 309:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index].length==temp_desc->path0len                     
 804              		.loc 1 309 0
 805 04a6 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 806 04a8 DB00     		lsls	r3, r3, #3
 807 04aa 07F1E802 		add	r2, r7, #232
 808 04ae 1344     		add	r3, r3, r2
 809 04b0 13F87F2C 		ldrb	r2, [r3, #-127]	@ zero_extendqisi2
 810 04b4 D7F8E430 		ldr	r3, [r7, #228]
 811 04b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 308:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index].length==temp_desc->path0len                     
 812              		.loc 1 308 0
 813 04ba 9A42     		cmp	r2, r3
 814 04bc 4AD1     		bne	.L34
 310:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(coap_incomingOptions[option_index].pValue,temp_desc->path0val,temp_desc->pat
 815              		.loc 1 310 0
 816 04be 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 817 04c0 DB00     		lsls	r3, r3, #3
 818 04c2 07F1E802 		add	r2, r7, #232
 819 04c6 1344     		add	r3, r3, r2
 820 04c8 53F87C1C 		ldr	r1, [r3, #-124]
 821 04cc D7F8E430 		ldr	r3, [r7, #228]
 822 04d0 5A68     		ldr	r2, [r3, #4]
 823 04d2 D7F8E430 		ldr	r3, [r7, #228]
 824 04d6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 825 04d8 0846     		mov	r0, r1
 826 04da 1146     		mov	r1, r2
 827 04dc 1A46     		mov	r2, r3
 828 04de FFF7FEFF 		bl	memcmp
 829 04e2 0346     		mov	r3, r0
 309:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(coap_incomingOptions[option_index].pValue,temp_desc->path0val,temp_desc->pat
 830              		.loc 1 309 0
 831 04e4 002B     		cmp	r3, #0
 832 04e6 35D1     		bne	.L34
 311:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index+1].length==temp_desc->path1len                   
 833              		.loc 1 311 0
 834 04e8 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 835 04ea 0133     		adds	r3, r3, #1
 836 04ec DB00     		lsls	r3, r3, #3
 837 04ee 07F1E802 		add	r2, r7, #232
 838 04f2 1344     		add	r3, r3, r2
 839 04f4 13F87F2C 		ldrb	r2, [r3, #-127]	@ zero_extendqisi2
 840 04f8 D7F8E430 		ldr	r3, [r7, #228]
 841 04fc 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 310:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(coap_incomingOptions[option_index].pValue,temp_desc->path0val,temp_desc->pat
 842              		.loc 1 310 0
 843 04fe 9A42     		cmp	r2, r3
 844 0500 28D1     		bne	.L34
 312:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(coap_incomingOptions[option_index+1].pValue,temp_desc->path1val,temp_desc->p
 845              		.loc 1 312 0
 846 0502 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 847 0504 0133     		adds	r3, r3, #1
 848 0506 DB00     		lsls	r3, r3, #3
 849 0508 07F1E802 		add	r2, r7, #232
 850 050c 1344     		add	r3, r3, r2
 851 050e 53F87C1C 		ldr	r1, [r3, #-124]
 852 0512 D7F8E430 		ldr	r3, [r7, #228]
 853 0516 DA68     		ldr	r2, [r3, #12]
 854 0518 D7F8E430 		ldr	r3, [r7, #228]
 855 051c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 856 051e 0846     		mov	r0, r1
 857 0520 1146     		mov	r1, r2
 858 0522 1A46     		mov	r2, r3
 859 0524 FFF7FEFF 		bl	memcmp
 860 0528 0346     		mov	r3, r0
 311:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index+1].length==temp_desc->path1len                   
 861              		.loc 1 311 0
 862 052a 002B     		cmp	r3, #0
 863 052c 12D1     		bne	.L34
 313:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              ) {
 314:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              if (temp_desc->securityContext != NULL &&
 864              		.loc 1 314 0
 865 052e D7F8E430 		ldr	r3, [r7, #228]
 866 0532 5B69     		ldr	r3, [r3, #20]
 867 0534 002B     		cmp	r3, #0
 868 0536 09D0     		beq	.L35
 315:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                  blindContext != temp_desc->securityContext) {
 869              		.loc 1 315 0 discriminator 1
 870 0538 D7F8E430 		ldr	r3, [r7, #228]
 871 053c 5A69     		ldr	r2, [r3, #20]
 314:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                  blindContext != temp_desc->securityContext) {
 872              		.loc 1 314 0 discriminator 1
 873 053e D7F8D030 		ldr	r3, [r7, #208]
 874 0542 9A42     		cmp	r2, r3
 875 0544 02D0     		beq	.L35
 316:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                  securityReturnCode = COAP_CODE_RESP_UNAUTHORIZED;
 876              		.loc 1 316 0
 877 0546 8123     		movs	r3, #129
 878 0548 87F8CF30 		strb	r3, [r7, #207]
 879              	.L35:
 317:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              }
 318:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               found = TRUE;
 880              		.loc 1 318 0
 881 054c 0123     		movs	r3, #1
 882 054e 87F8E330 		strb	r3, [r7, #227]
 308:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index].length==temp_desc->path0len                     
 883              		.loc 1 308 0
 884 0552 46E0     		b	.L36
 885              	.L34:
 886 0554 45E0     		b	.L36
 887              	.L33:
 319:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           };
 320:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 321:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         } else if (
 888              		.loc 1 321 0
 889 0556 97F8CC30 		ldrb	r3, [r7, #204]	@ zero_extendqisi2
 890 055a 012B     		cmp	r3, #1
 891 055c 3ED1     		bne	.L37
 322:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              option_count == 1                                &&
 323:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0len>0                            &&
 892              		.loc 1 323 0
 893 055e D7F8E430 		ldr	r3, [r7, #228]
 894 0562 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 322:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              option_count == 1                                &&
 895              		.loc 1 322 0
 896 0564 002B     		cmp	r3, #0
 897 0566 39D0     		beq	.L37
 324:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0val!=NULL
 898              		.loc 1 324 0
 899 0568 D7F8E430 		ldr	r3, [r7, #228]
 900 056c 5B68     		ldr	r3, [r3, #4]
 323:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              temp_desc->path0val!=NULL
 901              		.loc 1 323 0
 902 056e 002B     		cmp	r3, #0
 903 0570 34D0     		beq	.L37
 325:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           ) {
 326:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           // resource has a path of form path0
 327:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 328:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           if (
 329:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index].length==temp_desc->path0len                     
 904              		.loc 1 329 0
 905 0572 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 906 0574 DB00     		lsls	r3, r3, #3
 907 0576 07F1E802 		add	r2, r7, #232
 908 057a 1344     		add	r3, r3, r2
 909 057c 13F87F2C 		ldrb	r2, [r3, #-127]	@ zero_extendqisi2
 910 0580 D7F8E430 		ldr	r3, [r7, #228]
 911 0584 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 328:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index].length==temp_desc->path0len                     
 912              		.loc 1 328 0
 913 0586 9A42     		cmp	r2, r3
 914 0588 27D1     		bne	.L38
 330:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(coap_incomingOptions[option_index].pValue,temp_desc->path0val,temp_desc->pat
 915              		.loc 1 330 0
 916 058a 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 917 058c DB00     		lsls	r3, r3, #3
 918 058e 07F1E802 		add	r2, r7, #232
 919 0592 1344     		add	r3, r3, r2
 920 0594 53F87C1C 		ldr	r1, [r3, #-124]
 921 0598 D7F8E430 		ldr	r3, [r7, #228]
 922 059c 5A68     		ldr	r2, [r3, #4]
 923 059e D7F8E430 		ldr	r3, [r7, #228]
 924 05a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 925 05a4 0846     		mov	r0, r1
 926 05a6 1146     		mov	r1, r2
 927 05a8 1A46     		mov	r2, r3
 928 05aa FFF7FEFF 		bl	memcmp
 929 05ae 0346     		mov	r3, r0
 329:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(coap_incomingOptions[option_index].pValue,temp_desc->path0val,temp_desc->pat
 930              		.loc 1 329 0
 931 05b0 002B     		cmp	r3, #0
 932 05b2 12D1     		bne	.L38
 331:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              ) {
 332:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              if (temp_desc->securityContext != NULL &&
 933              		.loc 1 332 0
 934 05b4 D7F8E430 		ldr	r3, [r7, #228]
 935 05b8 5B69     		ldr	r3, [r3, #20]
 936 05ba 002B     		cmp	r3, #0
 937 05bc 09D0     		beq	.L39
 333:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                  blindContext != temp_desc->securityContext) {
 938              		.loc 1 333 0 discriminator 1
 939 05be D7F8E430 		ldr	r3, [r7, #228]
 940 05c2 5A69     		ldr	r2, [r3, #20]
 332:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                  blindContext != temp_desc->securityContext) {
 941              		.loc 1 332 0 discriminator 1
 942 05c4 D7F8D030 		ldr	r3, [r7, #208]
 943 05c8 9A42     		cmp	r2, r3
 944 05ca 02D0     		beq	.L39
 334:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                  securityReturnCode = COAP_CODE_RESP_UNAUTHORIZED;
 945              		.loc 1 334 0
 946 05cc 8123     		movs	r3, #129
 947 05ce 87F8CF30 		strb	r3, [r7, #207]
 948              	.L39:
 335:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              }
 336:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              found = TRUE;
 949              		.loc 1 336 0
 950 05d2 0123     		movs	r3, #1
 951 05d4 87F8E330 		strb	r3, [r7, #227]
 328:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_incomingOptions[option_index].length==temp_desc->path0len                     
 952              		.loc 1 328 0
 953 05d8 03E0     		b	.L36
 954              	.L38:
 955 05da 02E0     		b	.L36
 956              	.L37:
 337:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           };
 338:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         } else {
 339:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           // option_count == 0  ||
 340:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           // option_count >= 2
 341:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           // resource has not a valid path or path is too long
 342:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****           found = FALSE;
 957              		.loc 1 342 0
 958 05dc 0023     		movs	r3, #0
 959 05de 87F8E330 		strb	r3, [r7, #227]
 960              	.L36:
 343:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         };
 344:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 345:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // iterate to next resource, if not found
 346:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          if (found==FALSE) {
 961              		.loc 1 346 0
 962 05e2 97F8E330 		ldrb	r3, [r7, #227]
 963 05e6 83F00103 		eor	r3, r3, #1
 964 05ea DBB2     		uxtb	r3, r3
 965 05ec 002B     		cmp	r3, #0
 966 05ee 0BD0     		beq	.L32
 347:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (temp_desc->next!=NULL) {
 967              		.loc 1 347 0
 968 05f0 D7F8E430 		ldr	r3, [r7, #228]
 969 05f4 5B6B     		ldr	r3, [r3, #52]
 970 05f6 002B     		cmp	r3, #0
 971 05f8 05D0     		beq	.L40
 348:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                temp_desc = temp_desc->next;
 972              		.loc 1 348 0
 973 05fa D7F8E430 		ldr	r3, [r7, #228]
 974 05fe 5B6B     		ldr	r3, [r3, #52]
 975 0600 C7F8E430 		str	r3, [r7, #228]
 976 0604 00E0     		b	.L32
 977              	.L40:
 349:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             } else {
 350:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                break;
 978              		.loc 1 350 0
 979 0606 0BE0     		b	.L41
 980              	.L32:
 296:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 981              		.loc 1 296 0
 982 0608 97F8E330 		ldrb	r3, [r7, #227]
 983 060c 83F00103 		eor	r3, r3, #1
 984 0610 DBB2     		uxtb	r3, r3
 985 0612 002B     		cmp	r3, #0
 986 0614 04D0     		beq	.L41
 296:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 987              		.loc 1 296 0 is_stmt 0 discriminator 1
 988 0616 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 989 061a 002B     		cmp	r3, #0
 990 061c 3FF41EAF 		beq	.L42
 991              	.L41:
 245:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code>=COAP_CODE_REQ_GET &&
 992              		.loc 1 245 0 is_stmt 1 discriminator 1
 993 0620 00BF     		nop
 351:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 352:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          }
 353:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 354:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 355:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 356:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // this is a response: target resource is indicated by token, and message ID
 357:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // if an ack for a confirmable message, or a reset
 358:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // find the resource which matches
 359:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 360:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // start with the first resource in the linked list
 361:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       temp_desc = opencoap_vars.resources;
 362:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 363:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // iterate until matching resource found, or no match
 364:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       while (found==FALSE) {
 365:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 366:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          if (
 367:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_header.TKL==temp_desc->last_request.TKL                                       
 368:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(&coap_header.token[0],&temp_desc->last_request.token[0],coap_header.TKL)==0
 369:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             ) {
 370:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 371:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (coap_header.T==COAP_TYPE_ACK        ||
 372:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_header.T==COAP_TYPE_RES    ||
 373:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_header.TKL == 0) {
 374:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (coap_header.messageID==temp_desc->last_request.messageID) {
 375:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     found=TRUE;
 376:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 }
 377:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             } else {
 378:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 found=TRUE;
 379:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 380:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 381:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // resource found
 382:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // verify if it needs to be decrypted
 383:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // errors are passed to the application without decryption as they do not contain
 384:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // object security option
 385:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (found==TRUE && temp_desc->callbackRx!=NULL) {
 386:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (temp_desc->securityContext != NULL && coap_header.Code < COAP_CODE_RESP_BADREQ)
 387:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_incomingOptionsLen = MAX_COAP_OPTIONS;
 388:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     decStatus = openoscoap_unprotect_message(temp_desc->securityContext,
 389:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_header.Ver,
 390:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_header.Code,
 391:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_incomingOptions,
 392:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             &coap_incomingOptionsLen,
 393:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             msg,
 394:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             temp_desc->last_request.oscoapSeqNum
 395:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     );
 396:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 397:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     if (decStatus != E_SUCCESS) {
 398:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                         return;
 399:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     }
 400:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 }
 401:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                temp_desc->callbackRx(msg,&coap_header,&coap_incomingOptions[0], NULL, NULL);
 402:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 403:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          }
 404:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 405:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // iterate to next resource, if not found
 406:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          if (found==FALSE) {
 407:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (temp_desc->next!=NULL) {
 408:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                temp_desc = temp_desc->next;
 409:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             } else {
 410:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                break;
 411:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 412:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          }
 413:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       };
 414:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 415:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // free the received packet
 416:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openqueue_freePacketBuffer(msg);
 417:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 418:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // stop here: will will not respond to a response
 419:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       return;
 420:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 421:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 422:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== step 3. ask the resource to prepare response
 423:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 424:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (found==TRUE && securityReturnCode==COAP_CODE_EMPTY) {
 994              		.loc 1 424 0 discriminator 1
 995 0622 97F8E330 		ldrb	r3, [r7, #227]	@ zero_extendqisi2
 996 0626 002B     		cmp	r3, #0
 997 0628 00F0EA80 		beq	.L54
 998 062c 9AE0     		b	.L69
 999              	.L25:
 361:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 1000              		.loc 1 361 0
 1001 062e 1B4B     		ldr	r3, .L70
 1002 0630 1B69     		ldr	r3, [r3, #16]
 1003 0632 C7F8E430 		str	r3, [r7, #228]
 364:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 1004              		.loc 1 364 0
 1005 0636 89E0     		b	.L44
 1006              	.L53:
 367:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(&coap_header.token[0],&temp_desc->last_request.token[0],coap_header.TKL)==0
 1007              		.loc 1 367 0
 1008 0638 97F8BA20 		ldrb	r2, [r7, #186]	@ zero_extendqisi2
 1009 063c D7F8E430 		ldr	r3, [r7, #228]
 1010 0640 93F82630 		ldrb	r3, [r3, #38]	@ zero_extendqisi2
 366:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 coap_header.TKL==temp_desc->last_request.TKL                                       
 1011              		.loc 1 366 0
 1012 0644 9A42     		cmp	r2, r3
 1013 0646 6ED1     		bne	.L45
 368:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             ) {
 1014              		.loc 1 368 0
 1015 0648 D7F8E430 		ldr	r3, [r7, #228]
 1016 064c 03F12A02 		add	r2, r3, #42
 1017 0650 97F8BA30 		ldrb	r3, [r7, #186]	@ zero_extendqisi2
 1018 0654 1C46     		mov	r4, r3
 1019 0656 07F1B803 		add	r3, r7, #184
 1020 065a 0633     		adds	r3, r3, #6
 1021 065c 1846     		mov	r0, r3
 1022 065e 1146     		mov	r1, r2
 1023 0660 2246     		mov	r2, r4
 1024 0662 FFF7FEFF 		bl	memcmp
 1025 0666 0346     		mov	r3, r0
 367:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 memcmp(&coap_header.token[0],&temp_desc->last_request.token[0],coap_header.TKL)==0
 1026              		.loc 1 367 0
 1027 0668 002B     		cmp	r3, #0
 1028 066a 5CD1     		bne	.L45
 371:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_header.T==COAP_TYPE_RES    ||
 1029              		.loc 1 371 0
 1030 066c 97F8B930 		ldrb	r3, [r7, #185]	@ zero_extendqisi2
 1031 0670 022B     		cmp	r3, #2
 1032 0672 07D0     		beq	.L46
 372:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_header.TKL == 0) {
 1033              		.loc 1 372 0 discriminator 1
 1034 0674 97F8B930 		ldrb	r3, [r7, #185]	@ zero_extendqisi2
 371:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_header.T==COAP_TYPE_RES    ||
 1035              		.loc 1 371 0 discriminator 1
 1036 0678 032B     		cmp	r3, #3
 1037 067a 03D0     		beq	.L46
 373:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (coap_header.messageID==temp_desc->last_request.messageID) {
 1038              		.loc 1 373 0
 1039 067c 97F8BA30 		ldrb	r3, [r7, #186]	@ zero_extendqisi2
 372:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_header.TKL == 0) {
 1040              		.loc 1 372 0
 1041 0680 002B     		cmp	r3, #0
 1042 0682 0DD1     		bne	.L47
 1043              	.L46:
 374:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     found=TRUE;
 1044              		.loc 1 374 0
 1045 0684 B7F8BC20 		ldrh	r2, [r7, #188]
 1046 0688 D7F8E430 		ldr	r3, [r7, #228]
 1047 068c 1B8D     		ldrh	r3, [r3, #40]
 1048 068e 9A42     		cmp	r2, r3
 1049 0690 03D1     		bne	.L48
 375:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 }
 1050              		.loc 1 375 0
 1051 0692 0123     		movs	r3, #1
 1052 0694 87F8E330 		strb	r3, [r7, #227]
 374:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     found=TRUE;
 1053              		.loc 1 374 0
 1054 0698 05E0     		b	.L49
 1055              	.L48:
 1056 069a 04E0     		b	.L49
 1057              	.L71:
 1058              		.align	2
 1059              	.L70:
 1060 069c 00000000 		.word	opencoap_vars
 1061              	.L47:
 378:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 1062              		.loc 1 378 0
 1063 06a0 0123     		movs	r3, #1
 1064 06a2 87F8E330 		strb	r3, [r7, #227]
 1065              	.L49:
 385:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (temp_desc->securityContext != NULL && coap_header.Code < COAP_CODE_RESP_BADREQ)
 1066              		.loc 1 385 0
 1067 06a6 97F8E330 		ldrb	r3, [r7, #227]	@ zero_extendqisi2
 1068 06aa 002B     		cmp	r3, #0
 1069 06ac 3BD0     		beq	.L45
 385:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (temp_desc->securityContext != NULL && coap_header.Code < COAP_CODE_RESP_BADREQ)
 1070              		.loc 1 385 0 is_stmt 0 discriminator 1
 1071 06ae D7F8E430 		ldr	r3, [r7, #228]
 1072 06b2 DB69     		ldr	r3, [r3, #28]
 1073 06b4 002B     		cmp	r3, #0
 1074 06b6 36D0     		beq	.L45
 386:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_incomingOptionsLen = MAX_COAP_OPTIONS;
 1075              		.loc 1 386 0 is_stmt 1
 1076 06b8 D7F8E430 		ldr	r3, [r7, #228]
 1077 06bc 5B69     		ldr	r3, [r3, #20]
 1078 06be 002B     		cmp	r3, #0
 1079 06c0 25D0     		beq	.L50
 386:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     coap_incomingOptionsLen = MAX_COAP_OPTIONS;
 1080              		.loc 1 386 0 is_stmt 0 discriminator 1
 1081 06c2 97F8BB30 		ldrb	r3, [r7, #187]	@ zero_extendqisi2
 1082 06c6 DBB2     		uxtb	r3, r3
 1083 06c8 5BB2     		sxtb	r3, r3
 1084 06ca 002B     		cmp	r3, #0
 1085 06cc 1FDB     		blt	.L50
 387:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     decStatus = openoscoap_unprotect_message(temp_desc->securityContext,
 1086              		.loc 1 387 0 is_stmt 1
 1087 06ce 0A23     		movs	r3, #10
 1088 06d0 FB75     		strb	r3, [r7, #23]
 388:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_header.Ver,
 1089              		.loc 1 388 0
 1090 06d2 D7F8E430 		ldr	r3, [r7, #228]
 1091 06d6 5869     		ldr	r0, [r3, #20]
 1092 06d8 97F8B810 		ldrb	r1, [r7, #184]	@ zero_extendqisi2
 390:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_incomingOptions,
 1093              		.loc 1 390 0
 1094 06dc 97F8BB50 		ldrb	r5, [r7, #187]	@ zero_extendqisi2
 388:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                             coap_header.Ver,
 1095              		.loc 1 388 0
 1096 06e0 D7F8E430 		ldr	r3, [r7, #228]
 1097 06e4 5B8E     		ldrh	r3, [r3, #50]
 1098 06e6 07F16804 		add	r4, r7, #104
 1099 06ea 07F11702 		add	r2, r7, #23
 1100 06ee 0092     		str	r2, [sp]
 1101 06f0 7A68     		ldr	r2, [r7, #4]
 1102 06f2 0192     		str	r2, [sp, #4]
 1103 06f4 0293     		str	r3, [sp, #8]
 1104 06f6 2A46     		mov	r2, r5
 1105 06f8 2346     		mov	r3, r4
 1106 06fa FFF7FEFF 		bl	openoscoap_unprotect_message
 1107 06fe 0346     		mov	r3, r0
 1108 0700 87F8CB30 		strb	r3, [r7, #203]
 397:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                         return;
 1109              		.loc 1 397 0
 1110 0704 97F8CB30 		ldrb	r3, [r7, #203]	@ zero_extendqisi2
 1111 0708 002B     		cmp	r3, #0
 1112 070a 00D0     		beq	.L50
 398:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     }
 1113              		.loc 1 398 0
 1114 070c 07E1     		b	.L6
 1115              	.L50:
 401:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 1116              		.loc 1 401 0
 1117 070e D7F8E430 		ldr	r3, [r7, #228]
 1118 0712 DC69     		ldr	r4, [r3, #28]
 1119 0714 07F1B801 		add	r1, r7, #184
 1120 0718 07F16802 		add	r2, r7, #104
 1121 071c 0023     		movs	r3, #0
 1122 071e 0093     		str	r3, [sp]
 1123 0720 7868     		ldr	r0, [r7, #4]
 1124 0722 0023     		movs	r3, #0
 1125 0724 A047     		blx	r4
 1126              	.L45:
 406:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (temp_desc->next!=NULL) {
 1127              		.loc 1 406 0
 1128 0726 97F8E330 		ldrb	r3, [r7, #227]
 1129 072a 83F00103 		eor	r3, r3, #1
 1130 072e DBB2     		uxtb	r3, r3
 1131 0730 002B     		cmp	r3, #0
 1132 0732 0BD0     		beq	.L44
 407:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                temp_desc = temp_desc->next;
 1133              		.loc 1 407 0
 1134 0734 D7F8E430 		ldr	r3, [r7, #228]
 1135 0738 5B6B     		ldr	r3, [r3, #52]
 1136 073a 002B     		cmp	r3, #0
 1137 073c 05D0     		beq	.L51
 408:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             } else {
 1138              		.loc 1 408 0
 1139 073e D7F8E430 		ldr	r3, [r7, #228]
 1140 0742 5B6B     		ldr	r3, [r3, #52]
 1141 0744 C7F8E430 		str	r3, [r7, #228]
 1142 0748 00E0     		b	.L44
 1143              	.L51:
 410:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 1144              		.loc 1 410 0
 1145 074a 07E0     		b	.L52
 1146              	.L44:
 364:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 1147              		.loc 1 364 0
 1148 074c 97F8E330 		ldrb	r3, [r7, #227]
 1149 0750 83F00103 		eor	r3, r3, #1
 1150 0754 DBB2     		uxtb	r3, r3
 1151 0756 002B     		cmp	r3, #0
 1152 0758 7FF46EAF 		bne	.L53
 1153              	.L52:
 416:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 1154              		.loc 1 416 0
 1155 075c 7868     		ldr	r0, [r7, #4]
 1156 075e FFF7FEFF 		bl	openqueue_freePacketBuffer
 419:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 1157              		.loc 1 419 0
 1158 0762 DCE0     		b	.L6
 1159              	.L69:
 1160              		.loc 1 424 0 discriminator 1
 1161 0764 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 1162 0768 002B     		cmp	r3, #0
 1163 076a 49D1     		bne	.L54
 425:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 426:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // call the resource's callback
 427:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       outcome = temp_desc->callbackRx(msg,&coap_header,&coap_incomingOptions[0], coap_outgoingOptio
 1164              		.loc 1 427 0
 1165 076c D7F8E430 		ldr	r3, [r7, #228]
 1166 0770 DC69     		ldr	r4, [r3, #28]
 1167 0772 07F1B801 		add	r1, r7, #184
 1168 0776 07F16802 		add	r2, r7, #104
 1169 077a 07F11805 		add	r5, r7, #24
 1170 077e 07F11603 		add	r3, r7, #22
 1171 0782 0093     		str	r3, [sp]
 1172 0784 7868     		ldr	r0, [r7, #4]
 1173 0786 2B46     		mov	r3, r5
 1174 0788 A047     		blx	r4
 1175 078a 0346     		mov	r3, r0
 1176 078c 87F8E230 		strb	r3, [r7, #226]
 428:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (outcome == E_FAIL) {
 1177              		.loc 1 428 0
 1178 0790 97F8E230 		ldrb	r3, [r7, #226]	@ zero_extendqisi2
 1179 0794 012B     		cmp	r3, #1
 1180 0796 02D1     		bne	.L55
 429:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             securityReturnCode = COAP_CODE_RESP_METHODNOTALLOWED;
 1181              		.loc 1 429 0
 1182 0798 8523     		movs	r3, #133
 1183 079a 87F8CF30 		strb	r3, [r7, #207]
 1184              	.L55:
 430:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 431:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (temp_desc->securityContext != NULL) {
 1185              		.loc 1 431 0
 1186 079e D7F8E430 		ldr	r3, [r7, #228]
 1187 07a2 5B69     		ldr	r3, [r3, #20]
 1188 07a4 002B     		cmp	r3, #0
 1189 07a6 27D0     		beq	.L56
 432:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_outgoingOptions[coap_outgoingOptionsLen++].type = COAP_OPTION_NUM_OBJECTSECURITY;
 1190              		.loc 1 432 0
 1191 07a8 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 1192 07aa 5A1C     		adds	r2, r3, #1
 1193 07ac D2B2     		uxtb	r2, r2
 1194 07ae BA75     		strb	r2, [r7, #22]
 1195 07b0 DB00     		lsls	r3, r3, #3
 1196 07b2 07F1E802 		add	r2, r7, #232
 1197 07b6 1344     		add	r3, r3, r2
 1198 07b8 1522     		movs	r2, #21
 1199 07ba 03F8D02C 		strb	r2, [r3, #-208]
 433:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (coap_outgoingOptionsLen > MAX_COAP_OPTIONS) {
 1200              		.loc 1 433 0
 1201 07be BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 1202 07c0 0A2B     		cmp	r3, #10
 1203 07c2 02D9     		bls	.L57
 434:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             securityReturnCode = COAP_CODE_RESP_SERVERERROR; // no space for object security option
 1204              		.loc 1 434 0
 1205 07c4 A023     		movs	r3, #160
 1206 07c6 87F8CF30 		strb	r3, [r7, #207]
 1207              	.L57:
 435:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 436:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         // protect the message in the openqueue buffer
 437:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         openoscoap_protect_message(
 1208              		.loc 1 437 0
 1209 07ca D7F8E430 		ldr	r3, [r7, #228]
 1210 07ce 5969     		ldr	r1, [r3, #20]
 438:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   temp_desc->securityContext,
 439:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   COAP_VERSION,
 440:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   coap_header.Code,
 1211              		.loc 1 440 0
 1212 07d0 97F8BB50 		ldrb	r5, [r7, #187]	@ zero_extendqisi2
 437:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   temp_desc->securityContext,
 1213              		.loc 1 437 0
 1214 07d4 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 1215 07d6 7B8A     		ldrh	r3, [r7, #18]
 1216 07d8 07F11804 		add	r4, r7, #24
 1217 07dc 0092     		str	r2, [sp]
 1218 07de 7A68     		ldr	r2, [r7, #4]
 1219 07e0 0192     		str	r2, [sp, #4]
 1220 07e2 0293     		str	r3, [sp, #8]
 1221 07e4 0846     		mov	r0, r1
 1222 07e6 0121     		movs	r1, #1
 1223 07e8 2A46     		mov	r2, r5
 1224 07ea 2346     		mov	r3, r4
 1225 07ec FFF7FEFF 		bl	openoscoap_protect_message
 441:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   coap_outgoingOptions,
 442:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   coap_outgoingOptionsLen,
 443:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   msg,
 444:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                   rcvdSequenceNumber);
 445:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         class = COAP_OPTION_CLASS_U;
 1226              		.loc 1 445 0
 1227 07f0 0223     		movs	r3, #2
 1228 07f2 87F8CE30 		strb	r3, [r7, #206]
 431:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_outgoingOptions[coap_outgoingOptionsLen++].type = COAP_OPTION_NUM_OBJECTSECURITY;
 1229              		.loc 1 431 0
 1230 07f6 1AE0     		b	.L59
 1231              	.L56:
 446:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     } else {
 447:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         class = COAP_OPTION_CLASS_ALL;
 1232              		.loc 1 447 0
 1233 07f8 0323     		movs	r3, #3
 1234 07fa 87F8CE30 		strb	r3, [r7, #206]
 431:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_outgoingOptions[coap_outgoingOptionsLen++].type = COAP_OPTION_NUM_OBJECTSECURITY;
 1235              		.loc 1 431 0
 1236 07fe 16E0     		b	.L59
 1237              	.L54:
 448:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 449:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 450:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 451:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // reset packet payload (DO NOT DELETE, we will reuse same buffer for response)
 452:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->payload                     = &(msg->packet[127]);
 1238              		.loc 1 452 0
 1239 0800 7B68     		ldr	r3, [r7, #4]
 1240 0802 03F23F12 		addw	r2, r3, #319
 1241 0806 7B68     		ldr	r3, [r7, #4]
 1242 0808 5A60     		str	r2, [r3, #4]
 453:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->length                      = 0;
 1243              		.loc 1 453 0
 1244 080a 7B68     		ldr	r3, [r7, #4]
 1245 080c 0022     		movs	r2, #0
 1246 080e 1A72     		strb	r2, [r3, #8]
 454:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // set the CoAP header
 455:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_header.TKL                  = 0;
 1247              		.loc 1 455 0
 1248 0810 0023     		movs	r3, #0
 1249 0812 87F8BA30 		strb	r3, [r7, #186]
 456:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (securityReturnCode) {
 1250              		.loc 1 456 0
 1251 0816 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 1252 081a 002B     		cmp	r3, #0
 1253 081c 04D0     		beq	.L60
 457:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code              = securityReturnCode;
 1254              		.loc 1 457 0
 1255 081e 97F8CF30 		ldrb	r3, [r7, #207]
 1256 0822 87F8BB30 		strb	r3, [r7, #187]
 1257 0826 02E0     		b	.L59
 1258              	.L60:
 458:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 459:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       else {
 460:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          coap_header.Code              = COAP_CODE_RESP_NOTFOUND;
 1259              		.loc 1 460 0
 1260 0828 8423     		movs	r3, #132
 1261 082a 87F8BB30 		strb	r3, [r7, #187]
 1262              	.L59:
 461:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 462:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 463:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 464:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (outcome==E_FAIL) {
 1263              		.loc 1 464 0
 1264 082e 97F8E230 		ldrb	r3, [r7, #226]	@ zero_extendqisi2
 1265 0832 012B     		cmp	r3, #1
 1266 0834 0ED1     		bne	.L61
 465:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // reset packet payload (DO NOT DELETE, we will reuse same buffer for response)
 466:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->payload                     = &(msg->packet[127]);
 1267              		.loc 1 466 0
 1268 0836 7B68     		ldr	r3, [r7, #4]
 1269 0838 03F23F12 		addw	r2, r3, #319
 1270 083c 7B68     		ldr	r3, [r7, #4]
 1271 083e 5A60     		str	r2, [r3, #4]
 467:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->length                      = 0;
 1272              		.loc 1 467 0
 1273 0840 7B68     		ldr	r3, [r7, #4]
 1274 0842 0022     		movs	r2, #0
 1275 0844 1A72     		strb	r2, [r3, #8]
 468:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // set the CoAP header
 469:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_header.TKL                  = 0;
 1276              		.loc 1 469 0
 1277 0846 0023     		movs	r3, #0
 1278 0848 87F8BA30 		strb	r3, [r7, #186]
 470:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_header.Code                 = securityReturnCode;
 1279              		.loc 1 470 0
 1280 084c 97F8CF30 		ldrb	r3, [r7, #207]
 1281 0850 87F8BB30 		strb	r3, [r7, #187]
 1282              	.L61:
 471:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 472:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 473:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (coap_header.T == COAP_TYPE_CON) {
 1283              		.loc 1 473 0
 1284 0854 97F8B930 		ldrb	r3, [r7, #185]	@ zero_extendqisi2
 1285 0858 002B     		cmp	r3, #0
 1286 085a 03D1     		bne	.L62
 474:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        response_type = COAP_TYPE_ACK;
 1287              		.loc 1 474 0
 1288 085c 0223     		movs	r3, #2
 1289 085e 87F8E130 		strb	r3, [r7, #225]
 1290 0862 02E0     		b	.L63
 1291              	.L62:
 475:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 476:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        response_type = COAP_TYPE_NON;
 1292              		.loc 1 476 0
 1293 0864 0123     		movs	r3, #1
 1294 0866 87F8E130 		strb	r3, [r7, #225]
 1295              	.L63:
 477:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 478:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 479:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== step 4. add the payload marker and encode options
 480:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 481:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (msg->length > 0 ) { // contains payload, add payload marker
 1296              		.loc 1 481 0
 1297 086a 7B68     		ldr	r3, [r7, #4]
 1298 086c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1299 086e 002B     		cmp	r3, #0
 1300 0870 07D0     		beq	.L64
 482:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       packetfunctions_reserveHeaderSize(msg,1);
 1301              		.loc 1 482 0
 1302 0872 7868     		ldr	r0, [r7, #4]
 1303 0874 0121     		movs	r1, #1
 1304 0876 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 483:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->payload[0] = COAP_PAYLOAD_MARKER;
 1305              		.loc 1 483 0
 1306 087a 7B68     		ldr	r3, [r7, #4]
 1307 087c 5B68     		ldr	r3, [r3, #4]
 1308 087e FF22     		movs	r2, #255
 1309 0880 1A70     		strb	r2, [r3]
 1310              	.L64:
 484:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 485:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 486:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // once header is reserved, encode the options to the openqueue payload buffer
 487:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_options_encode(msg, coap_outgoingOptions, coap_outgoingOptionsLen, class);
 1311              		.loc 1 487 0
 1312 0882 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 1313 0884 07F11801 		add	r1, r7, #24
 1314 0888 97F8CE30 		ldrb	r3, [r7, #206]	@ zero_extendqisi2
 1315 088c 7868     		ldr	r0, [r7, #4]
 1316 088e FFF7FEFF 		bl	opencoap_options_encode
 488:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 489:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== step 5. send that packet back
 490:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 491:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // fill in packet metadata
 492:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (found==TRUE) {
 1317              		.loc 1 492 0
 1318 0892 97F8E330 		ldrb	r3, [r7, #227]	@ zero_extendqisi2
 1319 0896 002B     		cmp	r3, #0
 1320 0898 05D0     		beq	.L65
 493:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->creator                     = temp_desc->componentID;
 1321              		.loc 1 493 0
 1322 089a D7F8E430 		ldr	r3, [r7, #228]
 1323 089e 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 1324 08a0 7B68     		ldr	r3, [r7, #4]
 1325 08a2 1A70     		strb	r2, [r3]
 1326 08a4 02E0     		b	.L66
 1327              	.L65:
 494:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    } else {
 495:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       msg->creator                     = COMPONENT_OPENCOAP;
 1328              		.loc 1 495 0
 1329 08a6 7B68     		ldr	r3, [r7, #4]
 1330 08a8 1822     		movs	r2, #24
 1331 08aa 1A70     		strb	r2, [r3]
 1332              	.L66:
 496:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 497:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->l4_protocol                    = IANA_UDP;
 1333              		.loc 1 497 0
 1334 08ac 7B68     		ldr	r3, [r7, #4]
 1335 08ae 1122     		movs	r2, #17
 1336 08b0 9A73     		strb	r2, [r3, #14]
 498:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    temp_l4_destination_port            = msg->l4_destination_port;
 1337              		.loc 1 498 0
 1338 08b2 7B68     		ldr	r3, [r7, #4]
 1339 08b4 5B8A     		ldrh	r3, [r3, #18]	@ movhi
 1340 08b6 A7F8C830 		strh	r3, [r7, #200]	@ movhi
 499:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->l4_destination_port            = msg->l4_sourcePortORicmpv6Type;
 1341              		.loc 1 499 0
 1342 08ba 7B68     		ldr	r3, [r7, #4]
 1343 08bc 1A8A     		ldrh	r2, [r3, #16]
 1344 08be 7B68     		ldr	r3, [r7, #4]
 1345 08c0 5A82     		strh	r2, [r3, #18]	@ movhi
 500:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->l4_sourcePortORicmpv6Type      = temp_l4_destination_port;
 1346              		.loc 1 500 0
 1347 08c2 7B68     		ldr	r3, [r7, #4]
 1348 08c4 B7F8C820 		ldrh	r2, [r7, #200]	@ movhi
 1349 08c8 1A82     		strh	r2, [r3, #16]	@ movhi
 501:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 502:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // set destination address as the current source
 503:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->l3_destinationAdd.type         = ADDR_128B;
 1350              		.loc 1 503 0
 1351 08ca 7B68     		ldr	r3, [r7, #4]
 1352 08cc 0322     		movs	r2, #3
 1353 08ce 5A76     		strb	r2, [r3, #25]
 504:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    memcpy(&msg->l3_destinationAdd.addr_128b[0],&msg->l3_sourceAdd.addr_128b[0],LENGTH_ADDR128b);
 1354              		.loc 1 504 0
 1355 08d0 7B68     		ldr	r3, [r7, #4]
 1356 08d2 03F11A02 		add	r2, r3, #26
 1357 08d6 7B68     		ldr	r3, [r7, #4]
 1358 08d8 2B33     		adds	r3, r3, #43
 1359 08da 1046     		mov	r0, r2
 1360 08dc 1946     		mov	r1, r3
 1361 08de 1022     		movs	r2, #16
 1362 08e0 FFF7FEFF 		bl	memcpy
 505:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 506:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // fill in CoAP header
 507:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_header_encode(msg,
 1363              		.loc 1 507 0
 1364 08e4 97F8BA40 		ldrb	r4, [r7, #186]	@ zero_extendqisi2
 1365 08e8 97F8BB20 		ldrb	r2, [r7, #187]	@ zero_extendqisi2
 1366 08ec B7F8BC30 		ldrh	r3, [r7, #188]
 1367 08f0 97F8E150 		ldrb	r5, [r7, #225]	@ zero_extendqisi2
 1368 08f4 0092     		str	r2, [sp]
 1369 08f6 0193     		str	r3, [sp, #4]
 1370 08f8 07F1B803 		add	r3, r7, #184
 1371 08fc 0633     		adds	r3, r3, #6
 1372 08fe 0293     		str	r3, [sp, #8]
 1373 0900 7868     		ldr	r0, [r7, #4]
 1374 0902 0121     		movs	r1, #1
 1375 0904 2A46     		mov	r2, r5
 1376 0906 2346     		mov	r3, r4
 1377 0908 FFF7FEFF 		bl	opencoap_header_encode
 508:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            COAP_VERSION,
 509:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            response_type,
 510:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            coap_header.TKL,
 511:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            coap_header.Code,
 512:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            coap_header.messageID,
 513:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            &coap_header.token[0]);
 514:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 515:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if ((openudp_send(msg))==E_FAIL) {
 1378              		.loc 1 515 0
 1379 090c 7868     		ldr	r0, [r7, #4]
 1380 090e FFF7FEFF 		bl	openudp_send
 1381 0912 0346     		mov	r3, r0
 1382 0914 012B     		cmp	r3, #1
 1383 0916 02D1     		bne	.L6
 516:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openqueue_freePacketBuffer(msg);
 1384              		.loc 1 516 0
 1385 0918 7868     		ldr	r0, [r7, #4]
 1386 091a FFF7FEFF 		bl	openqueue_freePacketBuffer
 1387              	.L6:
 517:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 518:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 1388              		.loc 1 518 0
 1389 091e E837     		adds	r7, r7, #232
 1390              		.cfi_def_cfa_offset 16
 1391 0920 BD46     		mov	sp, r7
 1392              		.cfi_def_cfa_register 13
 1393              		@ sp needed
 1394 0922 B0BD     		pop	{r4, r5, r7, pc}
 1395              		.cfi_endproc
 1396              	.LFE1:
 1398              		.align	2
 1399              		.global	opencoap_sendDone
 1400              		.thumb
 1401              		.thumb_func
 1403              	opencoap_sendDone:
 1404              	.LFB2:
 519:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 520:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
 521:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Indicates that the CoAP response has been sent.
 522:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 523:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] msg A pointer to the message which was sent.
 524:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] error The outcome of the send function.
 525:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
 526:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_sendDone(OpenQueueEntry_t* msg, owerror_t error) {
 1405              		.loc 1 526 0
 1406              		.cfi_startproc
 1407              		@ args = 0, pretend = 0, frame = 16
 1408              		@ frame_needed = 1, uses_anonymous_args = 0
 1409 0924 80B5     		push	{r7, lr}
 1410              		.cfi_def_cfa_offset 8
 1411              		.cfi_offset 7, -8
 1412              		.cfi_offset 14, -4
 1413 0926 84B0     		sub	sp, sp, #16
 1414              		.cfi_def_cfa_offset 24
 1415 0928 00AF     		add	r7, sp, #0
 1416              		.cfi_def_cfa_register 7
 1417 092a 7860     		str	r0, [r7, #4]
 1418 092c 0B46     		mov	r3, r1
 1419 092e FB70     		strb	r3, [r7, #3]
 527:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_resource_desc_t* temp_resource;
 528:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 529:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // take ownership over that packet
 530:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->owner = COMPONENT_OPENCOAP;
 1420              		.loc 1 530 0
 1421 0930 7B68     		ldr	r3, [r7, #4]
 1422 0932 1822     		movs	r2, #24
 1423 0934 5A70     		strb	r2, [r3, #1]
 531:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 532:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // indicate sendDone to creator of that packet
 533:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== mine
 534:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (msg->creator==COMPONENT_OPENCOAP) {
 1424              		.loc 1 534 0
 1425 0936 7B68     		ldr	r3, [r7, #4]
 1426 0938 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1427 093a 182B     		cmp	r3, #24
 1428 093c 03D1     		bne	.L73
 535:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openqueue_freePacketBuffer(msg);
 1429              		.loc 1 535 0
 1430 093e 7868     		ldr	r0, [r7, #4]
 1431 0940 FFF7FEFF 		bl	openqueue_freePacketBuffer
 536:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       return;
 1432              		.loc 1 536 0
 1433 0944 23E0     		b	.L72
 1434              	.L73:
 537:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 538:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    //=== someone else's
 539:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    temp_resource = opencoap_vars.resources;
 1435              		.loc 1 539 0
 1436 0946 134B     		ldr	r3, .L78
 1437 0948 1B69     		ldr	r3, [r3, #16]
 1438 094a FB60     		str	r3, [r7, #12]
 540:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    while (temp_resource!=NULL) {
 1439              		.loc 1 540 0
 1440 094c 13E0     		b	.L75
 1441              	.L77:
 541:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (
 542:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          temp_resource->componentID==msg->creator &&
 1442              		.loc 1 542 0
 1443 094e FB68     		ldr	r3, [r7, #12]
 1444 0950 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 1445 0952 7B68     		ldr	r3, [r7, #4]
 1446 0954 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 541:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (
 1447              		.loc 1 541 0
 1448 0956 9A42     		cmp	r2, r3
 1449 0958 0AD1     		bne	.L76
 543:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          temp_resource->callbackSendDone!=NULL
 1450              		.loc 1 543 0
 1451 095a FB68     		ldr	r3, [r7, #12]
 1452 095c 1B6A     		ldr	r3, [r3, #32]
 542:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          temp_resource->callbackSendDone!=NULL
 1453              		.loc 1 542 0
 1454 095e 002B     		cmp	r3, #0
 1455 0960 06D0     		beq	.L76
 544:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          ) {
 545:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          temp_resource->callbackSendDone(msg,error);
 1456              		.loc 1 545 0
 1457 0962 FB68     		ldr	r3, [r7, #12]
 1458 0964 1B6A     		ldr	r3, [r3, #32]
 1459 0966 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1460 0968 7868     		ldr	r0, [r7, #4]
 1461 096a 1146     		mov	r1, r2
 1462 096c 9847     		blx	r3
 546:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          return;
 1463              		.loc 1 546 0
 1464 096e 0EE0     		b	.L72
 1465              	.L76:
 547:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 548:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       temp_resource = temp_resource->next;
 1466              		.loc 1 548 0
 1467 0970 FB68     		ldr	r3, [r7, #12]
 1468 0972 5B6B     		ldr	r3, [r3, #52]
 1469 0974 FB60     		str	r3, [r7, #12]
 1470              	.L75:
 540:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (
 1471              		.loc 1 540 0
 1472 0976 FB68     		ldr	r3, [r7, #12]
 1473 0978 002B     		cmp	r3, #0
 1474 097a E8D1     		bne	.L77
 549:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 550:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 551:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // if you get here, no valid creator was found
 552:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 553:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    openserial_printError(
 1475              		.loc 1 553 0
 1476 097c 1820     		movs	r0, #24
 1477 097e 2B21     		movs	r1, #43
 1478 0980 0022     		movs	r2, #0
 1479 0982 0023     		movs	r3, #0
 1480 0984 FFF7FEFF 		bl	openserial_printError
 554:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       COMPONENT_OPENCOAP,ERR_UNEXPECTED_SENDDONE,
 555:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       (errorparameter_t)0,
 556:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       (errorparameter_t)0
 557:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    );
 558:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    openqueue_freePacketBuffer(msg);
 1481              		.loc 1 558 0
 1482 0988 7868     		ldr	r0, [r7, #4]
 1483 098a FFF7FEFF 		bl	openqueue_freePacketBuffer
 1484              	.L72:
 559:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 1485              		.loc 1 559 0
 1486 098e 1037     		adds	r7, r7, #16
 1487              		.cfi_def_cfa_offset 8
 1488 0990 BD46     		mov	sp, r7
 1489              		.cfi_def_cfa_register 13
 1490              		@ sp needed
 1491 0992 80BD     		pop	{r7, pc}
 1492              	.L79:
 1493              		.align	2
 1494              	.L78:
 1495 0994 00000000 		.word	opencoap_vars
 1496              		.cfi_endproc
 1497              	.LFE2:
 1499              		.align	2
 1500              		.global	opencoap_writeLinks
 1501              		.thumb
 1502              		.thumb_func
 1504              	opencoap_writeLinks:
 1505              	.LFB3:
 560:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 561:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //===== from CoAP resources
 562:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 563:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
 564:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Writes the links to all the resources on this mote into the message.
 565:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 566:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[out] msg The messge to write the links to.
 567:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] componentID The componentID calling this function.
 568:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 569:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \post After this function returns, the msg contains
 570:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
 571:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_writeLinks(OpenQueueEntry_t* msg, uint8_t componentID) {
 1506              		.loc 1 571 0
 1507              		.cfi_startproc
 1508              		@ args = 0, pretend = 0, frame = 16
 1509              		@ frame_needed = 1, uses_anonymous_args = 0
 1510 0998 80B5     		push	{r7, lr}
 1511              		.cfi_def_cfa_offset 8
 1512              		.cfi_offset 7, -8
 1513              		.cfi_offset 14, -4
 1514 099a 84B0     		sub	sp, sp, #16
 1515              		.cfi_def_cfa_offset 24
 1516 099c 00AF     		add	r7, sp, #0
 1517              		.cfi_def_cfa_register 7
 1518 099e 7860     		str	r0, [r7, #4]
 1519 09a0 0B46     		mov	r3, r1
 1520 09a2 FB70     		strb	r3, [r7, #3]
 572:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_resource_desc_t* temp_resource;
 573:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 574:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // start with the first resource in the linked list
 575:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    temp_resource = opencoap_vars.resources;
 1521              		.loc 1 575 0
 1522 09a4 374B     		ldr	r3, .L87
 1523 09a6 1B69     		ldr	r3, [r3, #16]
 1524 09a8 FB60     		str	r3, [r7, #12]
 576:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 577:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // iterate through all resources
 578:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    while (temp_resource!=NULL) {
 1525              		.loc 1 578 0
 1526 09aa 65E0     		b	.L81
 1527              	.L86:
 579:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 580:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (
 581:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             (temp_resource->discoverable==TRUE) &&
 1528              		.loc 1 581 0
 1529 09ac FB68     		ldr	r3, [r7, #12]
 1530 09ae 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 580:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             (temp_resource->discoverable==TRUE) &&
 1531              		.loc 1 580 0
 1532 09b0 002B     		cmp	r3, #0
 1533 09b2 5ED0     		beq	.L82
 1534              		.loc 1 581 0
 1535 09b4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1536 09b6 1F2B     		cmp	r3, #31
 1537 09b8 03D1     		bne	.L83
 582:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             (
 583:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                ((componentID==COMPONENT_CWELLKNOWN) && (temp_resource->path1len==0))
 1538              		.loc 1 583 0
 1539 09ba FB68     		ldr	r3, [r7, #12]
 1540 09bc 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1541 09be 002B     		cmp	r3, #0
 1542 09c0 08D0     		beq	.L84
 1543              	.L83:
 584:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                ||
 585:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                ((componentID==temp_resource->componentID) && (temp_resource->path1len!=0))
 1544              		.loc 1 585 0
 1545 09c2 FB68     		ldr	r3, [r7, #12]
 1546 09c4 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 584:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                ||
 1547              		.loc 1 584 0
 1548 09c6 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1549 09c8 9A42     		cmp	r2, r3
 1550 09ca 52D1     		bne	.L82
 1551              		.loc 1 585 0
 1552 09cc FB68     		ldr	r3, [r7, #12]
 1553 09ce 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1554 09d0 002B     		cmp	r3, #0
 1555 09d2 4ED0     		beq	.L82
 1556              	.L84:
 586:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             )
 587:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          ) {
 588:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 589:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // write ending '>'
 590:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          packetfunctions_reserveHeaderSize(msg,1);
 1557              		.loc 1 590 0
 1558 09d4 7868     		ldr	r0, [r7, #4]
 1559 09d6 0121     		movs	r1, #1
 1560 09d8 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 591:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          msg->payload[0] = '>';
 1561              		.loc 1 591 0
 1562 09dc 7B68     		ldr	r3, [r7, #4]
 1563 09de 5B68     		ldr	r3, [r3, #4]
 1564 09e0 3E22     		movs	r2, #62
 1565 09e2 1A70     		strb	r2, [r3]
 592:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 593:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // write path1
 594:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          if (temp_resource->path1len>0) {
 1566              		.loc 1 594 0
 1567 09e4 FB68     		ldr	r3, [r7, #12]
 1568 09e6 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1569 09e8 002B     		cmp	r3, #0
 1570 09ea 18D0     		beq	.L85
 595:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg,temp_resource->path1len);
 1571              		.loc 1 595 0
 1572 09ec FB68     		ldr	r3, [r7, #12]
 1573 09ee 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1574 09f0 7868     		ldr	r0, [r7, #4]
 1575 09f2 1946     		mov	r1, r3
 1576 09f4 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 596:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             memcpy(&msg->payload[0],temp_resource->path1val,temp_resource->path1len);
 1577              		.loc 1 596 0
 1578 09f8 7B68     		ldr	r3, [r7, #4]
 1579 09fa 5968     		ldr	r1, [r3, #4]
 1580 09fc FB68     		ldr	r3, [r7, #12]
 1581 09fe DA68     		ldr	r2, [r3, #12]
 1582 0a00 FB68     		ldr	r3, [r7, #12]
 1583 0a02 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1584 0a04 0846     		mov	r0, r1
 1585 0a06 1146     		mov	r1, r2
 1586 0a08 1A46     		mov	r2, r3
 1587 0a0a FFF7FEFF 		bl	memcpy
 597:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg,1);
 1588              		.loc 1 597 0
 1589 0a0e 7868     		ldr	r0, [r7, #4]
 1590 0a10 0121     		movs	r1, #1
 1591 0a12 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 598:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             msg->payload[0] = '/';
 1592              		.loc 1 598 0
 1593 0a16 7B68     		ldr	r3, [r7, #4]
 1594 0a18 5B68     		ldr	r3, [r3, #4]
 1595 0a1a 2F22     		movs	r2, #47
 1596 0a1c 1A70     		strb	r2, [r3]
 1597              	.L85:
 599:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          }
 600:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 601:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // write path0
 602:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          packetfunctions_reserveHeaderSize(msg,temp_resource->path0len);
 1598              		.loc 1 602 0
 1599 0a1e FB68     		ldr	r3, [r7, #12]
 1600 0a20 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1601 0a22 7868     		ldr	r0, [r7, #4]
 1602 0a24 1946     		mov	r1, r3
 1603 0a26 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 603:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          memcpy(msg->payload,temp_resource->path0val,temp_resource->path0len);
 1604              		.loc 1 603 0
 1605 0a2a 7B68     		ldr	r3, [r7, #4]
 1606 0a2c 5968     		ldr	r1, [r3, #4]
 1607 0a2e FB68     		ldr	r3, [r7, #12]
 1608 0a30 5A68     		ldr	r2, [r3, #4]
 1609 0a32 FB68     		ldr	r3, [r7, #12]
 1610 0a34 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1611 0a36 0846     		mov	r0, r1
 1612 0a38 1146     		mov	r1, r2
 1613 0a3a 1A46     		mov	r2, r3
 1614 0a3c FFF7FEFF 		bl	memcpy
 604:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          packetfunctions_reserveHeaderSize(msg,2);
 1615              		.loc 1 604 0
 1616 0a40 7868     		ldr	r0, [r7, #4]
 1617 0a42 0221     		movs	r1, #2
 1618 0a44 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 605:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          msg->payload[1] = '/';
 1619              		.loc 1 605 0
 1620 0a48 7B68     		ldr	r3, [r7, #4]
 1621 0a4a 5B68     		ldr	r3, [r3, #4]
 1622 0a4c 0133     		adds	r3, r3, #1
 1623 0a4e 2F22     		movs	r2, #47
 1624 0a50 1A70     		strb	r2, [r3]
 606:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 607:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // write opening '>'
 608:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          msg->payload[0] = '<';
 1625              		.loc 1 608 0
 1626 0a52 7B68     		ldr	r3, [r7, #4]
 1627 0a54 5B68     		ldr	r3, [r3, #4]
 1628 0a56 3C22     		movs	r2, #60
 1629 0a58 1A70     		strb	r2, [r3]
 609:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 610:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          // write separator between links
 611:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          if (temp_resource->next!=NULL) {
 1630              		.loc 1 611 0
 1631 0a5a FB68     		ldr	r3, [r7, #12]
 1632 0a5c 5B6B     		ldr	r3, [r3, #52]
 1633 0a5e 002B     		cmp	r3, #0
 1634 0a60 07D0     		beq	.L82
 612:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg,1);
 1635              		.loc 1 612 0
 1636 0a62 7868     		ldr	r0, [r7, #4]
 1637 0a64 0121     		movs	r1, #1
 1638 0a66 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 613:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             msg->payload[0] = ',';
 1639              		.loc 1 613 0
 1640 0a6a 7B68     		ldr	r3, [r7, #4]
 1641 0a6c 5B68     		ldr	r3, [r3, #4]
 1642 0a6e 2C22     		movs	r2, #44
 1643 0a70 1A70     		strb	r2, [r3]
 1644              	.L82:
 614:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          }
 615:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 616:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // iterate to next resource
 617:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       temp_resource = temp_resource->next;
 1645              		.loc 1 617 0
 1646 0a72 FB68     		ldr	r3, [r7, #12]
 1647 0a74 5B6B     		ldr	r3, [r3, #52]
 1648 0a76 FB60     		str	r3, [r7, #12]
 1649              	.L81:
 578:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 1650              		.loc 1 578 0
 1651 0a78 FB68     		ldr	r3, [r7, #12]
 1652 0a7a 002B     		cmp	r3, #0
 1653 0a7c 96D1     		bne	.L86
 618:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 619:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 1654              		.loc 1 619 0
 1655 0a7e 1037     		adds	r7, r7, #16
 1656              		.cfi_def_cfa_offset 8
 1657 0a80 BD46     		mov	sp, r7
 1658              		.cfi_def_cfa_register 13
 1659              		@ sp needed
 1660 0a82 80BD     		pop	{r7, pc}
 1661              	.L88:
 1662              		.align	2
 1663              	.L87:
 1664 0a84 00000000 		.word	opencoap_vars
 1665              		.cfi_endproc
 1666              	.LFE3:
 1668              		.align	2
 1669              		.global	opencoap_register
 1670              		.thumb
 1671              		.thumb_func
 1673              	opencoap_register:
 1674              	.LFB4:
 620:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 621:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
 622:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Register a new CoAP resource.
 623:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 624:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** This function is called by a CoAP resource when it starts, allowing it to
 625:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** receive data sent to that resource.
 626:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 627:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** Registration consists in adding a new resource at the end of the linked list
 628:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** of resources.
 629:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 630:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] desc The description of the CoAP resource.
 631:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
 632:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_register(coap_resource_desc_t* desc) {
 1675              		.loc 1 632 0
 1676              		.cfi_startproc
 1677              		@ args = 0, pretend = 0, frame = 16
 1678              		@ frame_needed = 1, uses_anonymous_args = 0
 1679              		@ link register save eliminated.
 1680 0a88 80B4     		push	{r7}
 1681              		.cfi_def_cfa_offset 4
 1682              		.cfi_offset 7, -4
 1683 0a8a 85B0     		sub	sp, sp, #20
 1684              		.cfi_def_cfa_offset 24
 1685 0a8c 00AF     		add	r7, sp, #0
 1686              		.cfi_def_cfa_register 7
 1687 0a8e 7860     		str	r0, [r7, #4]
 633:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_resource_desc_t* last_elem;
 634:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 635:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // since this CoAP resource will be at the end of the list, its next element
 636:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // should point to NULL, indicating the end of the linked list.
 637:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    desc->next = NULL;
 1688              		.loc 1 637 0
 1689 0a90 7B68     		ldr	r3, [r7, #4]
 1690 0a92 0022     		movs	r2, #0
 1691 0a94 5A63     		str	r2, [r3, #52]
 638:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 639:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // if this is the first resource, simply have resources point to it
 640:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (opencoap_vars.resources==NULL) {
 1692              		.loc 1 640 0
 1693 0a96 0D4B     		ldr	r3, .L94
 1694 0a98 1B69     		ldr	r3, [r3, #16]
 1695 0a9a 002B     		cmp	r3, #0
 1696 0a9c 03D1     		bne	.L90
 641:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       opencoap_vars.resources = desc;
 1697              		.loc 1 641 0
 1698 0a9e 0B4A     		ldr	r2, .L94
 1699 0aa0 7B68     		ldr	r3, [r7, #4]
 1700 0aa2 1361     		str	r3, [r2, #16]
 642:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       return;
 1701              		.loc 1 642 0
 1702 0aa4 0DE0     		b	.L89
 1703              	.L90:
 643:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 644:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 645:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // if not, add to the end of the resource linked list
 646:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    last_elem = opencoap_vars.resources;
 1704              		.loc 1 646 0
 1705 0aa6 094B     		ldr	r3, .L94
 1706 0aa8 1B69     		ldr	r3, [r3, #16]
 1707 0aaa FB60     		str	r3, [r7, #12]
 647:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    while (last_elem->next!=NULL) {
 1708              		.loc 1 647 0
 1709 0aac 02E0     		b	.L92
 1710              	.L93:
 648:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       last_elem = last_elem->next;
 1711              		.loc 1 648 0
 1712 0aae FB68     		ldr	r3, [r7, #12]
 1713 0ab0 5B6B     		ldr	r3, [r3, #52]
 1714 0ab2 FB60     		str	r3, [r7, #12]
 1715              	.L92:
 647:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    while (last_elem->next!=NULL) {
 1716              		.loc 1 647 0
 1717 0ab4 FB68     		ldr	r3, [r7, #12]
 1718 0ab6 5B6B     		ldr	r3, [r3, #52]
 1719 0ab8 002B     		cmp	r3, #0
 1720 0aba F8D1     		bne	.L93
 649:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 650:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    last_elem->next = desc;
 1721              		.loc 1 650 0
 1722 0abc FB68     		ldr	r3, [r7, #12]
 1723 0abe 7A68     		ldr	r2, [r7, #4]
 1724 0ac0 5A63     		str	r2, [r3, #52]
 1725              	.L89:
 651:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 1726              		.loc 1 651 0
 1727 0ac2 1437     		adds	r7, r7, #20
 1728              		.cfi_def_cfa_offset 4
 1729 0ac4 BD46     		mov	sp, r7
 1730              		.cfi_def_cfa_register 13
 1731              		@ sp needed
 1732 0ac6 5DF8047B 		ldr	r7, [sp], #4
 1733              		.cfi_restore 7
 1734              		.cfi_def_cfa_offset 0
 1735 0aca 7047     		bx	lr
 1736              	.L95:
 1737              		.align	2
 1738              	.L94:
 1739 0acc 00000000 		.word	opencoap_vars
 1740              		.cfi_endproc
 1741              	.LFE4:
 1743              		.align	2
 1744              		.global	opencoap_send
 1745              		.thumb
 1746              		.thumb_func
 1748              	opencoap_send:
 1749              	.LFB5:
 652:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 653:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
 654:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Send a CoAP request.
 655:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 656:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** This function is called by a CoAP resource when it wants to send some data.
 657:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** This function is NOT called for a response.
 658:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 659:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] msg The message to be sent. This messages should not contain the
 660:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    CoAP header.
 661:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] type The CoAP type of the message.
 662:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] code The CoAP code of the message.
 663:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] TKL  The Token Length of the message, sanitized to a max of COAP_MAX_TKL (8).
 664:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] options An array of sorted CoAP options.
 665:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] optionsLen The length of the options array.
 666:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[out] descSender A pointer to the description of the calling CoAP
 667:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    resource.
 668:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 669:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \post After returning, this function will have written the messageID and TOKEN
 670:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    used in the descSender parameter.
 671:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 672:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \return The outcome of sending the packet.
 673:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
 674:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** owerror_t opencoap_send(
 675:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       OpenQueueEntry_t*      msg,
 676:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_type_t            type,
 677:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_code_t            code,
 678:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       uint8_t                TKL,
 679:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_option_iht*       options,
 680:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       uint8_t                optionsLen,
 681:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       coap_resource_desc_t*  descSender
 682:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    ) {
 1750              		.loc 1 682 0
 1751              		.cfi_startproc
 1752              		@ args = 12, pretend = 0, frame = 24
 1753              		@ frame_needed = 1, uses_anonymous_args = 0
 1754 0ad0 B0B5     		push	{r4, r5, r7, lr}
 1755              		.cfi_def_cfa_offset 16
 1756              		.cfi_offset 4, -16
 1757              		.cfi_offset 5, -12
 1758              		.cfi_offset 7, -8
 1759              		.cfi_offset 14, -4
 1760 0ad2 8AB0     		sub	sp, sp, #40
 1761              		.cfi_def_cfa_offset 56
 1762 0ad4 04AF     		add	r7, sp, #16
 1763              		.cfi_def_cfa 7, 40
 1764 0ad6 7860     		str	r0, [r7, #4]
 1765 0ad8 0846     		mov	r0, r1
 1766 0ada 1146     		mov	r1, r2
 1767 0adc 1A46     		mov	r2, r3
 1768 0ade 0346     		mov	r3, r0
 1769 0ae0 FB70     		strb	r3, [r7, #3]
 1770 0ae2 0B46     		mov	r3, r1
 1771 0ae4 BB70     		strb	r3, [r7, #2]
 1772 0ae6 1346     		mov	r3, r2
 1773 0ae8 7B70     		strb	r3, [r7, #1]
 683:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint16_t token;
 684:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    uint8_t tokenPos=0;
 1774              		.loc 1 684 0
 1775 0aea 0023     		movs	r3, #0
 1776 0aec FB75     		strb	r3, [r7, #23]
 685:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_header_iht* request;
 686:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    owerror_t ret;
 687:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    coap_option_class_t class;
 688:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 689:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    class = COAP_OPTION_CLASS_ALL;
 1777              		.loc 1 689 0
 1778 0aee 0323     		movs	r3, #3
 1779 0af0 BB75     		strb	r3, [r7, #22]
 690:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 691:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // increment the (global) messageID
 692:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (opencoap_vars.messageID++ == 0xffff) {
 1780              		.loc 1 692 0
 1781 0af2 494B     		ldr	r3, .L105
 1782 0af4 DB8A     		ldrh	r3, [r3, #22]
 1783 0af6 5A1C     		adds	r2, r3, #1
 1784 0af8 91B2     		uxth	r1, r2
 1785 0afa 474A     		ldr	r2, .L105
 1786 0afc D182     		strh	r1, [r2, #22]	@ movhi
 1787 0afe 4FF6FF72 		movw	r2, #65535
 1788 0b02 9342     		cmp	r3, r2
 1789 0b04 02D1     		bne	.L97
 693:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       opencoap_vars.messageID = 0;
 1790              		.loc 1 693 0
 1791 0b06 444B     		ldr	r3, .L105
 1792 0b08 0022     		movs	r2, #0
 1793 0b0a DA82     		strh	r2, [r3, #22]	@ movhi
 1794              	.L97:
 694:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 695:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 696:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // take ownership over the packet
 697:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->owner                       = COMPONENT_OPENCOAP;
 1795              		.loc 1 697 0
 1796 0b0c 7B68     		ldr	r3, [r7, #4]
 1797 0b0e 1822     		movs	r2, #24
 1798 0b10 5A70     		strb	r2, [r3, #1]
 698:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 699:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // fill in packet metadata
 700:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->l4_sourcePortORicmpv6Type   = WKP_UDP_COAP;
 1799              		.loc 1 700 0
 1800 0b12 7B68     		ldr	r3, [r7, #4]
 1801 0b14 41F23362 		movw	r2, #5683
 1802 0b18 1A82     		strh	r2, [r3, #16]	@ movhi
 701:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 702:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // update the last_request header
 703:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    request                          = &descSender->last_request;
 1803              		.loc 1 703 0
 1804 0b1a 3B6B     		ldr	r3, [r7, #48]
 1805 0b1c 2433     		adds	r3, r3, #36
 1806 0b1e 3B61     		str	r3, [r7, #16]
 704:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    request->T                       = type;
 1807              		.loc 1 704 0
 1808 0b20 3B69     		ldr	r3, [r7, #16]
 1809 0b22 FA78     		ldrb	r2, [r7, #3]
 1810 0b24 5A70     		strb	r2, [r3, #1]
 705:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    request->Code                    = code;
 1811              		.loc 1 705 0
 1812 0b26 3B69     		ldr	r3, [r7, #16]
 1813 0b28 BA78     		ldrb	r2, [r7, #2]
 1814 0b2a DA70     		strb	r2, [r3, #3]
 706:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    request->messageID               = opencoap_vars.messageID;
 1815              		.loc 1 706 0
 1816 0b2c 3A4B     		ldr	r3, .L105
 1817 0b2e DA8A     		ldrh	r2, [r3, #22]
 1818 0b30 3B69     		ldr	r3, [r7, #16]
 1819 0b32 9A80     		strh	r2, [r3, #4]	@ movhi
 707:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    request->TKL                     = TKL<COAP_MAX_TKL ? TKL : COAP_MAX_TKL;
 1820              		.loc 1 707 0
 1821 0b34 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 1822 0b36 082B     		cmp	r3, #8
 1823 0b38 28BF     		it	cs
 1824 0b3a 0823     		movcs	r3, #8
 1825 0b3c DAB2     		uxtb	r2, r3
 1826 0b3e 3B69     		ldr	r3, [r7, #16]
 1827 0b40 9A70     		strb	r2, [r3, #2]
 708:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 709:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    while (tokenPos<request->TKL) {
 1828              		.loc 1 709 0
 1829 0b42 11E0     		b	.L98
 1830              	.L99:
 710:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        token = openrandom_get16b();
 1831              		.loc 1 710 0
 1832 0b44 FFF7FEFF 		bl	openrandom_get16b
 1833 0b48 0346     		mov	r3, r0
 1834 0b4a BB81     		strh	r3, [r7, #12]	@ movhi
 711:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        memcpy(&request->token[tokenPos],&token,2);
 1835              		.loc 1 711 0
 1836 0b4c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1837 0b4e 3A69     		ldr	r2, [r7, #16]
 1838 0b50 1344     		add	r3, r3, r2
 1839 0b52 9A1D     		adds	r2, r3, #6
 1840 0b54 07F10C03 		add	r3, r7, #12
 1841 0b58 1046     		mov	r0, r2
 1842 0b5a 1946     		mov	r1, r3
 1843 0b5c 0222     		movs	r2, #2
 1844 0b5e FFF7FEFF 		bl	memcpy
 712:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        tokenPos+=2;
 1845              		.loc 1 712 0
 1846 0b62 FB7D     		ldrb	r3, [r7, #23]
 1847 0b64 0233     		adds	r3, r3, #2
 1848 0b66 FB75     		strb	r3, [r7, #23]
 1849              	.L98:
 709:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        token = openrandom_get16b();
 1850              		.loc 1 709 0
 1851 0b68 3B69     		ldr	r3, [r7, #16]
 1852 0b6a 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1853 0b6c FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 1854 0b6e 9A42     		cmp	r2, r3
 1855 0b70 E8D3     		bcc	.L99
 713:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 714:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 715:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    if (descSender->securityContext != NULL) { // security activated for the resource
 1856              		.loc 1 715 0
 1857 0b72 3B6B     		ldr	r3, [r7, #48]
 1858 0b74 5B69     		ldr	r3, [r3, #20]
 1859 0b76 002B     		cmp	r3, #0
 1860 0b78 22D0     		beq	.L100
 716:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // get new sequence number and save it
 717:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       request->oscoapSeqNum = openoscoap_get_sequence_number(descSender->securityContext);
 1861              		.loc 1 717 0
 1862 0b7a 3B6B     		ldr	r3, [r7, #48]
 1863 0b7c 5B69     		ldr	r3, [r3, #20]
 1864 0b7e 1846     		mov	r0, r3
 1865 0b80 FFF7FEFF 		bl	openoscoap_get_sequence_number
 1866 0b84 0346     		mov	r3, r0
 1867 0b86 1A46     		mov	r2, r3
 1868 0b88 3B69     		ldr	r3, [r7, #16]
 1869 0b8a DA81     		strh	r2, [r3, #14]	@ movhi
 718:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // protect the message in the openqueue buffer
 719:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       ret = openoscoap_protect_message(
 1870              		.loc 1 719 0
 1871 0b8c 3B6B     		ldr	r3, [r7, #48]
 1872 0b8e 5969     		ldr	r1, [r3, #20]
 1873 0b90 3B69     		ldr	r3, [r7, #16]
 1874 0b92 DB89     		ldrh	r3, [r3, #14]
 1875 0b94 BC78     		ldrb	r4, [r7, #2]	@ zero_extendqisi2
 1876 0b96 97F82C20 		ldrb	r2, [r7, #44]	@ zero_extendqisi2
 1877 0b9a 0092     		str	r2, [sp]
 1878 0b9c 7A68     		ldr	r2, [r7, #4]
 1879 0b9e 0192     		str	r2, [sp, #4]
 1880 0ba0 0293     		str	r3, [sp, #8]
 1881 0ba2 0846     		mov	r0, r1
 1882 0ba4 0121     		movs	r1, #1
 1883 0ba6 2246     		mov	r2, r4
 1884 0ba8 BB6A     		ldr	r3, [r7, #40]
 1885 0baa FFF7FEFF 		bl	openoscoap_protect_message
 1886 0bae 0346     		mov	r3, r0
 1887 0bb0 FB73     		strb	r3, [r7, #15]
 720:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               descSender->securityContext,
 721:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               COAP_VERSION,
 722:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               code,
 723:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               options,
 724:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               optionsLen,
 725:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               msg,
 726:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****               request->oscoapSeqNum);
 727:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 728:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (ret != E_SUCCESS) {
 1888              		.loc 1 728 0
 1889 0bb2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1890 0bb4 002B     		cmp	r3, #0
 1891 0bb6 01D0     		beq	.L101
 729:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****          return E_FAIL;
 1892              		.loc 1 729 0
 1893 0bb8 0123     		movs	r3, #1
 1894 0bba 29E0     		b	.L104
 1895              	.L101:
 730:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 731:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       class = COAP_OPTION_CLASS_U;
 1896              		.loc 1 731 0
 1897 0bbc 0223     		movs	r3, #2
 1898 0bbe BB75     		strb	r3, [r7, #22]
 1899              	.L100:
 732:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    }
 733:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 734:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // add payload marker
 735:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (msg->length) {
 1900              		.loc 1 735 0
 1901 0bc0 7B68     		ldr	r3, [r7, #4]
 1902 0bc2 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1903 0bc4 002B     		cmp	r3, #0
 1904 0bc6 07D0     		beq	.L103
 736:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         packetfunctions_reserveHeaderSize(msg, 1);
 1905              		.loc 1 736 0
 1906 0bc8 7868     		ldr	r0, [r7, #4]
 1907 0bca 0121     		movs	r1, #1
 1908 0bcc FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 737:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         msg->payload[0] = COAP_PAYLOAD_MARKER;
 1909              		.loc 1 737 0
 1910 0bd0 7B68     		ldr	r3, [r7, #4]
 1911 0bd2 5B68     		ldr	r3, [r3, #4]
 1912 0bd4 FF22     		movs	r2, #255
 1913 0bd6 1A70     		strb	r2, [r3]
 1914              	.L103:
 738:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 739:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 740:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // once header is reserved, encode the options to the openqueue payload buffer
 741:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_options_encode(msg,
 1915              		.loc 1 741 0
 1916 0bd8 97F82C20 		ldrb	r2, [r7, #44]	@ zero_extendqisi2
 1917 0bdc BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 1918 0bde 7868     		ldr	r0, [r7, #4]
 1919 0be0 B96A     		ldr	r1, [r7, #40]
 1920 0be2 FFF7FEFF 		bl	opencoap_options_encode
 742:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            options,
 743:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            optionsLen,
 744:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            class);
 745:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 746:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // pre-pend CoAP header (version,type,TKL,code,messageID,Token)
 747:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    opencoap_header_encode(msg, COAP_VERSION, type, request->TKL, code, request->messageID, request-
 1921              		.loc 1 747 0
 1922 0be6 3B69     		ldr	r3, [r7, #16]
 1923 0be8 9C78     		ldrb	r4, [r3, #2]	@ zero_extendqisi2
 1924 0bea 3B69     		ldr	r3, [r7, #16]
 1925 0bec 9A88     		ldrh	r2, [r3, #4]
 1926 0bee 3B69     		ldr	r3, [r7, #16]
 1927 0bf0 0633     		adds	r3, r3, #6
 1928 0bf2 FD78     		ldrb	r5, [r7, #3]	@ zero_extendqisi2
 1929 0bf4 B978     		ldrb	r1, [r7, #2]	@ zero_extendqisi2
 1930 0bf6 0091     		str	r1, [sp]
 1931 0bf8 0192     		str	r2, [sp, #4]
 1932 0bfa 0293     		str	r3, [sp, #8]
 1933 0bfc 7868     		ldr	r0, [r7, #4]
 1934 0bfe 0121     		movs	r1, #1
 1935 0c00 2A46     		mov	r2, r5
 1936 0c02 2346     		mov	r3, r4
 1937 0c04 FFF7FEFF 		bl	opencoap_header_encode
 748:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 749:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    return openudp_send(msg);
 1938              		.loc 1 749 0
 1939 0c08 7868     		ldr	r0, [r7, #4]
 1940 0c0a FFF7FEFF 		bl	openudp_send
 1941 0c0e 0346     		mov	r3, r0
 1942              	.L104:
 750:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 1943              		.loc 1 750 0 discriminator 1
 1944 0c10 1846     		mov	r0, r3
 1945 0c12 1837     		adds	r7, r7, #24
 1946              		.cfi_def_cfa_offset 16
 1947 0c14 BD46     		mov	sp, r7
 1948              		.cfi_def_cfa_register 13
 1949              		@ sp needed
 1950 0c16 B0BD     		pop	{r4, r5, r7, pc}
 1951              	.L106:
 1952              		.align	2
 1953              	.L105:
 1954 0c18 00000000 		.word	opencoap_vars
 1955              		.cfi_endproc
 1956              	.LFE5:
 1958              		.align	2
 1959              		.global	opencoap_get_option_class
 1960              		.thumb
 1961              		.thumb_func
 1963              	opencoap_get_option_class:
 1964              	.LFB6:
 751:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 752:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** /**
 753:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \brief Lookup the OSCOAP class for a given option.
 754:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 755:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** This function is called to resolve the OSCOAP class of the passed option.
 756:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** CLASS_E options get encrypted, CLASS_I options are integrity protected,
 757:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** and CLASS_U options are unprotected by OSCOAP, if security is activated.
 758:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 759:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** \param[in] type The CoAP option type that needs to be resolved.
 760:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** */
 761:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** coap_option_class_t opencoap_get_option_class(coap_option_t type) {
 1965              		.loc 1 761 0
 1966              		.cfi_startproc
 1967              		@ args = 0, pretend = 0, frame = 8
 1968              		@ frame_needed = 1, uses_anonymous_args = 0
 1969              		@ link register save eliminated.
 1970 0c1c 80B4     		push	{r7}
 1971              		.cfi_def_cfa_offset 4
 1972              		.cfi_offset 7, -4
 1973 0c1e 83B0     		sub	sp, sp, #12
 1974              		.cfi_def_cfa_offset 16
 1975 0c20 00AF     		add	r7, sp, #0
 1976              		.cfi_def_cfa_register 7
 1977 0c22 0346     		mov	r3, r0
 1978 0c24 FB71     		strb	r3, [r7, #7]
 762:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     switch(type) {
 1979              		.loc 1 762 0
 1980 0c26 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1981 0c28 013B     		subs	r3, r3, #1
 1982 0c2a 262B     		cmp	r3, #38
 1983 0c2c 54D8     		bhi	.L108
 1984 0c2e 01A2     		adr	r2, .L110
 1985 0c30 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1986              		.p2align 2
 1987              	.L110:
 1988 0c34 D10C0000 		.word	.L109+1
 1989 0c38 D90C0000 		.word	.L108+1
 1990 0c3c D50C0000 		.word	.L111+1
 1991 0c40 D10C0000 		.word	.L109+1
 1992 0c44 D10C0000 		.word	.L109+1
 1993 0c48 D90C0000 		.word	.L108+1
 1994 0c4c D50C0000 		.word	.L111+1
 1995 0c50 D10C0000 		.word	.L109+1
 1996 0c54 D90C0000 		.word	.L108+1
 1997 0c58 D90C0000 		.word	.L108+1
 1998 0c5c D10C0000 		.word	.L109+1
 1999 0c60 D10C0000 		.word	.L109+1
 2000 0c64 D90C0000 		.word	.L108+1
 2001 0c68 D10C0000 		.word	.L109+1
 2002 0c6c D10C0000 		.word	.L109+1
 2003 0c70 D10C0000 		.word	.L109+1
 2004 0c74 D90C0000 		.word	.L108+1
 2005 0c78 D90C0000 		.word	.L108+1
 2006 0c7c D90C0000 		.word	.L108+1
 2007 0c80 D10C0000 		.word	.L109+1
 2008 0c84 D50C0000 		.word	.L111+1
 2009 0c88 D90C0000 		.word	.L108+1
 2010 0c8c D90C0000 		.word	.L108+1
 2011 0c90 D90C0000 		.word	.L108+1
 2012 0c94 D90C0000 		.word	.L108+1
 2013 0c98 D90C0000 		.word	.L108+1
 2014 0c9c D90C0000 		.word	.L108+1
 2015 0ca0 D90C0000 		.word	.L108+1
 2016 0ca4 D90C0000 		.word	.L108+1
 2017 0ca8 D90C0000 		.word	.L108+1
 2018 0cac D90C0000 		.word	.L108+1
 2019 0cb0 D90C0000 		.word	.L108+1
 2020 0cb4 D90C0000 		.word	.L108+1
 2021 0cb8 D90C0000 		.word	.L108+1
 2022 0cbc D50C0000 		.word	.L111+1
 2023 0cc0 D90C0000 		.word	.L108+1
 2024 0cc4 D90C0000 		.word	.L108+1
 2025 0cc8 D90C0000 		.word	.L108+1
 2026 0ccc D50C0000 		.word	.L111+1
 2027              		.p2align 1
 2028              	.L109:
 763:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         // class E options
 764:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_IFMATCH:
 765:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_ETAG:
 766:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_IFNONEMATCH:
 767:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_LOCATIONPATH:
 768:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_URIPATH:
 769:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_CONTENTFORMAT:
 770:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_MAXAGE:
 771:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_URIQUERY:
 772:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_ACCEPT:
 773:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_LOCATIONQUERY:
 774:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             return COAP_OPTION_CLASS_E;
 2029              		.loc 1 774 0
 2030 0cd0 0023     		movs	r3, #0
 2031 0cd2 02E0     		b	.L112
 2032              	.L111:
 775:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         // class I options none supported
 776:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 777:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         //class U options
 778:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_URIHOST:
 779:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_URIPORT:
 780:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_PROXYURI:
 781:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_PROXYSCHEME:
 782:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         case COAP_OPTION_NUM_OBJECTSECURITY:
 783:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             return COAP_OPTION_CLASS_U;
 2033              		.loc 1 783 0
 2034 0cd4 0223     		movs	r3, #2
 2035 0cd6 00E0     		b	.L112
 2036              	.L108:
 784:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         default:
 785:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             return COAP_OPTION_CLASS_U;
 2037              		.loc 1 785 0
 2038 0cd8 0223     		movs	r3, #2
 2039              	.L112:
 786:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 787:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 2040              		.loc 1 787 0
 2041 0cda 1846     		mov	r0, r3
 2042 0cdc 0C37     		adds	r7, r7, #12
 2043              		.cfi_def_cfa_offset 4
 2044 0cde BD46     		mov	sp, r7
 2045              		.cfi_def_cfa_register 13
 2046              		@ sp needed
 2047 0ce0 5DF8047B 		ldr	r7, [sp], #4
 2048              		.cfi_restore 7
 2049              		.cfi_def_cfa_offset 0
 2050 0ce4 7047     		bx	lr
 2051              		.cfi_endproc
 2052              	.LFE6:
 2054 0ce6 00BF     		.align	2
 2055              		.global	opencoap_options_encode
 2056              		.thumb
 2057              		.thumb_func
 2059              	opencoap_options_encode:
 2060              	.LFB7:
 788:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 789:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** owerror_t opencoap_options_encode(
 790:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         OpenQueueEntry_t*       msg,
 791:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht*        options,
 792:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t                 optionsLen,
 793:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_class_t     class
 794:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         ) {
 2061              		.loc 1 794 0
 2062              		.cfi_startproc
 2063              		@ args = 0, pretend = 0, frame = 40
 2064              		@ frame_needed = 1, uses_anonymous_args = 0
 2065 0ce8 80B5     		push	{r7, lr}
 2066              		.cfi_def_cfa_offset 8
 2067              		.cfi_offset 7, -8
 2068              		.cfi_offset 14, -4
 2069 0cea 8AB0     		sub	sp, sp, #40
 2070              		.cfi_def_cfa_offset 48
 2071 0cec 00AF     		add	r7, sp, #0
 2072              		.cfi_def_cfa_register 7
 2073 0cee F860     		str	r0, [r7, #12]
 2074 0cf0 B960     		str	r1, [r7, #8]
 2075 0cf2 1146     		mov	r1, r2
 2076 0cf4 1A46     		mov	r2, r3
 2077 0cf6 0B46     		mov	r3, r1
 2078 0cf8 FB71     		strb	r3, [r7, #7]
 2079 0cfa 1346     		mov	r3, r2
 2080 0cfc BB71     		strb	r3, [r7, #6]
 795:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 796:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t i;
 797:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t ii;
 798:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint32_t delta;
 799:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionDelta;
 800:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionDeltaExt[2];
 801:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionDeltaExtLen;
 802:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionLength;
 803:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionLengthExt[2];
 804:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionLengthExtLen;
 805:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_t previousOptionNum;
 806:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 807:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // encode options in reversed order
 808:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (options != NULL && optionsLen != 0) {
 2081              		.loc 1 808 0
 2082 0cfe BB68     		ldr	r3, [r7, #8]
 2083 0d00 002B     		cmp	r3, #0
 2084 0d02 00F00581 		beq	.L114
 2085              		.loc 1 808 0 is_stmt 0 discriminator 1
 2086 0d06 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2087 0d08 002B     		cmp	r3, #0
 2088 0d0a 00F00181 		beq	.L114
 809:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         for (i = optionsLen ; i-- > 0 ; ) {
 2089              		.loc 1 809 0 is_stmt 1
 2090 0d0e FB79     		ldrb	r3, [r7, #7]
 2091 0d10 87F82730 		strb	r3, [r7, #39]
 2092 0d14 F4E0     		b	.L115
 2093              	.L129:
 810:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // skip option if inappropriate class
 811:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (class != opencoap_get_option_class(options[i].type) &&
 2094              		.loc 1 811 0
 2095 0d16 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2096 0d1a DB00     		lsls	r3, r3, #3
 2097 0d1c BA68     		ldr	r2, [r7, #8]
 2098 0d1e 1344     		add	r3, r3, r2
 2099 0d20 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2100 0d22 1846     		mov	r0, r3
 2101 0d24 FFF7FEFF 		bl	opencoap_get_option_class
 2102 0d28 0346     		mov	r3, r0
 2103 0d2a 1A46     		mov	r2, r3
 2104 0d2c BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2105 0d2e 9342     		cmp	r3, r2
 2106 0d30 03D0     		beq	.L116
 2107              		.loc 1 811 0 is_stmt 0 discriminator 1
 2108 0d32 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2109 0d34 032B     		cmp	r3, #3
 2110 0d36 00D0     		beq	.L116
 812:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 class != COAP_OPTION_CLASS_ALL) {
 813:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 continue;
 2111              		.loc 1 813 0 is_stmt 1
 2112 0d38 E2E0     		b	.L115
 2113              	.L116:
 814:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 815:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 816:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // loop to find the previous option to which delta should be calculated
 817:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             previousOptionNum = COAP_OPTION_NONE;
 2114              		.loc 1 817 0
 2115 0d3a 0023     		movs	r3, #0
 2116 0d3c 87F82130 		strb	r3, [r7, #33]
 818:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             for (ii = i ; ii-- > 0 ; ) {
 2117              		.loc 1 818 0
 2118 0d40 97F82730 		ldrb	r3, [r7, #39]
 2119 0d44 87F82630 		strb	r3, [r7, #38]
 2120 0d48 1AE0     		b	.L117
 2121              	.L120:
 819:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (class != opencoap_get_option_class(options[ii].type) &&
 2122              		.loc 1 819 0
 2123 0d4a 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 2124 0d4e DB00     		lsls	r3, r3, #3
 2125 0d50 BA68     		ldr	r2, [r7, #8]
 2126 0d52 1344     		add	r3, r3, r2
 2127 0d54 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2128 0d56 1846     		mov	r0, r3
 2129 0d58 FFF7FEFF 		bl	opencoap_get_option_class
 2130 0d5c 0346     		mov	r3, r0
 2131 0d5e 1A46     		mov	r2, r3
 2132 0d60 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2133 0d62 9342     		cmp	r3, r2
 2134 0d64 03D0     		beq	.L118
 2135              		.loc 1 819 0 is_stmt 0 discriminator 1
 2136 0d66 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2137 0d68 032B     		cmp	r3, #3
 2138 0d6a 00D0     		beq	.L118
 820:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     class != COAP_OPTION_CLASS_ALL) {
 821:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     continue;
 2139              		.loc 1 821 0 is_stmt 1
 2140 0d6c 08E0     		b	.L117
 2141              	.L118:
 822:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 }
 823:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 else {
 824:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     previousOptionNum = options[ii].type;
 2142              		.loc 1 824 0
 2143 0d6e 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 2144 0d72 DB00     		lsls	r3, r3, #3
 2145 0d74 BA68     		ldr	r2, [r7, #8]
 2146 0d76 1344     		add	r3, r3, r2
 2147 0d78 1B78     		ldrb	r3, [r3]
 2148 0d7a 87F82130 		strb	r3, [r7, #33]
 825:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                     break;
 2149              		.loc 1 825 0
 2150 0d7e 06E0     		b	.L119
 2151              	.L117:
 818:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 if (class != opencoap_get_option_class(options[ii].type) &&
 2152              		.loc 1 818 0 discriminator 1
 2153 0d80 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 2154 0d84 5A1E     		subs	r2, r3, #1
 2155 0d86 87F82620 		strb	r2, [r7, #38]
 2156 0d8a 002B     		cmp	r3, #0
 2157 0d8c DDD1     		bne	.L120
 2158              	.L119:
 826:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 }
 827:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 828:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 829:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (previousOptionNum > options[i].type) {
 2159              		.loc 1 829 0
 2160 0d8e 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2161 0d92 DB00     		lsls	r3, r3, #3
 2162 0d94 BA68     		ldr	r2, [r7, #8]
 2163 0d96 1344     		add	r3, r3, r2
 2164 0d98 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2165 0d9a 97F82120 		ldrb	r2, [r7, #33]	@ zero_extendqisi2
 2166 0d9e 9A42     		cmp	r2, r3
 2167 0da0 01D9     		bls	.L121
 830:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 return E_FAIL; // we require the options to be sorted
 2168              		.loc 1 830 0
 2169 0da2 0123     		movs	r3, #1
 2170 0da4 B5E0     		b	.L130
 2171              	.L121:
 831:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 832:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             delta = options[i].type - previousOptionNum;
 2172              		.loc 1 832 0
 2173 0da6 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2174 0daa DB00     		lsls	r3, r3, #3
 2175 0dac BA68     		ldr	r2, [r7, #8]
 2176 0dae 1344     		add	r3, r3, r2
 2177 0db0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2178 0db2 1A46     		mov	r2, r3
 2179 0db4 97F82130 		ldrb	r3, [r7, #33]	@ zero_extendqisi2
 2180 0db8 D31A     		subs	r3, r2, r3
 2181 0dba FB61     		str	r3, [r7, #28]
 833:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 834:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (delta <= 12) {
 2182              		.loc 1 834 0
 2183 0dbc FB69     		ldr	r3, [r7, #28]
 2184 0dbe 0C2B     		cmp	r3, #12
 2185 0dc0 06D8     		bhi	.L123
 835:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDelta = (uint8_t) delta;
 2186              		.loc 1 835 0
 2187 0dc2 FB69     		ldr	r3, [r7, #28]
 2188 0dc4 87F82530 		strb	r3, [r7, #37]
 836:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDeltaExtLen = 0;
 2189              		.loc 1 836 0
 2190 0dc8 0023     		movs	r3, #0
 2191 0dca 87F82430 		strb	r3, [r7, #36]
 2192 0dce 27E0     		b	.L124
 2193              	.L123:
 837:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 838:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             else if (delta <= 0xff + 13) {
 2194              		.loc 1 838 0
 2195 0dd0 FB69     		ldr	r3, [r7, #28]
 2196 0dd2 B3F5867F 		cmp	r3, #268
 2197 0dd6 0BD8     		bhi	.L125
 839:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDelta = 13;
 2198              		.loc 1 839 0
 2199 0dd8 0D23     		movs	r3, #13
 2200 0dda 87F82530 		strb	r3, [r7, #37]
 840:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDeltaExt[0] = (uint8_t) delta - 13;
 2201              		.loc 1 840 0
 2202 0dde FB69     		ldr	r3, [r7, #28]
 2203 0de0 DBB2     		uxtb	r3, r3
 2204 0de2 0D3B     		subs	r3, r3, #13
 2205 0de4 DBB2     		uxtb	r3, r3
 2206 0de6 3B76     		strb	r3, [r7, #24]
 841:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDeltaExtLen = 1;
 2207              		.loc 1 841 0
 2208 0de8 0123     		movs	r3, #1
 2209 0dea 87F82430 		strb	r3, [r7, #36]
 2210 0dee 17E0     		b	.L124
 2211              	.L125:
 842:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 843:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             else if (delta <= 0xffff + 269) {
 2212              		.loc 1 843 0
 2213 0df0 FB69     		ldr	r3, [r7, #28]
 2214 0df2 4A4A     		ldr	r2, .L131
 2215 0df4 9342     		cmp	r3, r2
 2216 0df6 11D8     		bhi	.L126
 844:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDelta = 14;
 2217              		.loc 1 844 0
 2218 0df8 0E23     		movs	r3, #14
 2219 0dfa 87F82530 		strb	r3, [r7, #37]
 845:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 packetfunctions_htons((uint16_t) delta - 269, optionDeltaExt);
 2220              		.loc 1 845 0
 2221 0dfe FB69     		ldr	r3, [r7, #28]
 2222 0e00 9BB2     		uxth	r3, r3
 2223 0e02 A3F20D13 		subw	r3, r3, #269
 2224 0e06 9AB2     		uxth	r2, r3
 2225 0e08 07F11803 		add	r3, r7, #24
 2226 0e0c 1046     		mov	r0, r2
 2227 0e0e 1946     		mov	r1, r3
 2228 0e10 FFF7FEFF 		bl	packetfunctions_htons
 846:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionDeltaExtLen = 2;
 2229              		.loc 1 846 0
 2230 0e14 0223     		movs	r3, #2
 2231 0e16 87F82430 		strb	r3, [r7, #36]
 2232 0e1a 01E0     		b	.L124
 2233              	.L126:
 847:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 848:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             else {
 849:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 return E_FAIL;
 2234              		.loc 1 849 0
 2235 0e1c 0123     		movs	r3, #1
 2236 0e1e 78E0     		b	.L130
 2237              	.L124:
 850:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 851:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 852:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             if (options[i].length <= 12) {
 2238              		.loc 1 852 0
 2239 0e20 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2240 0e24 DB00     		lsls	r3, r3, #3
 2241 0e26 BA68     		ldr	r2, [r7, #8]
 2242 0e28 1344     		add	r3, r3, r2
 2243 0e2a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2244 0e2c 0C2B     		cmp	r3, #12
 2245 0e2e 0BD8     		bhi	.L127
 853:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionLength = options[i].length;
 2246              		.loc 1 853 0
 2247 0e30 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2248 0e34 DB00     		lsls	r3, r3, #3
 2249 0e36 BA68     		ldr	r2, [r7, #8]
 2250 0e38 1344     		add	r3, r3, r2
 2251 0e3a 5B78     		ldrb	r3, [r3, #1]
 2252 0e3c 87F82330 		strb	r3, [r7, #35]
 854:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionLengthExtLen = 0;
 2253              		.loc 1 854 0
 2254 0e40 0023     		movs	r3, #0
 2255 0e42 87F82230 		strb	r3, [r7, #34]
 2256 0e46 0EE0     		b	.L128
 2257              	.L127:
 855:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 856:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             else {
 857:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 // we do not support fragmentation so option length cannot be larger
 858:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 // than 0xff. therefore, we default to the case where optionLength = 13.
 859:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 // see RFC7252 Section 3.1 for more details.
 860:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionLength = 13;
 2258              		.loc 1 860 0
 2259 0e48 0D23     		movs	r3, #13
 2260 0e4a 87F82330 		strb	r3, [r7, #35]
 861:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionLengthExt[0] = options[i].length - 13;
 2261              		.loc 1 861 0
 2262 0e4e 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2263 0e52 DB00     		lsls	r3, r3, #3
 2264 0e54 BA68     		ldr	r2, [r7, #8]
 2265 0e56 1344     		add	r3, r3, r2
 2266 0e58 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2267 0e5a 0D3B     		subs	r3, r3, #13
 2268 0e5c DBB2     		uxtb	r3, r3
 2269 0e5e 3B75     		strb	r3, [r7, #20]
 862:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 optionLengthExtLen = 1;
 2270              		.loc 1 862 0
 2271 0e60 0123     		movs	r3, #1
 2272 0e62 87F82230 		strb	r3, [r7, #34]
 2273              	.L128:
 863:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             }
 864:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 865:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // write to packet in reversed order
 866:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg, options[i].length);
 2274              		.loc 1 866 0
 2275 0e66 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2276 0e6a DB00     		lsls	r3, r3, #3
 2277 0e6c BA68     		ldr	r2, [r7, #8]
 2278 0e6e 1344     		add	r3, r3, r2
 2279 0e70 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2280 0e72 F868     		ldr	r0, [r7, #12]
 2281 0e74 1946     		mov	r1, r3
 2282 0e76 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 867:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             memcpy(&msg->payload[0], options[i].pValue, options[i].length);
 2283              		.loc 1 867 0
 2284 0e7a FB68     		ldr	r3, [r7, #12]
 2285 0e7c 5868     		ldr	r0, [r3, #4]
 2286 0e7e 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2287 0e82 DB00     		lsls	r3, r3, #3
 2288 0e84 BA68     		ldr	r2, [r7, #8]
 2289 0e86 1344     		add	r3, r3, r2
 2290 0e88 5968     		ldr	r1, [r3, #4]
 2291 0e8a 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2292 0e8e DB00     		lsls	r3, r3, #3
 2293 0e90 BA68     		ldr	r2, [r7, #8]
 2294 0e92 1344     		add	r3, r3, r2
 2295 0e94 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2296 0e96 1A46     		mov	r2, r3
 2297 0e98 FFF7FEFF 		bl	memcpy
 868:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 869:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg, optionLengthExtLen);
 2298              		.loc 1 869 0
 2299 0e9c 97F82230 		ldrb	r3, [r7, #34]	@ zero_extendqisi2
 2300 0ea0 F868     		ldr	r0, [r7, #12]
 2301 0ea2 1946     		mov	r1, r3
 2302 0ea4 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 870:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             memcpy(&msg->payload[0], optionLengthExt, optionLengthExtLen);
 2303              		.loc 1 870 0
 2304 0ea8 FB68     		ldr	r3, [r7, #12]
 2305 0eaa 5968     		ldr	r1, [r3, #4]
 2306 0eac 97F82230 		ldrb	r3, [r7, #34]	@ zero_extendqisi2
 2307 0eb0 07F11402 		add	r2, r7, #20
 2308 0eb4 0846     		mov	r0, r1
 2309 0eb6 1146     		mov	r1, r2
 2310 0eb8 1A46     		mov	r2, r3
 2311 0eba FFF7FEFF 		bl	memcpy
 871:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 872:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg, optionDeltaExtLen);
 2312              		.loc 1 872 0
 2313 0ebe 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 2314 0ec2 F868     		ldr	r0, [r7, #12]
 2315 0ec4 1946     		mov	r1, r3
 2316 0ec6 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 873:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             memcpy(&msg->payload[0], optionDeltaExt, optionDeltaExtLen);
 2317              		.loc 1 873 0
 2318 0eca FB68     		ldr	r3, [r7, #12]
 2319 0ecc 5968     		ldr	r1, [r3, #4]
 2320 0ece 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 2321 0ed2 07F11802 		add	r2, r7, #24
 2322 0ed6 0846     		mov	r0, r1
 2323 0ed8 1146     		mov	r1, r2
 2324 0eda 1A46     		mov	r2, r3
 2325 0edc FFF7FEFF 		bl	memcpy
 874:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 875:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             packetfunctions_reserveHeaderSize(msg, 1);
 2326              		.loc 1 875 0
 2327 0ee0 F868     		ldr	r0, [r7, #12]
 2328 0ee2 0121     		movs	r1, #1
 2329 0ee4 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 876:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             msg->payload[0] = (optionDelta << 4) | optionLength;
 2330              		.loc 1 876 0
 2331 0ee8 FB68     		ldr	r3, [r7, #12]
 2332 0eea 5B68     		ldr	r3, [r3, #4]
 2333 0eec 97F82520 		ldrb	r2, [r7, #37]	@ zero_extendqisi2
 2334 0ef0 1201     		lsls	r2, r2, #4
 2335 0ef2 D1B2     		uxtb	r1, r2
 2336 0ef4 97F82320 		ldrb	r2, [r7, #35]	@ zero_extendqisi2
 2337 0ef8 0A43     		orrs	r2, r2, r1
 2338 0efa D2B2     		uxtb	r2, r2
 2339 0efc D2B2     		uxtb	r2, r2
 2340 0efe 1A70     		strb	r2, [r3]
 2341              	.L115:
 809:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // skip option if inappropriate class
 2342              		.loc 1 809 0 discriminator 1
 2343 0f00 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2344 0f04 5A1E     		subs	r2, r3, #1
 2345 0f06 87F82720 		strb	r2, [r7, #39]
 2346 0f0a 002B     		cmp	r3, #0
 2347 0f0c 7FF403AF 		bne	.L129
 2348              	.L114:
 877:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 878:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 879:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     return E_SUCCESS;
 2349              		.loc 1 879 0
 2350 0f10 0023     		movs	r3, #0
 2351              	.L130:
 880:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 2352              		.loc 1 880 0 discriminator 1
 2353 0f12 1846     		mov	r0, r3
 2354 0f14 2837     		adds	r7, r7, #40
 2355              		.cfi_def_cfa_offset 8
 2356 0f16 BD46     		mov	sp, r7
 2357              		.cfi_def_cfa_register 13
 2358              		@ sp needed
 2359 0f18 80BD     		pop	{r7, pc}
 2360              	.L132:
 2361 0f1a 00BF     		.align	2
 2362              	.L131:
 2363 0f1c 0C010100 		.word	65804
 2364              		.cfi_endproc
 2365              	.LFE7:
 2367              		.align	2
 2368              		.global	opencoap_find_option
 2369              		.thumb
 2370              		.thumb_func
 2372              	opencoap_find_option:
 2373              	.LFB8:
 881:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 882:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 883:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 884:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** uint8_t opencoap_find_option(coap_option_iht* array, uint8_t arrayLen, coap_option_t option, uint8_
 2374              		.loc 1 884 0
 2375              		.cfi_startproc
 2376              		@ args = 0, pretend = 0, frame = 24
 2377              		@ frame_needed = 1, uses_anonymous_args = 0
 2378              		@ link register save eliminated.
 2379 0f20 80B4     		push	{r7}
 2380              		.cfi_def_cfa_offset 4
 2381              		.cfi_offset 7, -4
 2382 0f22 87B0     		sub	sp, sp, #28
 2383              		.cfi_def_cfa_offset 32
 2384 0f24 00AF     		add	r7, sp, #0
 2385              		.cfi_def_cfa_register 7
 2386 0f26 F860     		str	r0, [r7, #12]
 2387 0f28 7B60     		str	r3, [r7, #4]
 2388 0f2a 0B46     		mov	r3, r1
 2389 0f2c FB72     		strb	r3, [r7, #11]
 2390 0f2e 1346     		mov	r3, r2
 2391 0f30 BB72     		strb	r3, [r7, #10]
 885:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   uint8_t i;
 886:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   uint8_t j;
 887:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   bool found;
 888:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 889:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   //init local variables
 890:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   j = 0;
 2392              		.loc 1 890 0
 2393 0f32 0023     		movs	r3, #0
 2394 0f34 BB75     		strb	r3, [r7, #22]
 891:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   found = FALSE;
 2395              		.loc 1 891 0
 2396 0f36 0023     		movs	r3, #0
 2397 0f38 7B75     		strb	r3, [r7, #21]
 892:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 893:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   for (i=0; i< arrayLen; i++){
 2398              		.loc 1 893 0
 2399 0f3a 0023     		movs	r3, #0
 2400 0f3c FB75     		strb	r3, [r7, #23]
 2401 0f3e 1BE0     		b	.L134
 2402              	.L138:
 894:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (array[i].type == option) {
 2403              		.loc 1 894 0
 2404 0f40 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2405 0f42 DB00     		lsls	r3, r3, #3
 2406 0f44 FA68     		ldr	r2, [r7, #12]
 2407 0f46 1344     		add	r3, r3, r2
 2408 0f48 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2409 0f4a BA7A     		ldrb	r2, [r7, #10]	@ zero_extendqisi2
 2410 0f4c 9A42     		cmp	r2, r3
 2411 0f4e 10D1     		bne	.L135
 895:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       // validate if startIndex is already set
 896:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       if (found == FALSE) {
 2412              		.loc 1 896 0
 2413 0f50 7B7D     		ldrb	r3, [r7, #21]
 2414 0f52 83F00103 		eor	r3, r3, #1
 2415 0f56 DBB2     		uxtb	r3, r3
 2416 0f58 002B     		cmp	r3, #0
 2417 0f5a 07D0     		beq	.L136
 897:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (startIndex != NULL) {
 2418              		.loc 1 897 0
 2419 0f5c 7B68     		ldr	r3, [r7, #4]
 2420 0f5e 002B     		cmp	r3, #0
 2421 0f60 02D0     		beq	.L137
 898:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****            *startIndex = i;
 2422              		.loc 1 898 0
 2423 0f62 7B68     		ldr	r3, [r7, #4]
 2424 0f64 FA7D     		ldrb	r2, [r7, #23]
 2425 0f66 1A70     		strb	r2, [r3]
 2426              	.L137:
 899:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 900:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         found = TRUE;
 2427              		.loc 1 900 0
 2428 0f68 0123     		movs	r3, #1
 2429 0f6a 7B75     		strb	r3, [r7, #21]
 2430              	.L136:
 901:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       }
 902:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       //increment option counter
 903:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       j++;
 2431              		.loc 1 903 0
 2432 0f6c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2433 0f6e 0133     		adds	r3, r3, #1
 2434 0f70 BB75     		strb	r3, [r7, #22]
 2435              	.L135:
 893:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (array[i].type == option) {
 2436              		.loc 1 893 0 discriminator 2
 2437 0f72 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2438 0f74 0133     		adds	r3, r3, #1
 2439 0f76 FB75     		strb	r3, [r7, #23]
 2440              	.L134:
 893:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (array[i].type == option) {
 2441              		.loc 1 893 0 is_stmt 0 discriminator 1
 2442 0f78 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 2443 0f7a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2444 0f7c 9A42     		cmp	r2, r3
 2445 0f7e DFD3     		bcc	.L138
 904:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 905:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   }
 906:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 907:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   // option not found
 908:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   if (found == FALSE) {
 2446              		.loc 1 908 0 is_stmt 1
 2447 0f80 7B7D     		ldrb	r3, [r7, #21]
 2448 0f82 83F00103 		eor	r3, r3, #1
 2449 0f86 DBB2     		uxtb	r3, r3
 2450 0f88 002B     		cmp	r3, #0
 2451 0f8a 05D0     		beq	.L139
 909:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (startIndex != NULL) {
 2452              		.loc 1 909 0
 2453 0f8c 7B68     		ldr	r3, [r7, #4]
 2454 0f8e 002B     		cmp	r3, #0
 2455 0f90 02D0     		beq	.L139
 910:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****        *startIndex = 0;
 2456              		.loc 1 910 0
 2457 0f92 7B68     		ldr	r3, [r7, #4]
 2458 0f94 0022     		movs	r2, #0
 2459 0f96 1A70     		strb	r2, [r3]
 2460              	.L139:
 911:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 912:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   }
 913:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 914:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****   return j;
 2461              		.loc 1 914 0
 2462 0f98 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 915:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 916:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 2463              		.loc 1 916 0
 2464 0f9a 1846     		mov	r0, r3
 2465 0f9c 1C37     		adds	r7, r7, #28
 2466              		.cfi_def_cfa_offset 4
 2467 0f9e BD46     		mov	sp, r7
 2468              		.cfi_def_cfa_register 13
 2469              		@ sp needed
 2470 0fa0 5DF8047B 		ldr	r7, [sp], #4
 2471              		.cfi_restore 7
 2472              		.cfi_def_cfa_offset 0
 2473 0fa4 7047     		bx	lr
 2474              		.cfi_endproc
 2475              	.LFE8:
 2477 0fa6 00BF     		.align	2
 2478              		.global	opencoap_options_parse
 2479              		.thumb
 2480              		.thumb_func
 2482              	opencoap_options_parse:
 2483              	.LFB9:
 917:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 918:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** //=========================== private =========================================
 919:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 920:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** uint8_t opencoap_options_parse(
 921:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t*                buffer,
 922:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t                 bufferLen,
 923:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht*        options,
 924:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t*                optionsLen
 925:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         ) {
 2484              		.loc 1 925 0
 2485              		.cfi_startproc
 2486              		@ args = 0, pretend = 0, frame = 24
 2487              		@ frame_needed = 1, uses_anonymous_args = 0
 2488 0fa8 80B5     		push	{r7, lr}
 2489              		.cfi_def_cfa_offset 8
 2490              		.cfi_offset 7, -8
 2491              		.cfi_offset 14, -4
 2492 0faa 86B0     		sub	sp, sp, #24
 2493              		.cfi_def_cfa_offset 32
 2494 0fac 00AF     		add	r7, sp, #0
 2495              		.cfi_def_cfa_register 7
 2496 0fae F860     		str	r0, [r7, #12]
 2497 0fb0 7A60     		str	r2, [r7, #4]
 2498 0fb2 3B60     		str	r3, [r7]
 2499 0fb4 0B46     		mov	r3, r1
 2500 0fb6 FB72     		strb	r3, [r7, #11]
 926:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 927:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t index;
 928:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t i;
 929:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_t lastOption;
 930:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_t optionDelta;
 931:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t optionLength;
 932:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t numOptions;
 933:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 934:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     index = 0;
 2501              		.loc 1 934 0
 2502 0fb8 0023     		movs	r3, #0
 2503 0fba FB75     		strb	r3, [r7, #23]
 935:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     numOptions = 0;
 2504              		.loc 1 935 0
 2505 0fbc 0023     		movs	r3, #0
 2506 0fbe BB74     		strb	r3, [r7, #18]
 936:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 937:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // initialize the coap_incomingOptions
 938:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     for (i=0;i<*optionsLen;i++) {
 2507              		.loc 1 938 0
 2508 0fc0 0023     		movs	r3, #0
 2509 0fc2 BB75     		strb	r3, [r7, #22]
 2510 0fc4 14E0     		b	.L142
 2511              	.L143:
 939:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].type = COAP_OPTION_NONE;
 2512              		.loc 1 939 0 discriminator 3
 2513 0fc6 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2514 0fc8 DB00     		lsls	r3, r3, #3
 2515 0fca 7A68     		ldr	r2, [r7, #4]
 2516 0fcc 1344     		add	r3, r3, r2
 2517 0fce 0022     		movs	r2, #0
 2518 0fd0 1A70     		strb	r2, [r3]
 940:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].length = 0;
 2519              		.loc 1 940 0 discriminator 3
 2520 0fd2 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2521 0fd4 DB00     		lsls	r3, r3, #3
 2522 0fd6 7A68     		ldr	r2, [r7, #4]
 2523 0fd8 1344     		add	r3, r3, r2
 2524 0fda 0022     		movs	r2, #0
 2525 0fdc 5A70     		strb	r2, [r3, #1]
 941:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].pValue = NULL;
 2526              		.loc 1 941 0 discriminator 3
 2527 0fde BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2528 0fe0 DB00     		lsls	r3, r3, #3
 2529 0fe2 7A68     		ldr	r2, [r7, #4]
 2530 0fe4 1344     		add	r3, r3, r2
 2531 0fe6 0022     		movs	r2, #0
 2532 0fe8 5A60     		str	r2, [r3, #4]
 938:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].type = COAP_OPTION_NONE;
 2533              		.loc 1 938 0 discriminator 3
 2534 0fea BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2535 0fec 0133     		adds	r3, r3, #1
 2536 0fee BB75     		strb	r3, [r7, #22]
 2537              	.L142:
 938:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].type = COAP_OPTION_NONE;
 2538              		.loc 1 938 0 is_stmt 0 discriminator 1
 2539 0ff0 3B68     		ldr	r3, [r7]
 2540 0ff2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2541 0ff4 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 2542 0ff6 9A42     		cmp	r2, r3
 2543 0ff8 E5D3     		bcc	.L143
 942:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
 943:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 944:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     lastOption = COAP_OPTION_NONE;
 2544              		.loc 1 944 0 is_stmt 1
 2545 0ffa 0023     		movs	r3, #0
 2546 0ffc 7B75     		strb	r3, [r7, #21]
 945:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     for (i = 0; i < *optionsLen; i++) {
 2547              		.loc 1 945 0
 2548 0ffe 0023     		movs	r3, #0
 2549 1000 BB75     		strb	r3, [r7, #22]
 2550 1002 80E0     		b	.L144
 2551              	.L155:
 946:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 947:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         // detect when done parsing options
 948:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (buffer[index]==COAP_PAYLOAD_MARKER) {
 2552              		.loc 1 948 0
 2553 1004 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2554 1006 FA68     		ldr	r2, [r7, #12]
 2555 1008 1344     		add	r3, r3, r2
 2556 100a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2557 100c FF2B     		cmp	r3, #255
 2558 100e 03D1     		bne	.L145
 949:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // found the payload marker, done parsing options.
 950:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             index++; // skip marker and stop parsing options
 2559              		.loc 1 950 0
 2560 1010 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2561 1012 0133     		adds	r3, r3, #1
 2562 1014 FB75     		strb	r3, [r7, #23]
 951:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             break;
 2563              		.loc 1 951 0
 2564 1016 7CE0     		b	.L146
 2565              	.L145:
 952:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 953:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (bufferLen<=index) {
 2566              		.loc 1 953 0
 2567 1018 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2568 101a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2569 101c 9A42     		cmp	r2, r3
 2570 101e 00D8     		bhi	.L147
 954:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****              // end of message, no payload
 955:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             break;
 2571              		.loc 1 955 0
 2572 1020 77E0     		b	.L146
 2573              	.L147:
 956:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 957:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 958:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         optionDelta = ((buffer[index] & 0xf0) >> 4);
 2574              		.loc 1 958 0
 2575 1022 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2576 1024 FA68     		ldr	r2, [r7, #12]
 2577 1026 1344     		add	r3, r3, r2
 2578 1028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2579 102a 1B09     		lsrs	r3, r3, #4
 2580 102c 3B75     		strb	r3, [r7, #20]
 959:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         optionLength = (buffer[index] & 0x0f);
 2581              		.loc 1 959 0
 2582 102e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2583 1030 FA68     		ldr	r2, [r7, #12]
 2584 1032 1344     		add	r3, r3, r2
 2585 1034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2586 1036 03F00F03 		and	r3, r3, #15
 2587 103a FB74     		strb	r3, [r7, #19]
 960:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 961:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         index++;
 2588              		.loc 1 961 0
 2589 103c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2590 103e 0133     		adds	r3, r3, #1
 2591 1040 FB75     		strb	r3, [r7, #23]
 962:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 963:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (optionDelta <= 12) {
 2592              		.loc 1 963 0
 2593 1042 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 2594 1044 0C2B     		cmp	r3, #12
 2595 1046 1ED9     		bls	.L148
 964:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 965:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         else if (optionDelta == 13) {
 2596              		.loc 1 965 0
 2597 1048 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 2598 104a 0D2B     		cmp	r3, #13
 2599 104c 09D1     		bne	.L149
 966:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             optionDelta = buffer[index] + 13;
 2600              		.loc 1 966 0
 2601 104e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2602 1050 FA68     		ldr	r2, [r7, #12]
 2603 1052 1344     		add	r3, r3, r2
 2604 1054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2605 1056 0D33     		adds	r3, r3, #13
 2606 1058 3B75     		strb	r3, [r7, #20]
 967:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             index++;
 2607              		.loc 1 967 0
 2608 105a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2609 105c 0133     		adds	r3, r3, #1
 2610 105e FB75     		strb	r3, [r7, #23]
 2611 1060 11E0     		b	.L148
 2612              	.L149:
 968:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 969:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         else if (optionDelta == 14) {
 2613              		.loc 1 969 0
 2614 1062 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 2615 1064 0E2B     		cmp	r3, #14
 2616 1066 0DD1     		bne	.L150
 970:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             optionDelta = (coap_option_t) (packetfunctions_ntohs(&buffer[index]) + 269);
 2617              		.loc 1 970 0
 2618 1068 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2619 106a FA68     		ldr	r2, [r7, #12]
 2620 106c 1344     		add	r3, r3, r2
 2621 106e 1846     		mov	r0, r3
 2622 1070 FFF7FEFF 		bl	packetfunctions_ntohs
 2623 1074 0346     		mov	r3, r0
 2624 1076 DBB2     		uxtb	r3, r3
 2625 1078 0D33     		adds	r3, r3, #13
 2626 107a 3B75     		strb	r3, [r7, #20]
 971:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             index += 2;
 2627              		.loc 1 971 0
 2628 107c FB7D     		ldrb	r3, [r7, #23]
 2629 107e 0233     		adds	r3, r3, #2
 2630 1080 FB75     		strb	r3, [r7, #23]
 2631 1082 00E0     		b	.L148
 2632              	.L150:
 972:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 973:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         else {
 974:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             break;
 2633              		.loc 1 974 0
 2634 1084 45E0     		b	.L146
 2635              	.L148:
 975:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 976:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 977:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (optionLength <= 12) {
 2636              		.loc 1 977 0
 2637 1086 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2638 1088 0C2B     		cmp	r3, #12
 2639 108a 0DD9     		bls	.L151
 978:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 979:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 980:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         else if (optionLength == 13) {
 2640              		.loc 1 980 0
 2641 108c FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2642 108e 0D2B     		cmp	r3, #13
 2643 1090 09D1     		bne	.L152
 981:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             optionLength = buffer[index] + 13;
 2644              		.loc 1 981 0
 2645 1092 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2646 1094 FA68     		ldr	r2, [r7, #12]
 2647 1096 1344     		add	r3, r3, r2
 2648 1098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2649 109a 0D33     		adds	r3, r3, #13
 2650 109c FB74     		strb	r3, [r7, #19]
 982:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             index++;
 2651              		.loc 1 982 0
 2652 109e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2653 10a0 0133     		adds	r3, r3, #1
 2654 10a2 FB75     		strb	r3, [r7, #23]
 2655 10a4 00E0     		b	.L151
 2656              	.L152:
 983:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 984:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         else {
 985:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             // case 14 not supported
 986:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             break;
 2657              		.loc 1 986 0
 2658 10a6 34E0     		b	.L146
 2659              	.L151:
 987:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 988:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 989:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (bufferLen <= index) {
 2660              		.loc 1 989 0
 2661 10a8 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 2662 10aa FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2663 10ac 9A42     		cmp	r2, r3
 2664 10ae 00D8     		bhi	.L153
 990:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             break;
 2665              		.loc 1 990 0
 2666 10b0 2FE0     		b	.L146
 2667              	.L153:
 991:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 992:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 993:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         // create new option
 994:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].type = lastOption + optionDelta;
 2668              		.loc 1 994 0
 2669 10b2 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2670 10b4 DB00     		lsls	r3, r3, #3
 2671 10b6 7A68     		ldr	r2, [r7, #4]
 2672 10b8 1344     		add	r3, r3, r2
 2673 10ba 797D     		ldrb	r1, [r7, #21]
 2674 10bc 3A7D     		ldrb	r2, [r7, #20]
 2675 10be 0A44     		add	r2, r2, r1
 2676 10c0 D2B2     		uxtb	r2, r2
 2677 10c2 1A70     		strb	r2, [r3]
 995:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         options[i].length = optionLength;
 2678              		.loc 1 995 0
 2679 10c4 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2680 10c6 DB00     		lsls	r3, r3, #3
 2681 10c8 7A68     		ldr	r2, [r7, #4]
 2682 10ca 1344     		add	r3, r3, r2
 2683 10cc FA7C     		ldrb	r2, [r7, #19]
 2684 10ce 5A70     		strb	r2, [r3, #1]
 996:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (optionLength) {
 2685              		.loc 1 996 0
 2686 10d0 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2687 10d2 002B     		cmp	r3, #0
 2688 10d4 07D0     		beq	.L154
 997:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             options[i].pValue = &(buffer[index]);
 2689              		.loc 1 997 0
 2690 10d6 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2691 10d8 DB00     		lsls	r3, r3, #3
 2692 10da 7A68     		ldr	r2, [r7, #4]
 2693 10dc 1344     		add	r3, r3, r2
 2694 10de FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 2695 10e0 F968     		ldr	r1, [r7, #12]
 2696 10e2 0A44     		add	r2, r2, r1
 2697 10e4 5A60     		str	r2, [r3, #4]
 2698              	.L154:
 998:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
 999:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         index += optionLength;
 2699              		.loc 1 999 0 discriminator 2
 2700 10e6 FA7D     		ldrb	r2, [r7, #23]
 2701 10e8 FB7C     		ldrb	r3, [r7, #19]
 2702 10ea 1344     		add	r3, r3, r2
 2703 10ec FB75     		strb	r3, [r7, #23]
1000:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         lastOption = options[i].type;
 2704              		.loc 1 1000 0 discriminator 2
 2705 10ee BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2706 10f0 DB00     		lsls	r3, r3, #3
 2707 10f2 7A68     		ldr	r2, [r7, #4]
 2708 10f4 1344     		add	r3, r3, r2
 2709 10f6 1B78     		ldrb	r3, [r3]
 2710 10f8 7B75     		strb	r3, [r7, #21]
1001:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         numOptions++;
 2711              		.loc 1 1001 0 discriminator 2
 2712 10fa BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 2713 10fc 0133     		adds	r3, r3, #1
 2714 10fe BB74     		strb	r3, [r7, #18]
 945:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 2715              		.loc 1 945 0 discriminator 2
 2716 1100 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2717 1102 0133     		adds	r3, r3, #1
 2718 1104 BB75     		strb	r3, [r7, #22]
 2719              	.L144:
 945:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
 2720              		.loc 1 945 0 is_stmt 0 discriminator 1
 2721 1106 3B68     		ldr	r3, [r7]
 2722 1108 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2723 110a BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 2724 110c 9A42     		cmp	r2, r3
 2725 110e FFF479AF 		bcc	.L155
 2726              	.L146:
1002:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1003:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     *optionsLen = numOptions;
 2727              		.loc 1 1003 0 is_stmt 1
 2728 1112 3B68     		ldr	r3, [r7]
 2729 1114 BA7C     		ldrb	r2, [r7, #18]
 2730 1116 1A70     		strb	r2, [r3]
1004:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     return index;
 2731              		.loc 1 1004 0
 2732 1118 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1005:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 2733              		.loc 1 1005 0
 2734 111a 1846     		mov	r0, r3
 2735 111c 1837     		adds	r7, r7, #24
 2736              		.cfi_def_cfa_offset 8
 2737 111e BD46     		mov	sp, r7
 2738              		.cfi_def_cfa_register 13
 2739              		@ sp needed
 2740 1120 80BD     		pop	{r7, pc}
 2741              		.cfi_endproc
 2742              	.LFE9:
 2744              		.section	.rodata
 2745              		.align	2
 2746              	.LC0:
 2747 0098 636F6170 		.ascii	"coap\000"
 2747      00
 2748 009d 000000   		.align	2
 2749              	.LC1:
 2750 00a0 36746973 		.ascii	"6tisch.arpa\000"
 2750      63682E61 
 2750      72706100 
 2751              		.text
 2752 1122 00BF     		.align	2
 2753              		.global	opencoap_handle_proxy_scheme
 2754              		.thumb
 2755              		.thumb_func
 2757              	opencoap_handle_proxy_scheme:
 2758              	.LFB10:
1006:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1007:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_handle_proxy_scheme(OpenQueueEntry_t *msg,
1008:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_header_iht* header,
1009:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht* incomingOptions,
1010:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t incomingOptionsLen) {
 2759              		.loc 1 1010 0
 2760              		.cfi_startproc
 2761              		@ args = 0, pretend = 0, frame = 152
 2762              		@ frame_needed = 1, uses_anonymous_args = 0
 2763 1124 90B5     		push	{r4, r7, lr}
 2764              		.cfi_def_cfa_offset 12
 2765              		.cfi_offset 4, -12
 2766              		.cfi_offset 7, -8
 2767              		.cfi_offset 14, -4
 2768 1126 A9B0     		sub	sp, sp, #164
 2769              		.cfi_def_cfa_offset 176
 2770 1128 02AF     		add	r7, sp, #8
 2771              		.cfi_def_cfa 7, 168
 2772 112a F860     		str	r0, [r7, #12]
 2773 112c B960     		str	r1, [r7, #8]
 2774 112e 7A60     		str	r2, [r7, #4]
 2775 1130 FB70     		strb	r3, [r7, #3]
1011:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1012:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t i;
1013:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_iht outgoingOptions[MAX_COAP_OPTIONS];
1014:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t outgoingOptionsLen;
1015:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t option_count;
1016:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t option_index;
1017:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_iht *uriHost;
1018:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_iht *proxyScheme;
1019:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     const uint8_t proxySchemeCoap[] = "coap";
 2776              		.loc 1 1019 0
 2777 1132 724A     		ldr	r2, .L173
 2778 1134 07F13003 		add	r3, r7, #48
 2779 1138 92E80300 		ldmia	r2, {r0, r1}
 2780 113c 1860     		str	r0, [r3]
 2781 113e 0433     		adds	r3, r3, #4
 2782 1140 1970     		strb	r1, [r3]
1020:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     const uint8_t uriHost6tisch[] = "6tisch.arpa";
 2783              		.loc 1 1020 0
 2784 1142 6F4A     		ldr	r2, .L173+4
 2785 1144 07F12403 		add	r3, r7, #36
 2786 1148 07CA     		ldmia	r2, {r0, r1, r2}
 2787 114a 83E80700 		stmia	r3, {r0, r1, r2}
1021:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     open_addr_t JRCaddress;
1022:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1023:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // verify that Proxy Scheme is set to coap
1024:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     option_count = opencoap_find_option(incomingOptions, incomingOptionsLen, COAP_OPTION_NUM_PROXYS
 2788              		.loc 1 1024 0
 2789 114e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 2790 1150 07F13703 		add	r3, r7, #55
 2791 1154 7868     		ldr	r0, [r7, #4]
 2792 1156 1146     		mov	r1, r2
 2793 1158 2722     		movs	r2, #39
 2794 115a FFF7FEFF 		bl	opencoap_find_option
 2795 115e 0346     		mov	r3, r0
 2796 1160 87F88B30 		strb	r3, [r7, #139]
1025:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if(option_count >= 1) {
 2797              		.loc 1 1025 0
 2798 1164 97F88B30 		ldrb	r3, [r7, #139]	@ zero_extendqisi2
 2799 1168 002B     		cmp	r3, #0
 2800 116a 07D0     		beq	.L158
1026:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       proxyScheme = &incomingOptions[option_index];
 2801              		.loc 1 1026 0
 2802 116c 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 2803 1170 DB00     		lsls	r3, r3, #3
 2804 1172 7A68     		ldr	r2, [r7, #4]
 2805 1174 1344     		add	r3, r3, r2
 2806 1176 C7F88C30 		str	r3, [r7, #140]
 2807 117a 02E0     		b	.L159
 2808              	.L158:
1027:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     } else {
1028:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       proxyScheme = NULL;
 2809              		.loc 1 1028 0
 2810 117c 0023     		movs	r3, #0
 2811 117e C7F88C30 		str	r3, [r7, #140]
 2812              	.L159:
1029:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1030:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (memcmp(proxySchemeCoap, proxyScheme->pValue, sizeof(proxySchemeCoap)-1) != 0) {
 2813              		.loc 1 1030 0
 2814 1182 D7F88C30 		ldr	r3, [r7, #140]
 2815 1186 5B68     		ldr	r3, [r3, #4]
 2816 1188 07F13002 		add	r2, r7, #48
 2817 118c 1046     		mov	r0, r2
 2818 118e 1946     		mov	r1, r3
 2819 1190 0422     		movs	r2, #4
 2820 1192 FFF7FEFF 		bl	memcmp
 2821 1196 0346     		mov	r3, r0
 2822 1198 002B     		cmp	r3, #0
 2823 119a 00D0     		beq	.L160
1031:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         return;
 2824              		.loc 1 1031 0
 2825 119c ABE0     		b	.L157
 2826              	.L160:
1032:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1033:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1034:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // verify that UriHost is set to "6tisch.arpa"
1035:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     option_count = opencoap_find_option(incomingOptions, incomingOptionsLen, COAP_OPTION_NUM_URIHOS
 2827              		.loc 1 1035 0
 2828 119e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 2829 11a0 07F13703 		add	r3, r7, #55
 2830 11a4 7868     		ldr	r0, [r7, #4]
 2831 11a6 1146     		mov	r1, r2
 2832 11a8 0322     		movs	r2, #3
 2833 11aa FFF7FEFF 		bl	opencoap_find_option
 2834 11ae 0346     		mov	r3, r0
 2835 11b0 87F88B30 		strb	r3, [r7, #139]
1036:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if(option_count >= 1) {
 2836              		.loc 1 1036 0
 2837 11b4 97F88B30 		ldrb	r3, [r7, #139]	@ zero_extendqisi2
 2838 11b8 002B     		cmp	r3, #0
 2839 11ba 07D0     		beq	.L162
1037:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       uriHost = &incomingOptions[option_index];
 2840              		.loc 1 1037 0
 2841 11bc 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 2842 11c0 DB00     		lsls	r3, r3, #3
 2843 11c2 7A68     		ldr	r2, [r7, #4]
 2844 11c4 1344     		add	r3, r3, r2
 2845 11c6 C7F89030 		str	r3, [r7, #144]
 2846 11ca 02E0     		b	.L163
 2847              	.L162:
1038:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     } else {
1039:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       uriHost = NULL;
 2848              		.loc 1 1039 0
 2849 11cc 0023     		movs	r3, #0
 2850 11ce C7F89030 		str	r3, [r7, #144]
 2851              	.L163:
1040:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1041:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (uriHost) {
 2852              		.loc 1 1041 0
 2853 11d2 D7F89030 		ldr	r3, [r7, #144]
 2854 11d6 002B     		cmp	r3, #0
 2855 11d8 0DD0     		beq	.L164
1042:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (memcmp(uriHost6tisch, uriHost->pValue, sizeof(uriHost6tisch)-1) != 0) {
 2856              		.loc 1 1042 0
 2857 11da D7F89030 		ldr	r3, [r7, #144]
 2858 11de 5B68     		ldr	r3, [r3, #4]
 2859 11e0 07F12402 		add	r2, r7, #36
 2860 11e4 1046     		mov	r0, r2
 2861 11e6 1946     		mov	r1, r3
 2862 11e8 0B22     		movs	r2, #11
 2863 11ea FFF7FEFF 		bl	memcmp
 2864 11ee 0346     		mov	r3, r0
 2865 11f0 002B     		cmp	r3, #0
 2866 11f2 01D0     		beq	.L165
1043:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             return;
 2867              		.loc 1 1043 0 discriminator 2
 2868 11f4 7FE0     		b	.L157
 2869              	.L164:
1044:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
1045:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1046:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     else {
1047:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         return;
 2870              		.loc 1 1047 0 discriminator 3
 2871 11f6 7EE0     		b	.L157
 2872              	.L165:
1048:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1049:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1050:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingOptionsLen = 0;
 2873              		.loc 1 1050 0
 2874 11f8 0023     		movs	r3, #0
 2875 11fa 87F89630 		strb	r3, [r7, #150]
1051:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1052:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // process options
1053:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     for (i = 0; i < incomingOptionsLen; i++) {
 2876              		.loc 1 1053 0
 2877 11fe 0023     		movs	r3, #0
 2878 1200 87F89730 		strb	r3, [r7, #151]
 2879 1204 44E0     		b	.L166
 2880              	.L170:
1054:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_PROXYSCHEME ||
 2881              		.loc 1 1054 0
 2882 1206 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 2883 120a DB00     		lsls	r3, r3, #3
 2884 120c 7A68     		ldr	r2, [r7, #4]
 2885 120e 1344     		add	r3, r3, r2
 2886 1210 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2887 1212 272B     		cmp	r3, #39
 2888 1214 07D0     		beq	.L167
1055:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 incomingOptions[i].type == COAP_OPTION_NUM_URIHOST) {
 2889              		.loc 1 1055 0 discriminator 1
 2890 1216 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 2891 121a DB00     		lsls	r3, r3, #3
 2892 121c 7A68     		ldr	r2, [r7, #4]
 2893 121e 1344     		add	r3, r3, r2
 2894 1220 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1054:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_PROXYSCHEME ||
 2895              		.loc 1 1054 0 discriminator 1
 2896 1222 032B     		cmp	r3, #3
 2897 1224 00D1     		bne	.L168
 2898              	.L167:
1056:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             continue;
 2899              		.loc 1 1056 0
 2900 1226 2EE0     		b	.L169
 2901              	.L168:
1057:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
1058:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptions[outgoingOptionsLen].type = incomingOptions[i].type;
 2902              		.loc 1 1058 0
 2903 1228 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 2904 122c 97F89720 		ldrb	r2, [r7, #151]	@ zero_extendqisi2
 2905 1230 D200     		lsls	r2, r2, #3
 2906 1232 7968     		ldr	r1, [r7, #4]
 2907 1234 0A44     		add	r2, r2, r1
 2908 1236 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2909 1238 DB00     		lsls	r3, r3, #3
 2910 123a 07F19801 		add	r1, r7, #152
 2911 123e 0B44     		add	r3, r3, r1
 2912 1240 03F8602C 		strb	r2, [r3, #-96]
1059:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptions[outgoingOptionsLen].length = incomingOptions[i].length;
 2913              		.loc 1 1059 0
 2914 1244 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 2915 1248 97F89720 		ldrb	r2, [r7, #151]	@ zero_extendqisi2
 2916 124c D200     		lsls	r2, r2, #3
 2917 124e 7968     		ldr	r1, [r7, #4]
 2918 1250 0A44     		add	r2, r2, r1
 2919 1252 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 2920 1254 DB00     		lsls	r3, r3, #3
 2921 1256 07F19801 		add	r1, r7, #152
 2922 125a 0B44     		add	r3, r3, r1
 2923 125c 03F85F2C 		strb	r2, [r3, #-95]
1060:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptions[outgoingOptionsLen].pValue = incomingOptions[i].pValue;
 2924              		.loc 1 1060 0
 2925 1260 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 2926 1264 97F89720 		ldrb	r2, [r7, #151]	@ zero_extendqisi2
 2927 1268 D200     		lsls	r2, r2, #3
 2928 126a 7968     		ldr	r1, [r7, #4]
 2929 126c 0A44     		add	r2, r2, r1
 2930 126e 5268     		ldr	r2, [r2, #4]
 2931 1270 DB00     		lsls	r3, r3, #3
 2932 1272 07F19801 		add	r1, r7, #152
 2933 1276 0B44     		add	r3, r3, r1
 2934 1278 43F85C2C 		str	r2, [r3, #-92]
1061:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptionsLen++;
 2935              		.loc 1 1061 0
 2936 127c 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 2937 1280 0133     		adds	r3, r3, #1
 2938 1282 87F89630 		strb	r3, [r7, #150]
 2939              	.L169:
1053:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_PROXYSCHEME ||
 2940              		.loc 1 1053 0 discriminator 2
 2941 1286 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 2942 128a 0133     		adds	r3, r3, #1
 2943 128c 87F89730 		strb	r3, [r7, #151]
 2944              	.L166:
1053:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_PROXYSCHEME ||
 2945              		.loc 1 1053 0 is_stmt 0 discriminator 1
 2946 1290 97F89720 		ldrb	r2, [r7, #151]	@ zero_extendqisi2
 2947 1294 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2948 1296 9A42     		cmp	r2, r3
 2949 1298 B5D3     		bcc	.L170
1062:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1063:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1064:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     opencoap_add_stateless_proxy_option(&outgoingOptions[outgoingOptionsLen++],
 2950              		.loc 1 1064 0 is_stmt 1
 2951 129a 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 2952 129e 5A1C     		adds	r2, r3, #1
 2953 12a0 87F89620 		strb	r2, [r7, #150]
 2954 12a4 07F13802 		add	r2, r7, #56
 2955 12a8 DB00     		lsls	r3, r3, #3
 2956 12aa D118     		adds	r1, r2, r3
 2957 12ac FB68     		ldr	r3, [r7, #12]
 2958 12ae 03F13302 		add	r2, r3, #51
 2959 12b2 FB68     		ldr	r3, [r7, #12]
 2960 12b4 1B8A     		ldrh	r3, [r3, #16]
 2961 12b6 0846     		mov	r0, r1
 2962 12b8 1146     		mov	r1, r2
 2963 12ba 0822     		movs	r2, #8
 2964 12bc FFF7FEFF 		bl	opencoap_add_stateless_proxy_option
1065:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         &msg->l3_sourceAdd.addr_128b[8],
1066:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         8,
1067:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         msg->l4_sourcePortORicmpv6Type);
1068:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1069:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // the JRC is co-located with DAG root, get the address from RPL module
1070:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     JRCaddress.type = ADDR_128B;
 2965              		.loc 1 1070 0
 2966 12c0 0323     		movs	r3, #3
 2967 12c2 3B74     		strb	r3, [r7, #16]
1071:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (icmpv6rpl_getRPLDODAGid(JRCaddress.addr_128b) == E_SUCCESS) {
 2968              		.loc 1 1071 0
 2969 12c4 07F11003 		add	r3, r7, #16
 2970 12c8 0133     		adds	r3, r3, #1
 2971 12ca 1846     		mov	r0, r3
 2972 12cc FFF7FEFF 		bl	icmpv6rpl_getRPLDODAGid
 2973 12d0 0346     		mov	r3, r0
 2974 12d2 002B     		cmp	r3, #0
 2975 12d4 0ED1     		bne	.L171
1072:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         opencoap_forward_message(msg, header, outgoingOptions, outgoingOptionsLen, &JRCaddress, WKP
 2976              		.loc 1 1072 0
 2977 12d6 07F13802 		add	r2, r7, #56
 2978 12da 97F89640 		ldrb	r4, [r7, #150]	@ zero_extendqisi2
 2979 12de 07F11003 		add	r3, r7, #16
 2980 12e2 0093     		str	r3, [sp]
 2981 12e4 41F23363 		movw	r3, #5683
 2982 12e8 0193     		str	r3, [sp, #4]
 2983 12ea F868     		ldr	r0, [r7, #12]
 2984 12ec B968     		ldr	r1, [r7, #8]
 2985 12ee 2346     		mov	r3, r4
 2986 12f0 FFF7FEFF 		bl	opencoap_forward_message
 2987              	.L171:
1073:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1074:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     return;
 2988              		.loc 1 1074 0 discriminator 4
 2989 12f4 00BF     		nop
 2990              	.L157:
1075:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 2991              		.loc 1 1075 0
 2992 12f6 9C37     		adds	r7, r7, #156
 2993              		.cfi_def_cfa_offset 12
 2994 12f8 BD46     		mov	sp, r7
 2995              		.cfi_def_cfa_register 13
 2996              		@ sp needed
 2997 12fa 90BD     		pop	{r4, r7, pc}
 2998              	.L174:
 2999              		.align	2
 3000              	.L173:
 3001 12fc 98000000 		.word	.LC0
 3002 1300 A0000000 		.word	.LC1
 3003              		.cfi_endproc
 3004              	.LFE10:
 3006              		.align	2
 3007              		.global	opencoap_handle_stateless_proxy
 3008              		.thumb
 3009              		.thumb_func
 3011              	opencoap_handle_stateless_proxy:
 3012              	.LFB11:
1076:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1077:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_handle_stateless_proxy(OpenQueueEntry_t *msg,
1078:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_header_iht* header,
1079:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht* incomingOptions,
1080:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t incomingOptionsLen) {
 3013              		.loc 1 1080 0
 3014              		.cfi_startproc
 3015              		@ args = 0, pretend = 0, frame = 168
 3016              		@ frame_needed = 1, uses_anonymous_args = 0
 3017 1304 90B5     		push	{r4, r7, lr}
 3018              		.cfi_def_cfa_offset 12
 3019              		.cfi_offset 4, -12
 3020              		.cfi_offset 7, -8
 3021              		.cfi_offset 14, -4
 3022 1306 ADB0     		sub	sp, sp, #180
 3023              		.cfi_def_cfa_offset 192
 3024 1308 02AF     		add	r7, sp, #8
 3025              		.cfi_def_cfa 7, 184
 3026 130a F860     		str	r0, [r7, #12]
 3027 130c B960     		str	r1, [r7, #8]
 3028 130e 7A60     		str	r2, [r7, #4]
 3029 1310 FB70     		strb	r3, [r7, #3]
1081:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint16_t portNumber;
1082:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_iht* statelessProxy;
1083:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t i;
1084:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     coap_option_iht outgoingOptions[MAX_COAP_OPTIONS];
1085:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t outgoingOptionsLen;
1086:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t                   option_count;
1087:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t                   option_index;
1088:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     open_addr_t eui64;
1089:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     open_addr_t destIP;
1090:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     open_addr_t link_local_prefix;
1091:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1092:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     option_count = opencoap_find_option(incomingOptions, incomingOptionsLen, COAP_OPTION_NUM_STATEL
 3030              		.loc 1 1092 0
 3031 1312 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 3032 1314 07F14B03 		add	r3, r7, #75
 3033 1318 7868     		ldr	r0, [r7, #4]
 3034 131a 1146     		mov	r1, r2
 3035 131c 2822     		movs	r2, #40
 3036 131e FFF7FEFF 		bl	opencoap_find_option
 3037 1322 0346     		mov	r3, r0
 3038 1324 87F89D30 		strb	r3, [r7, #157]
1093:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if(option_count >= 1)
 3039              		.loc 1 1093 0
 3040 1328 97F89D30 		ldrb	r3, [r7, #157]	@ zero_extendqisi2
 3041 132c 002B     		cmp	r3, #0
 3042 132e 07D0     		beq	.L176
1094:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     {
1095:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       statelessProxy = &incomingOptions[option_index];
 3043              		.loc 1 1095 0
 3044 1330 97F84B30 		ldrb	r3, [r7, #75]	@ zero_extendqisi2
 3045 1334 DB00     		lsls	r3, r3, #3
 3046 1336 7A68     		ldr	r2, [r7, #4]
 3047 1338 1344     		add	r3, r3, r2
 3048 133a C7F8A030 		str	r3, [r7, #160]
 3049 133e 02E0     		b	.L177
 3050              	.L176:
1096:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1097:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     else
1098:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     {
1099:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       statelessProxy = NULL;
 3051              		.loc 1 1099 0
 3052 1340 0023     		movs	r3, #0
 3053 1342 C7F8A030 		str	r3, [r7, #160]
 3054              	.L177:
1100:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1101:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (statelessProxy == NULL) {
 3055              		.loc 1 1101 0
 3056 1346 D7F8A030 		ldr	r3, [r7, #160]
 3057 134a 002B     		cmp	r3, #0
 3058 134c 00D1     		bne	.L178
1102:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         return;
 3059              		.loc 1 1102 0
 3060 134e 9CE0     		b	.L175
 3061              	.L178:
1103:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1104:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // parse the value of Stateless Proxy
1105:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (statelessProxy->length < 8) {
 3062              		.loc 1 1105 0
 3063 1350 D7F8A030 		ldr	r3, [r7, #160]
 3064 1354 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3065 1356 072B     		cmp	r3, #7
 3066 1358 00D8     		bhi	.L180
1106:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         return;
 3067              		.loc 1 1106 0
 3068 135a 96E0     		b	.L175
 3069              	.L180:
1107:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1108:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     eui64.type = ADDR_64B;
 3070              		.loc 1 1108 0
 3071 135c 0223     		movs	r3, #2
 3072 135e 87F83830 		strb	r3, [r7, #56]
1109:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     memcpy(eui64.addr_64b, statelessProxy->pValue, 8);
 3073              		.loc 1 1109 0
 3074 1362 D7F8A030 		ldr	r3, [r7, #160]
 3075 1366 5A68     		ldr	r2, [r3, #4]
 3076 1368 07F13903 		add	r3, r7, #57
 3077 136c 1168     		ldr	r1, [r2]	@ unaligned
 3078 136e 5268     		ldr	r2, [r2, #4]	@ unaligned
 3079 1370 1960     		str	r1, [r3]	@ unaligned
 3080 1372 5A60     		str	r2, [r3, #4]	@ unaligned
1110:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1111:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // use link-local prefix to forward the response
1112:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     memset(&link_local_prefix, 0x00, sizeof(open_addr_t));
 3081              		.loc 1 1112 0
 3082 1374 07F11003 		add	r3, r7, #16
 3083 1378 1846     		mov	r0, r3
 3084 137a 0021     		movs	r1, #0
 3085 137c 1122     		movs	r2, #17
 3086 137e FFF7FEFF 		bl	memset
1113:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     link_local_prefix.type = ADDR_PREFIX;
 3087              		.loc 1 1113 0
 3088 1382 0523     		movs	r3, #5
 3089 1384 3B74     		strb	r3, [r7, #16]
1114:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     link_local_prefix.prefix[0] = 0xfe;
 3090              		.loc 1 1114 0
 3091 1386 FE23     		movs	r3, #254
 3092 1388 7B74     		strb	r3, [r7, #17]
1115:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     link_local_prefix.prefix[1] = 0x80;
 3093              		.loc 1 1115 0
 3094 138a 8023     		movs	r3, #128
 3095 138c BB74     		strb	r3, [r7, #18]
1116:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1117:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     packetfunctions_mac64bToIp128b(&link_local_prefix, &eui64, &destIP);
 3096              		.loc 1 1117 0
 3097 138e 07F11001 		add	r1, r7, #16
 3098 1392 07F13802 		add	r2, r7, #56
 3099 1396 07F12403 		add	r3, r7, #36
 3100 139a 0846     		mov	r0, r1
 3101 139c 1146     		mov	r1, r2
 3102 139e 1A46     		mov	r2, r3
 3103 13a0 FFF7FEFF 		bl	packetfunctions_mac64bToIp128b
1118:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1119:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (statelessProxy->length == 10) {
 3104              		.loc 1 1119 0
 3105 13a4 D7F8A030 		ldr	r3, [r7, #160]
 3106 13a8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3107 13aa 0A2B     		cmp	r3, #10
 3108 13ac 0AD1     		bne	.L181
1120:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         portNumber = packetfunctions_ntohs(&statelessProxy->pValue[8]);
 3109              		.loc 1 1120 0
 3110 13ae D7F8A030 		ldr	r3, [r7, #160]
 3111 13b2 5B68     		ldr	r3, [r3, #4]
 3112 13b4 0833     		adds	r3, r3, #8
 3113 13b6 1846     		mov	r0, r3
 3114 13b8 FFF7FEFF 		bl	packetfunctions_ntohs
 3115 13bc 0346     		mov	r3, r0
 3116 13be A7F8A630 		strh	r3, [r7, #166]	@ movhi
 3117 13c2 0AE0     		b	.L182
 3118              	.L181:
1121:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1122:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     else if (statelessProxy->length == 8) {
 3119              		.loc 1 1122 0
 3120 13c4 D7F8A030 		ldr	r3, [r7, #160]
 3121 13c8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3122 13ca 082B     		cmp	r3, #8
 3123 13cc 04D1     		bne	.L183
1123:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         portNumber = WKP_UDP_COAP;
 3124              		.loc 1 1123 0
 3125 13ce 41F23363 		movw	r3, #5683
 3126 13d2 A7F8A630 		strh	r3, [r7, #166]	@ movhi
 3127 13d6 00E0     		b	.L182
 3128              	.L183:
1124:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1125:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     else {
1126:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         // unsupported
1127:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         return;
 3129              		.loc 1 1127 0
 3130 13d8 57E0     		b	.L175
 3131              	.L182:
1128:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1129:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1130:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingOptionsLen = 0;
 3132              		.loc 1 1130 0
 3133 13da 0023     		movs	r3, #0
 3134 13dc 87F89E30 		strb	r3, [r7, #158]
1131:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1132:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // process options
1133:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     for (i = 0; i < incomingOptionsLen; i++) {
 3135              		.loc 1 1133 0
 3136 13e0 0023     		movs	r3, #0
 3137 13e2 87F89F30 		strb	r3, [r7, #159]
 3138 13e6 3CE0     		b	.L184
 3139              	.L187:
1134:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_STATELESSPROXY) {
 3140              		.loc 1 1134 0
 3141 13e8 97F89F30 		ldrb	r3, [r7, #159]	@ zero_extendqisi2
 3142 13ec DB00     		lsls	r3, r3, #3
 3143 13ee 7A68     		ldr	r2, [r7, #4]
 3144 13f0 1344     		add	r3, r3, r2
 3145 13f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3146 13f4 282B     		cmp	r3, #40
 3147 13f6 00D1     		bne	.L185
1135:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             continue;
 3148              		.loc 1 1135 0
 3149 13f8 2EE0     		b	.L186
 3150              	.L185:
1136:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         }
1137:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptions[outgoingOptionsLen].type = incomingOptions[i].type;
 3151              		.loc 1 1137 0
 3152 13fa 97F89E30 		ldrb	r3, [r7, #158]	@ zero_extendqisi2
 3153 13fe 97F89F20 		ldrb	r2, [r7, #159]	@ zero_extendqisi2
 3154 1402 D200     		lsls	r2, r2, #3
 3155 1404 7968     		ldr	r1, [r7, #4]
 3156 1406 0A44     		add	r2, r2, r1
 3157 1408 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3158 140a DB00     		lsls	r3, r3, #3
 3159 140c 07F1A801 		add	r1, r7, #168
 3160 1410 0B44     		add	r3, r3, r1
 3161 1412 03F85C2C 		strb	r2, [r3, #-92]
1138:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptions[outgoingOptionsLen].length = incomingOptions[i].length;
 3162              		.loc 1 1138 0
 3163 1416 97F89E30 		ldrb	r3, [r7, #158]	@ zero_extendqisi2
 3164 141a 97F89F20 		ldrb	r2, [r7, #159]	@ zero_extendqisi2
 3165 141e D200     		lsls	r2, r2, #3
 3166 1420 7968     		ldr	r1, [r7, #4]
 3167 1422 0A44     		add	r2, r2, r1
 3168 1424 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 3169 1426 DB00     		lsls	r3, r3, #3
 3170 1428 07F1A801 		add	r1, r7, #168
 3171 142c 0B44     		add	r3, r3, r1
 3172 142e 03F85B2C 		strb	r2, [r3, #-91]
1139:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptions[outgoingOptionsLen].pValue = incomingOptions[i].pValue;
 3173              		.loc 1 1139 0
 3174 1432 97F89E30 		ldrb	r3, [r7, #158]	@ zero_extendqisi2
 3175 1436 97F89F20 		ldrb	r2, [r7, #159]	@ zero_extendqisi2
 3176 143a D200     		lsls	r2, r2, #3
 3177 143c 7968     		ldr	r1, [r7, #4]
 3178 143e 0A44     		add	r2, r2, r1
 3179 1440 5268     		ldr	r2, [r2, #4]
 3180 1442 DB00     		lsls	r3, r3, #3
 3181 1444 07F1A801 		add	r1, r7, #168
 3182 1448 0B44     		add	r3, r3, r1
 3183 144a 43F8582C 		str	r2, [r3, #-88]
1140:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingOptionsLen++;
 3184              		.loc 1 1140 0
 3185 144e 97F89E30 		ldrb	r3, [r7, #158]	@ zero_extendqisi2
 3186 1452 0133     		adds	r3, r3, #1
 3187 1454 87F89E30 		strb	r3, [r7, #158]
 3188              	.L186:
1133:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_STATELESSPROXY) {
 3189              		.loc 1 1133 0 discriminator 2
 3190 1458 97F89F30 		ldrb	r3, [r7, #159]	@ zero_extendqisi2
 3191 145c 0133     		adds	r3, r3, #1
 3192 145e 87F89F30 		strb	r3, [r7, #159]
 3193              	.L184:
1133:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         if (incomingOptions[i].type == COAP_OPTION_NUM_STATELESSPROXY) {
 3194              		.loc 1 1133 0 is_stmt 0 discriminator 1
 3195 1462 97F89F20 		ldrb	r2, [r7, #159]	@ zero_extendqisi2
 3196 1466 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3197 1468 9A42     		cmp	r2, r3
 3198 146a BDD3     		bcc	.L187
1141:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1142:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1143:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     opencoap_forward_message(msg, header, outgoingOptions, outgoingOptionsLen, &destIP, portNumber)
 3199              		.loc 1 1143 0 is_stmt 1
 3200 146c 07F14C02 		add	r2, r7, #76
 3201 1470 97F89E40 		ldrb	r4, [r7, #158]	@ zero_extendqisi2
 3202 1474 07F12403 		add	r3, r7, #36
 3203 1478 0093     		str	r3, [sp]
 3204 147a B7F8A630 		ldrh	r3, [r7, #166]
 3205 147e 0193     		str	r3, [sp, #4]
 3206 1480 F868     		ldr	r0, [r7, #12]
 3207 1482 B968     		ldr	r1, [r7, #8]
 3208 1484 2346     		mov	r3, r4
 3209 1486 FFF7FEFF 		bl	opencoap_forward_message
 3210              	.L175:
1144:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 3211              		.loc 1 1144 0
 3212 148a AC37     		adds	r7, r7, #172
 3213              		.cfi_def_cfa_offset 12
 3214 148c BD46     		mov	sp, r7
 3215              		.cfi_def_cfa_register 13
 3216              		@ sp needed
 3217 148e 90BD     		pop	{r4, r7, pc}
 3218              		.cfi_endproc
 3219              	.LFE11:
 3221              		.align	2
 3222              		.global	opencoap_header_encode
 3223              		.thumb
 3224              		.thumb_func
 3226              	opencoap_header_encode:
 3227              	.LFB12:
1145:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1146:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_header_encode(OpenQueueEntry_t *msg,
1147:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t version,
1148:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_type_t type,
1149:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t TKL,
1150:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_code_t code,
1151:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint16_t messageID,
1152:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t *token) {
 3228              		.loc 1 1152 0
 3229              		.cfi_startproc
 3230              		@ args = 12, pretend = 0, frame = 8
 3231              		@ frame_needed = 1, uses_anonymous_args = 0
 3232 1490 80B5     		push	{r7, lr}
 3233              		.cfi_def_cfa_offset 8
 3234              		.cfi_offset 7, -8
 3235              		.cfi_offset 14, -4
 3236 1492 82B0     		sub	sp, sp, #8
 3237              		.cfi_def_cfa_offset 16
 3238 1494 00AF     		add	r7, sp, #0
 3239              		.cfi_def_cfa_register 7
 3240 1496 7860     		str	r0, [r7, #4]
 3241 1498 0846     		mov	r0, r1
 3242 149a 1146     		mov	r1, r2
 3243 149c 1A46     		mov	r2, r3
 3244 149e 0346     		mov	r3, r0
 3245 14a0 FB70     		strb	r3, [r7, #3]
 3246 14a2 0B46     		mov	r3, r1
 3247 14a4 BB70     		strb	r3, [r7, #2]
 3248 14a6 1346     		mov	r3, r2
 3249 14a8 7B70     		strb	r3, [r7, #1]
1153:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    // pre-pend CoAP header (version,type,TKL,code,messageID,Token)
1154:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    packetfunctions_reserveHeaderSize(msg,4+TKL);
 3250              		.loc 1 1154 0
 3251 14aa 7B78     		ldrb	r3, [r7, #1]
 3252 14ac 0433     		adds	r3, r3, #4
 3253 14ae DBB2     		uxtb	r3, r3
 3254 14b0 7868     		ldr	r0, [r7, #4]
 3255 14b2 1946     		mov	r1, r3
 3256 14b4 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
1155:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->payload[0]                  = (version        << 6) |
 3257              		.loc 1 1155 0
 3258 14b8 7B68     		ldr	r3, [r7, #4]
 3259 14ba 5B68     		ldr	r3, [r3, #4]
 3260 14bc FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 3261 14be 9201     		lsls	r2, r2, #6
 3262 14c0 D1B2     		uxtb	r1, r2
1156:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                                       (type           << 4) |
 3263              		.loc 1 1156 0
 3264 14c2 BA78     		ldrb	r2, [r7, #2]	@ zero_extendqisi2
 3265 14c4 1201     		lsls	r2, r2, #4
1155:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->payload[0]                  = (version        << 6) |
 3266              		.loc 1 1155 0
 3267 14c6 D2B2     		uxtb	r2, r2
 3268 14c8 0A43     		orrs	r2, r2, r1
 3269 14ca D1B2     		uxtb	r1, r2
 3270 14cc 7A78     		ldrb	r2, [r7, #1]	@ zero_extendqisi2
 3271 14ce 0A43     		orrs	r2, r2, r1
 3272 14d0 D2B2     		uxtb	r2, r2
 3273 14d2 D2B2     		uxtb	r2, r2
 3274 14d4 1A70     		strb	r2, [r3]
1157:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                                       (TKL            << 0);
1158:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->payload[1]                  = code;
 3275              		.loc 1 1158 0
 3276 14d6 7B68     		ldr	r3, [r7, #4]
 3277 14d8 5B68     		ldr	r3, [r3, #4]
 3278 14da 0133     		adds	r3, r3, #1
 3279 14dc 3A7C     		ldrb	r2, [r7, #16]
 3280 14de 1A70     		strb	r2, [r3]
1159:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->payload[2]                  = (messageID>>8) & 0xff;
 3281              		.loc 1 1159 0
 3282 14e0 7B68     		ldr	r3, [r7, #4]
 3283 14e2 5B68     		ldr	r3, [r3, #4]
 3284 14e4 0233     		adds	r3, r3, #2
 3285 14e6 BA8A     		ldrh	r2, [r7, #20]
 3286 14e8 120A     		lsrs	r2, r2, #8
 3287 14ea 92B2     		uxth	r2, r2
 3288 14ec D2B2     		uxtb	r2, r2
 3289 14ee 1A70     		strb	r2, [r3]
1160:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    msg->payload[3]                  = (messageID>>0) & 0xff;
 3290              		.loc 1 1160 0
 3291 14f0 7B68     		ldr	r3, [r7, #4]
 3292 14f2 5B68     		ldr	r3, [r3, #4]
 3293 14f4 0333     		adds	r3, r3, #3
 3294 14f6 BA8A     		ldrh	r2, [r7, #20]	@ movhi
 3295 14f8 D2B2     		uxtb	r2, r2
 3296 14fa 1A70     		strb	r2, [r3]
1161:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1162:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****    memcpy(&msg->payload[4],token,TKL);
 3297              		.loc 1 1162 0
 3298 14fc 7B68     		ldr	r3, [r7, #4]
 3299 14fe 5B68     		ldr	r3, [r3, #4]
 3300 1500 1A1D     		adds	r2, r3, #4
 3301 1502 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 3302 1504 1046     		mov	r0, r2
 3303 1506 B969     		ldr	r1, [r7, #24]
 3304 1508 1A46     		mov	r2, r3
 3305 150a FFF7FEFF 		bl	memcpy
1163:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 3306              		.loc 1 1163 0
 3307 150e 0837     		adds	r7, r7, #8
 3308              		.cfi_def_cfa_offset 8
 3309 1510 BD46     		mov	sp, r7
 3310              		.cfi_def_cfa_register 13
 3311              		@ sp needed
 3312 1512 80BD     		pop	{r7, pc}
 3313              		.cfi_endproc
 3314              	.LFE12:
 3316              		.align	2
 3317              		.global	opencoap_add_stateless_proxy_option
 3318              		.thumb
 3319              		.thumb_func
 3321              	opencoap_add_stateless_proxy_option:
 3322              	.LFB13:
1164:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1165:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_add_stateless_proxy_option(coap_option_iht* option,
1166:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t* address,
1167:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t addressLen,
1168:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint16_t portNumber) {
 3323              		.loc 1 1168 0
 3324              		.cfi_startproc
 3325              		@ args = 0, pretend = 0, frame = 24
 3326              		@ frame_needed = 1, uses_anonymous_args = 0
 3327 1514 80B5     		push	{r7, lr}
 3328              		.cfi_def_cfa_offset 8
 3329              		.cfi_offset 7, -8
 3330              		.cfi_offset 14, -4
 3331 1516 86B0     		sub	sp, sp, #24
 3332              		.cfi_def_cfa_offset 32
 3333 1518 00AF     		add	r7, sp, #0
 3334              		.cfi_def_cfa_register 7
 3335 151a F860     		str	r0, [r7, #12]
 3336 151c B960     		str	r1, [r7, #8]
 3337 151e 1146     		mov	r1, r2
 3338 1520 1A46     		mov	r2, r3
 3339 1522 0B46     		mov	r3, r1
 3340 1524 FB71     		strb	r3, [r7, #7]
 3341 1526 1346     		mov	r3, r2	@ movhi
 3342 1528 BB80     		strh	r3, [r7, #4]	@ movhi
1169:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     uint8_t len;
1170:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1171:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // FIXME due to the lack of space in the 802.15.4 frame
1172:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // we do not encrypt and authenticate the Stateless-Proxy state
1173:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1174:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     len = 0;
 3343              		.loc 1 1174 0
 3344 152a 0023     		movs	r3, #0
 3345 152c FB75     		strb	r3, [r7, #23]
1175:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1176:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // next bytes are address
1177:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     memcpy(&opencoap_vars.statelessProxy.buffer[len], address, addressLen);
 3346              		.loc 1 1177 0
 3347 152e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3348 1530 2833     		adds	r3, r3, #40
 3349 1532 144A     		ldr	r2, .L192
 3350 1534 1A44     		add	r2, r2, r3
 3351 1536 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3352 1538 1046     		mov	r0, r2
 3353 153a B968     		ldr	r1, [r7, #8]
 3354 153c 1A46     		mov	r2, r3
 3355 153e FFF7FEFF 		bl	memcpy
1178:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     len += addressLen;
 3356              		.loc 1 1178 0
 3357 1542 FA7D     		ldrb	r2, [r7, #23]
 3358 1544 FB79     		ldrb	r3, [r7, #7]
 3359 1546 1344     		add	r3, r3, r2
 3360 1548 FB75     		strb	r3, [r7, #23]
1179:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1180:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (portNumber != WKP_UDP_COAP) {
 3361              		.loc 1 1180 0
 3362 154a BB88     		ldrh	r3, [r7, #4]
 3363 154c 41F23362 		movw	r2, #5683
 3364 1550 9342     		cmp	r3, r2
 3365 1552 0BD0     		beq	.L191
1181:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         packetfunctions_htons(portNumber, &opencoap_vars.statelessProxy.buffer[len]);
 3366              		.loc 1 1181 0
 3367 1554 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3368 1556 2833     		adds	r3, r3, #40
 3369 1558 0A4A     		ldr	r2, .L192
 3370 155a 1344     		add	r3, r3, r2
 3371 155c BA88     		ldrh	r2, [r7, #4]
 3372 155e 1046     		mov	r0, r2
 3373 1560 1946     		mov	r1, r3
 3374 1562 FFF7FEFF 		bl	packetfunctions_htons
1182:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         len += 2;
 3375              		.loc 1 1182 0
 3376 1566 FB7D     		ldrb	r3, [r7, #23]
 3377 1568 0233     		adds	r3, r3, #2
 3378 156a FB75     		strb	r3, [r7, #23]
 3379              	.L191:
1183:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1184:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1185:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     option->type = COAP_OPTION_NUM_STATELESSPROXY;
 3380              		.loc 1 1185 0
 3381 156c FB68     		ldr	r3, [r7, #12]
 3382 156e 2822     		movs	r2, #40
 3383 1570 1A70     		strb	r2, [r3]
1186:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     option->length = len;
 3384              		.loc 1 1186 0
 3385 1572 FB68     		ldr	r3, [r7, #12]
 3386 1574 FA7D     		ldrb	r2, [r7, #23]
 3387 1576 5A70     		strb	r2, [r3, #1]
1187:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     option->pValue = opencoap_vars.statelessProxy.buffer;
 3388              		.loc 1 1187 0
 3389 1578 FB68     		ldr	r3, [r7, #12]
 3390 157a 034A     		ldr	r2, .L192+4
 3391 157c 5A60     		str	r2, [r3, #4]
1188:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 3392              		.loc 1 1188 0
 3393 157e 1837     		adds	r7, r7, #24
 3394              		.cfi_def_cfa_offset 8
 3395 1580 BD46     		mov	sp, r7
 3396              		.cfi_def_cfa_register 13
 3397              		@ sp needed
 3398 1582 80BD     		pop	{r7, pc}
 3399              	.L193:
 3400              		.align	2
 3401              	.L192:
 3402 1584 00000000 		.word	opencoap_vars
 3403 1588 28000000 		.word	opencoap_vars+40
 3404              		.cfi_endproc
 3405              	.LFE13:
 3407              		.align	2
 3408              		.global	opencoap_forward_message
 3409              		.thumb
 3410              		.thumb_func
 3412              	opencoap_forward_message:
 3413              	.LFB14:
1189:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1190:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** void opencoap_forward_message(OpenQueueEntry_t *msg,
1191:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_header_iht* header,
1192:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         coap_option_iht* outgoingOptions,
1193:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint8_t outgoingOptionsLen,
1194:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         open_addr_t* destIP,
1195:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         uint16_t destPortNumber) {
 3414              		.loc 1 1195 0
 3415              		.cfi_startproc
 3416              		@ args = 8, pretend = 0, frame = 24
 3417              		@ frame_needed = 1, uses_anonymous_args = 0
 3418 158c F0B5     		push	{r4, r5, r6, r7, lr}
 3419              		.cfi_def_cfa_offset 20
 3420              		.cfi_offset 4, -20
 3421              		.cfi_offset 5, -16
 3422              		.cfi_offset 6, -12
 3423              		.cfi_offset 7, -8
 3424              		.cfi_offset 14, -4
 3425 158e 8BB0     		sub	sp, sp, #44
 3426              		.cfi_def_cfa_offset 64
 3427 1590 04AF     		add	r7, sp, #16
 3428              		.cfi_def_cfa 7, 48
 3429 1592 F860     		str	r0, [r7, #12]
 3430 1594 B960     		str	r1, [r7, #8]
 3431 1596 7A60     		str	r2, [r7, #4]
 3432 1598 FB70     		strb	r3, [r7, #3]
1196:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1197:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     OpenQueueEntry_t* outgoingPacket;
1198:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1199:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingPacket = openqueue_getFreePacketBuffer(COMPONENT_OPENCOAP);
 3433              		.loc 1 1199 0
 3434 159a 1820     		movs	r0, #24
 3435 159c FFF7FEFF 		bl	openqueue_getFreePacketBuffer
 3436 15a0 7861     		str	r0, [r7, #20]
1200:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (outgoingPacket==NULL) {
 3437              		.loc 1 1200 0
 3438 15a2 7B69     		ldr	r3, [r7, #20]
 3439 15a4 002B     		cmp	r3, #0
 3440 15a6 09D1     		bne	.L195
1201:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         openserial_printError(
 3441              		.loc 1 1201 0
 3442 15a8 1820     		movs	r0, #24
 3443 15aa 2C21     		movs	r1, #44
 3444 15ac 0022     		movs	r2, #0
 3445 15ae 0023     		movs	r3, #0
 3446 15b0 FFF7FEFF 		bl	openserial_printError
1202:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 COMPONENT_OPENCOAP,
1203:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 ERR_NO_FREE_PACKET_BUFFER,
1204:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 (errorparameter_t)0,
1205:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****                 (errorparameter_t)0
1206:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         );
1207:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openqueue_freePacketBuffer(outgoingPacket);
 3447              		.loc 1 1207 0
 3448 15b4 7869     		ldr	r0, [r7, #20]
 3449 15b6 FFF7FEFF 		bl	openqueue_freePacketBuffer
1208:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       return;
 3450              		.loc 1 1208 0
 3451 15ba 5BE0     		b	.L194
 3452              	.L195:
1209:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1210:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1211:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // take ownership over that packet and set destination IP and port
1212:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingPacket->creator                   = COMPONENT_OPENCOAP;
 3453              		.loc 1 1212 0
 3454 15bc 7B69     		ldr	r3, [r7, #20]
 3455 15be 1822     		movs	r2, #24
 3456 15c0 1A70     		strb	r2, [r3]
1213:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingPacket->owner                     = COMPONENT_OPENCOAP;
 3457              		.loc 1 1213 0
 3458 15c2 7B69     		ldr	r3, [r7, #20]
 3459 15c4 1822     		movs	r2, #24
 3460 15c6 5A70     		strb	r2, [r3, #1]
1214:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingPacket->l4_destination_port       = destPortNumber;
 3461              		.loc 1 1214 0
 3462 15c8 7B69     		ldr	r3, [r7, #20]
 3463 15ca BA8E     		ldrh	r2, [r7, #52]	@ movhi
 3464 15cc 5A82     		strh	r2, [r3, #18]	@ movhi
1215:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingPacket->l3_destinationAdd.type    = ADDR_128B;
 3465              		.loc 1 1215 0
 3466 15ce 7B69     		ldr	r3, [r7, #20]
 3467 15d0 0322     		movs	r2, #3
 3468 15d2 5A76     		strb	r2, [r3, #25]
1216:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     memcpy(outgoingPacket->l3_destinationAdd.addr_128b,destIP->addr_128b,16);
 3469              		.loc 1 1216 0
 3470 15d4 7B69     		ldr	r3, [r7, #20]
 3471 15d6 03F11A02 		add	r2, r3, #26
 3472 15da 3B6B     		ldr	r3, [r7, #48]
 3473 15dc 0133     		adds	r3, r3, #1
 3474 15de 1046     		mov	r0, r2
 3475 15e0 1946     		mov	r1, r3
 3476 15e2 1022     		movs	r2, #16
 3477 15e4 FFF7FEFF 		bl	memcpy
1217:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1218:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // fill in source port number
1219:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     outgoingPacket->l4_sourcePortORicmpv6Type = WKP_UDP_COAP;
 3478              		.loc 1 1219 0
 3479 15e8 7B69     		ldr	r3, [r7, #20]
 3480 15ea 41F23362 		movw	r2, #5683
 3481 15ee 1A82     		strh	r2, [r3, #16]	@ movhi
1220:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1221:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // fill payload
1222:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if (msg->length) {
 3482              		.loc 1 1222 0
 3483 15f0 FB68     		ldr	r3, [r7, #12]
 3484 15f2 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 3485 15f4 002B     		cmp	r3, #0
 3486 15f6 18D0     		beq	.L197
1223:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         packetfunctions_reserveHeaderSize(outgoingPacket,msg->length);
 3487              		.loc 1 1223 0
 3488 15f8 FB68     		ldr	r3, [r7, #12]
 3489 15fa 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 3490 15fc 7869     		ldr	r0, [r7, #20]
 3491 15fe 1946     		mov	r1, r3
 3492 1600 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
1224:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         memcpy(outgoingPacket->payload, msg->payload, msg->length);
 3493              		.loc 1 1224 0
 3494 1604 7B69     		ldr	r3, [r7, #20]
 3495 1606 5968     		ldr	r1, [r3, #4]
 3496 1608 FB68     		ldr	r3, [r7, #12]
 3497 160a 5A68     		ldr	r2, [r3, #4]
 3498 160c FB68     		ldr	r3, [r7, #12]
 3499 160e 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 3500 1610 0846     		mov	r0, r1
 3501 1612 1146     		mov	r1, r2
 3502 1614 1A46     		mov	r2, r3
 3503 1616 FFF7FEFF 		bl	memcpy
1225:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         packetfunctions_reserveHeaderSize(outgoingPacket, 1);
 3504              		.loc 1 1225 0
 3505 161a 7869     		ldr	r0, [r7, #20]
 3506 161c 0121     		movs	r1, #1
 3507 161e FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
1226:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****         outgoingPacket->payload[0] = COAP_PAYLOAD_MARKER;
 3508              		.loc 1 1226 0
 3509 1622 7B69     		ldr	r3, [r7, #20]
 3510 1624 5B68     		ldr	r3, [r3, #4]
 3511 1626 FF22     		movs	r2, #255
 3512 1628 1A70     		strb	r2, [r3]
 3513              	.L197:
1227:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1228:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1229:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // encode options
1230:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     opencoap_options_encode(outgoingPacket, outgoingOptions, outgoingOptionsLen, COAP_OPTION_CLASS_
 3514              		.loc 1 1230 0
 3515 162a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3516 162c 7869     		ldr	r0, [r7, #20]
 3517 162e 7968     		ldr	r1, [r7, #4]
 3518 1630 1A46     		mov	r2, r3
 3519 1632 0323     		movs	r3, #3
 3520 1634 FFF7FEFF 		bl	opencoap_options_encode
1231:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1232:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     // encode CoAP header
1233:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     opencoap_header_encode(outgoingPacket,
 3521              		.loc 1 1233 0
 3522 1638 BB68     		ldr	r3, [r7, #8]
 3523 163a 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
 3524 163c BB68     		ldr	r3, [r7, #8]
 3525 163e 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3526 1640 BB68     		ldr	r3, [r7, #8]
 3527 1642 9C78     		ldrb	r4, [r3, #2]	@ zero_extendqisi2
 3528 1644 BB68     		ldr	r3, [r7, #8]
 3529 1646 D978     		ldrb	r1, [r3, #3]	@ zero_extendqisi2
 3530 1648 BB68     		ldr	r3, [r7, #8]
 3531 164a 9A88     		ldrh	r2, [r3, #4]
1234:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->Ver,
1235:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->T,
1236:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->TKL,
1237:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->Code,
1238:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->messageID,
1239:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->token);
 3532              		.loc 1 1239 0
 3533 164c BB68     		ldr	r3, [r7, #8]
 3534 164e 0633     		adds	r3, r3, #6
1233:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****             header->Ver,
 3535              		.loc 1 1233 0
 3536 1650 0091     		str	r1, [sp]
 3537 1652 0192     		str	r2, [sp, #4]
 3538 1654 0293     		str	r3, [sp, #8]
 3539 1656 7869     		ldr	r0, [r7, #20]
 3540 1658 3146     		mov	r1, r6
 3541 165a 2A46     		mov	r2, r5
 3542 165c 2346     		mov	r3, r4
 3543 165e FFF7FEFF 		bl	opencoap_header_encode
1240:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** 
1241:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     if ((openudp_send(outgoingPacket))==E_FAIL) {
 3544              		.loc 1 1241 0
 3545 1662 7869     		ldr	r0, [r7, #20]
 3546 1664 FFF7FEFF 		bl	openudp_send
 3547 1668 0346     		mov	r3, r0
 3548 166a 012B     		cmp	r3, #1
 3549 166c 02D1     		bne	.L194
1242:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****       openqueue_freePacketBuffer(outgoingPacket);
 3550              		.loc 1 1242 0
 3551 166e 7869     		ldr	r0, [r7, #20]
 3552 1670 FFF7FEFF 		bl	openqueue_freePacketBuffer
 3553              	.L194:
1243:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c ****     }
1244:build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.c **** }
 3554              		.loc 1 1244 0
 3555 1674 1C37     		adds	r7, r7, #28
 3556              		.cfi_def_cfa_offset 20
 3557 1676 BD46     		mov	sp, r7
 3558              		.cfi_def_cfa_register 13
 3559              		@ sp needed
 3560 1678 F0BD     		pop	{r4, r5, r6, r7, pc}
 3561              		.cfi_endproc
 3562              	.LFE14:
 3564              	.Letext0:
 3565              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 3566              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 3567              		.file 4 "inc/opendefs.h"
 3568              		.file 5 "openstack/04-TRAN/openudp.h"
 3569              		.file 6 "build/openmote-cc2538_armgcc/openapps/opencoap/opencoap.h"
 3570              		.file 7 "bsp/boards/openmote-cc2538/board_info.h"
 3571              		.file 8 "openstack/cross-layers/idmanager.h"
 3572              		.file 9 "openstack/03b-IPv6/icmpv6rpl.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 opencoap.c
     /tmp/ccHrGDPX.s:19     .rodata:0000000000000000 $d
     /tmp/ccHrGDPX.s:22     .rodata:0000000000000000 rreg_uriquery
     /tmp/ccHrGDPX.s:27     .rodata:0000000000000008 infoBoardname
     /tmp/ccHrGDPX.s:32     .rodata:0000000000000010 infouCName
     /tmp/ccHrGDPX.s:37     .rodata:0000000000000018 infoRadioName
     /tmp/ccHrGDPX.s:42     .rodata:0000000000000024 infoStackName
     /tmp/ccHrGDPX.s:47     .rodata:0000000000000030 ipAddr_ipsoRD
     /tmp/ccHrGDPX.s:67     .rodata:0000000000000040 ipAddr_motesEecs
     /tmp/ccHrGDPX.s:87     .rodata:0000000000000050 ipAddr_local
     /tmp/ccHrGDPX.s:107    .rodata:0000000000000060 ipAddr_motedata
     /tmp/ccHrGDPX.s:127    .rodata:0000000000000070 ipAddr_ringmaster
     /tmp/ccHrGDPX.s:147    .rodata:0000000000000080 linklocalprefix
     /tmp/ccHrGDPX.s:159    .rodata:0000000000000088 all_routers_multicast
                            *COM*:0000000000000040 opencoap_vars
     /tmp/ccHrGDPX.s:178    .text:0000000000000000 $t
     /tmp/ccHrGDPX.s:183    .text:0000000000000000 opencoap_init
     /tmp/ccHrGDPX.s:266    .text:0000000000000070 $d
     /tmp/ccHrGDPX.s:277    .text:000000000000007c opencoap_receive
     /tmp/ccHrGDPX.s:1403   .text:0000000000000924 opencoap_sendDone
     /tmp/ccHrGDPX.s:272    .text:000000000000007c $t
     /tmp/ccHrGDPX.s:2482   .text:0000000000000fa8 opencoap_options_parse
     /tmp/ccHrGDPX.s:2372   .text:0000000000000f20 opencoap_find_option
     /tmp/ccHrGDPX.s:3011   .text:0000000000001304 opencoap_handle_stateless_proxy
     /tmp/ccHrGDPX.s:2757   .text:0000000000001124 opencoap_handle_proxy_scheme
     /tmp/ccHrGDPX.s:1060   .text:000000000000069c $d
     /tmp/ccHrGDPX.s:1063   .text:00000000000006a0 $t
     /tmp/ccHrGDPX.s:2059   .text:0000000000000ce8 opencoap_options_encode
     /tmp/ccHrGDPX.s:3226   .text:0000000000001490 opencoap_header_encode
     /tmp/ccHrGDPX.s:1495   .text:0000000000000994 $d
     /tmp/ccHrGDPX.s:1499   .text:0000000000000998 $t
     /tmp/ccHrGDPX.s:1504   .text:0000000000000998 opencoap_writeLinks
     /tmp/ccHrGDPX.s:1664   .text:0000000000000a84 $d
     /tmp/ccHrGDPX.s:1668   .text:0000000000000a88 $t
     /tmp/ccHrGDPX.s:1673   .text:0000000000000a88 opencoap_register
     /tmp/ccHrGDPX.s:1739   .text:0000000000000acc $d
     /tmp/ccHrGDPX.s:1743   .text:0000000000000ad0 $t
     /tmp/ccHrGDPX.s:1748   .text:0000000000000ad0 opencoap_send
     /tmp/ccHrGDPX.s:1954   .text:0000000000000c18 $d
     /tmp/ccHrGDPX.s:1958   .text:0000000000000c1c $t
     /tmp/ccHrGDPX.s:1963   .text:0000000000000c1c opencoap_get_option_class
     /tmp/ccHrGDPX.s:1988   .text:0000000000000c34 $d
     /tmp/ccHrGDPX.s:2027   .text:0000000000000cd0 $t
     /tmp/ccHrGDPX.s:2363   .text:0000000000000f1c $d
     /tmp/ccHrGDPX.s:2367   .text:0000000000000f20 $t
     /tmp/ccHrGDPX.s:3321   .text:0000000000001514 opencoap_add_stateless_proxy_option
     /tmp/ccHrGDPX.s:3412   .text:000000000000158c opencoap_forward_message
     /tmp/ccHrGDPX.s:3001   .text:00000000000012fc $d
     /tmp/ccHrGDPX.s:3006   .text:0000000000001304 $t
     /tmp/ccHrGDPX.s:3402   .text:0000000000001584 $d
     /tmp/ccHrGDPX.s:3407   .text:000000000000158c $t
                     .debug_frame:0000000000000010 $d
                           .group:0000000000000000 wm4.0.c64f62fd52e22d94e2a6dd9c07eeb43e
                           .group:0000000000000000 wm4.features.h.22.2e382148a0560adabf236cddd4e880f4
                           .group:0000000000000000 wm4._default_types.h.15.933e8edd27a65e0b69af4a865eb623d2
                           .group:0000000000000000 wm4._intsup.h.10.35a45952db64d30146faa63a55c20c1c
                           .group:0000000000000000 wm4._stdint.h.10.f76354baea1c7088202064e6f3d4f5e3
                           .group:0000000000000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:0000000000000000 wm4.toolchain_defs.h.2.e5fd326231d01413e5361944b26cde07
                           .group:0000000000000000 wm4.newlib.h.8.2702bca278809460f0af6fba1d84eb68
                           .group:0000000000000000 wm4.config.h.220.a09b0b0de3c25be3f39d71990e617bff
                           .group:0000000000000000 wm4._ansi.h.23.84af8eb8cd468d25cc5f45f5eb13ec51
                           .group:0000000000000000 wm4.stddef.h.39.daafd3d79fe2f3a84d2d73d7d4e706f8
                           .group:0000000000000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:0000000000000000 wm4._types.h.54.d3d34a3b7f3cc230cd159baf022b4b08
                           .group:0000000000000000 wm4.stddef.h.158.61317cdbfb4026324507d123a50b0fd6
                           .group:0000000000000000 wm4.reent.h.17.8bd9e4098e0428508c282cad794fae43
                           .group:0000000000000000 wm4.cdefs.h.47.e6563c1c3863188ba4ac4eaa2c85b6f1
                           .group:0000000000000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:0000000000000000 wm4.stddef.h.158.a7efb00f6cbc6f43213b50e183c9830c
                           .group:0000000000000000 wm4.stdbool.h.29.1c9ee6859ce8145f7838a4f2549ccec2
                           .group:0000000000000000 wm4.hw_types.h.67.b10589a0806dcc2d274d6fab6b736519
                           .group:0000000000000000 wm4.interrupt.h.41.272fc4ec0e276feb439e7974d0f77eaf
                           .group:0000000000000000 wm4.board_info.h.22.b5c65365e76c8378df4f4b0ed59cbc39
                           .group:0000000000000000 wm4.opendefs.h.23.47191652995b7fa35f12da40c3552cda
                           .group:0000000000000000 wm4.opentimers.h.8.4ddb88466c5d61beaa6758270059ffcf
                           .group:0000000000000000 wm4.opencoap.h.32.4fd89a1f25836020968932a0f7dffe46
                           .group:0000000000000000 wm4.IEEE802154.h.2.38fb510ed33a23a9a0660164e6dfab69
                           .group:0000000000000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:0000000000000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:0000000000000000 wm4.types.h.24.b2be5f53932a9c9d07787288b29b6d75
                           .group:0000000000000000 wm4.types.h.2.e9cec8c90ab35f77d9f499e06ae02400
                           .group:0000000000000000 wm4.types.h.82.82b71f3f44c70e3a459d0f66642b05eb
                           .group:0000000000000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:0000000000000000 wm4.stdio.h.68.a99a2db1e55915cfd1b035cc1e9fcff1
                           .group:0000000000000000 wm4.stdarg.h.31.48e922dd0aaedfb616aafd8a7b7a4949
                           .group:0000000000000000 wm4.openserial.h.32.c1b1c4db184af4a79a2b8ff62d908d4d
                           .group:0000000000000000 wm4.idmanager.h.2.8c0e2159b32ef3125cbb1e984805cbfe
                           .group:0000000000000000 wm4.scheduler.h.2.d8d85f436d0d4b3991926a15b8490cf4
                           .group:0000000000000000 wm4.cryptoengine.h.8.da068b9149b7576990bbc3b5f1e9b415
                           .group:0000000000000000 wm4.icmpv6rpl.h.2.f31802bcce2a0808bf5db39ce34f4322

UNDEFINED SYMBOLS
openrandom_get16b
memcpy
openudp_register
openserial_printError
openqueue_freePacketBuffer
packetfunctions_tossHeader
openoscoap_parse_compressed_COSE
memcmp
openoscoap_unprotect_message
openoscoap_protect_message
packetfunctions_reserveHeaderSize
openudp_send
openoscoap_get_sequence_number
packetfunctions_htons
packetfunctions_ntohs
icmpv6rpl_getRPLDODAGid
memset
packetfunctions_mac64bToIp128b
openqueue_getFreePacketBuffer
